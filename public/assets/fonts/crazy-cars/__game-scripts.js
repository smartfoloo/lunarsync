class ScriptUtils{static extendScriptType(t,e){const p=window[e]||pc.ScriptType;Object.setPrototypeOf(t,p),t.prototype=Object.create(p.prototype),t.prototype.constructor=t,pc.registerScript(t,t.name)}}var CameraFollow=pc.createScript("CameraFollow");CameraFollow.attributes.add("target",{type:"entity",title:"Target",description:"The target entity to follow"}),CameraFollow.attributes.add("cameraOffset",{type:"vec3",default:[0,5,-10],title:"Camera Offset",description:"The local space offset with respect to the target entity coordinate system"}),CameraFollow.attributes.add("lerpDivider",{type:"number",min:3,max:20,default:.1,title:"Lerp Divider",description:"divides the distance between camera and target this way the camera wil be set on the target and stays close the father the target goes this distance gives out an error if you set it low"}),CameraFollow.prototype.initialize=function(){this.lerpDivider*=7.5,this.targetPos=new pc.Vec3,this.matrix=new pc.Mat4,this.quat=new pc.Quat,this.vec=new pc.Vec3,this.dist=1,this.target?this.currentPos=this.targetPos:this.currentPos=this.entity.getPosition(),setTimeout((()=>{this.lerpDivider/=7.5}),"1250")},CameraFollow.prototype.updateTargetPosition=function(){var t=this.target.forward;this.vec.set(-t.x,0,-t.z).normalize();var e=Math.atan2(this.vec.x,this.vec.z)*pc.math.RAD_TO_DEG;this.quat.setFromEulerAngles(0,e,0),this.matrix.setTRS(this.target.getPosition(),this.quat,pc.Vec3.ONE),this.targetPos&&this.currentPos&&!isNaN(this.target.getPosition().x)&&(this.matrix.transformPoint(this.cameraOffset,this.targetPos),this.dist=InternFunctions.distanceSq(this.targetPos,this.currentPos))},CameraFollow.prototype.postUpdate=function(t){this.updateTargetPosition(),this.target&&!isNaN(this.target.getPosition().x)&&(this.entity.lookAt(this.target.getPosition()),isNaN(this.dist)||(this.currentPos=InternFunctions.lerp(this.currentPos,this.targetPos,t*(this.dist/this.lerpDivider)),this.entity.setPosition(this.currentPos)))},CameraFollow.prototype.swap=function(t){this.initialize()};var DeathTrigger=pc.createScript("DeathTrigger");DeathTrigger.prototype.initialize=function(){this.entity.collision.on("triggerenter",this.triggerenter,this)},DeathTrigger.prototype.triggerenter=function(t){const e=EntityUtils.getScript(t,Pawn);if(!e)return;const r=e.playerState;if(!r)return;const i=CcGameMode.instance;i&&i.respawnPlayer(r)};var Finish=pc.createScript("finish");Finish.attributes.add("finishImage",{type:"entity"}),Finish.attributes.add("player",{type:"entity"}),Finish.attributes.add("slowDownSpeed",{type:"number"}),Finish.attributes.add("menu",{type:"entity"}),Finish.prototype.finishable=!0,Finish.prototype.initialize=function(){this.entity.collision.on("triggerenter",this.finish,this)},Finish.prototype.update=function(i){!this.finishable&&this.app.timeScale>=5e-4?this.app.timeScale-=i*this.slowDownSpeed:this.finishable||(this.finishable=!0,this.menu.enabled=!0,console.log("completed"))},Finish.prototype.finish=function(){this.finishable&&(this.finishImage.enabled=!0,this.finishable=!1,this.finishImage.script.finishDisplay.showText())};var FinishDisplay=pc.createScript("finishDisplay");FinishDisplay.attributes.add("bar",{type:"entity"}),FinishDisplay.attributes.add("text",{type:"entity"}),FinishDisplay.attributes.add("sideOffset",{type:"number"}),FinishDisplay.attributes.add("showSpeed",{type:"number"}),FinishDisplay.prototype.showDisplay=!1,FinishDisplay.prototype.barDone=!1,FinishDisplay.prototype.update=function(i){var t;this.showDisplay&&(this.barDone?((t=this.text.getPosition()).x+=this.showSpeed,t.x>=0&&(t.x=0,this.showDisplay=!1),this.text.setPosition(t)):((t=this.bar.getPosition()).x+=this.showSpeed,t.x>=0&&(t.x=0,this.barDone=!0),this.bar.setPosition(t)))},FinishDisplay.prototype.showText=function(){this.barDone=!1,this.showDisplay=!0;var i=this.bar.getPosition();i.x-=this.sideOffset,this.text.setPosition(i),this.bar.setPosition(i)};var LevelManager=pc.createScript("levelManager");LevelManager.attributes.add("levelParent",{type:"entity"}),LevelManager.attributes.add("nextLevelButton",{type:"entity"}),LevelManager.attributes.add("uiMaster",{type:"entity"}),LevelManager.prototype.currentLevel=0,LevelManager.prototype.initialize=function(){this.loadLevel(this.currentLevel),this.nextLevelButton.element.on("click",this.nextLevel,this)},LevelManager.prototype.loadLevel=function(e){this.entity.script.respawnManagerScript.setSpawnPoint(pc.Vec3.ZERO,0),this.entity.script.respawnManagerScript.respawn();for(var t=0;t<this.levelParent.children.length;t++)this.levelParent.children[t].enabled=t==e;this.app.timeScale=1;for(t=0;t<this.uiMaster.children.length;t++)this.uiMaster.children[t].enabled=!1},LevelManager.prototype.nextLevel=function(){this.currentLevel++,this.currentLevel==this.levelParent.children.length&&(this.currentLevel=0),this.loadLevel(this.currentLevel)};var SkinManager=pc.createScript("skinManager");SkinManager.attributes.add("skinButtonParent",{type:"entity"}),SkinManager.attributes.add("skinParent",{type:"entity"}),SkinManager.prototype.currentSkin=0,SkinManager.prototype.initialize=function(){for(var t=0;t<this.skinButtonParent.children.length;t++)this.skinButtonParent.children[t].script.skinButton.setBaseInfo(t,this.entity),this.skinButtonParent.children[t].script.skinButton.setActive(t==this.currentSkin),this.skinParent.children[t].enabled=t==this.currentSkin},SkinManager.prototype.setSkin=function(t){this.currentSkin=t;for(var n=0;n<this.skinButtonParent.children.length;n++)this.skinButtonParent.children[n].script.skinButton.setActive(n==this.currentSkin),this.skinParent.children[n].enabled=n==this.currentSkin};var SkinButton=pc.createScript("skinButton");SkinButton.attributes.add("selected",{type:"entity"}),SkinButton.prototype.index=0,SkinButton.prototype.managerObject=null,SkinButton.prototype.initialize=function(){this.entity.element.on("click",this.setSkin,this)},SkinButton.prototype.setBaseInfo=function(t,n){this.index=t,this.managerObject=n},SkinButton.prototype.setActive=function(t){this.selected.enabled=t},SkinButton.prototype.setSkin=function(){this.managerObject.script.skinManager.setSkin(this.index)};var FromToButtonScript=pc.createScript("fromToButtonScript");FromToButtonScript.attributes.add("from",{type:"entity"}),FromToButtonScript.attributes.add("to",{type:"entity"}),FromToButtonScript.prototype.initialize=function(){this.entity.element.on("click",this.swapMenu,this)},FromToButtonScript.prototype.swapMenu=function(){this.from&&(this.from.enabled=!1),this.to&&(this.to.enabled=!0)};var Exhaust=pc.createScript("exhaust");Exhaust.prototype.postInitialize=function(){(this._car=EntityUtils.getScriptInParent(this.entity,Vehicle))||(this.enabled=!1)},Exhaust.prototype.update=function(t){const e=this._car;if(!e)return;const i=e.speed;e.engineForce>0&&i>0&&i<55?this.entity.particlesystem.play():this.entity.particlesystem.stop()};var Item=pc.createScript("item");Item.attributes.add("id",{type:"number"}),Item.attributes.add("cost",{type:"number"}),Item.attributes.add("name",{type:"string"}),Item.attributes.add("unlockWith",{type:"number",enum:[{Empty:0},{Stars:1},{Wrench:2},{Video:3}],default:0}),Item.attributes.add("visualWheels",{type:"entity",title:"visualWheels",array:!0}),Item.attributes.add("carSound",{type:"entity",title:"carSound"}),Item.attributes.add("minPitch",{type:"number",title:"minPitch",default:.65}),Item.attributes.add("maxPitch",{type:"number",title:"maxPitch",default:1.35});var CollectableBox=pc.createScript("collectableBox");CollectableBox.prototype.initialize=function(){this.app.on("onCollectableBoxSetup",this.collectableBoxSettup,this),this.app.on("onCollectableChange",this.onCollectableChange,this),this.app.on("onWrenchChange",this.onWrenchChange,this)},CollectableBox.prototype.collectableBoxSettup=function(t,e){this.starText.element.text=t,this.wrenchText.element.text=e},CollectableBox.prototype.onCollectableChange=function(t){this.starText.element.text=t},CollectableBox.prototype.onWrenchChange=function(t){this.wrenchText.element.text=t},CollectableBox.attributes.add("starText",{type:"entity"}),CollectableBox.attributes.add("wrenchText",{type:"entity"});var CollectablePickUp=pc.createScript("collectablePickUp");CollectablePickUp.prototype.initialize=function(){this.collectableValue=0,this.reactivateTime=1e3*this.reactivateTime,this.triggerEntity.collision.on("triggerenter",this.pickUp,this),this.ghostCollectable.enabled=!0,this.ghostCollectable.setLocalScale(new pc.Vec3(0,0,0))},CollectablePickUp.prototype.pickUp=function(t){if(!t.tags.has("playerCar"))return;const e=CcAccount.main.currency,i=this.type-1;e.addAmount(i,this.value);var a=this.particle;this.spawnedParticle=a.resource.instantiate(),this.spawnedParticle.setPosition(this.triggerEntity.getLocalPosition()),this.entity.addChild(this.spawnedParticle),this.triggerEntity.enabled=!1,this.secondStar.setLocalScale(new pc.Vec3(0,0,0)),this.ghostCollectable.setLocalScale(new pc.Vec3(1,1,1)),setTimeout((()=>{this.triggerEntity.enabled=!0,this.ghostCollectable.setLocalScale(new pc.Vec3(0,0,0)),this.secondStar.setLocalScale(new pc.Vec3(1,1,1))}),this.reactivateTime)},CollectablePickUp.attributes.add("triggerEntity",{type:"entity"}),CollectablePickUp.attributes.add("secondStar",{type:"entity"}),CollectablePickUp.attributes.add("ghostCollectable",{type:"entity"}),CollectablePickUp.attributes.add("value",{type:"number"}),CollectablePickUp.attributes.add("reactivateTime",{type:"number"}),CollectablePickUp.attributes.add("particle",{type:"asset"}),CollectablePickUp.attributes.add("type",{type:"number",enum:[{Stars:1},{Wrench:2}],default:1});var WayPointSystem=pc.createScript("wayPointSystem");WayPointSystem.prototype.initialize=function(){this._currentIndex=0,this.isStarted=!1,this.goingUp=!0,this.distanceForNextPoint=this.distanceForNextPoint*this.distanceForNextPoint,this._target=this.wayPointSystemPoints[0],this.movementSpeed=this.movementSpeed/500,setTimeout((()=>{this.isStarted=!0}),1e3*this.delayedStart)},WayPointSystem.prototype.update=function(t){if(null!==this._target){this._myPosition=this.entity.getPosition();const t=this._target.getPosition();InternFunctions.distance(t,this._myPosition)<=this.distanceForNextPoint&&this.nextTarget()}},WayPointSystem.prototype.postUpdate=function(t){this.isStarted&&(this.move(),this.rotateTowards(t))},WayPointSystem.prototype.nextTarget=function(){if(this.goingUp){if(this._currentIndex>=this.wayPointSystemPoints.length-1)return this.goingUp=!1,this._currentIndex=this.wayPointSystemPoints.length-1,void this.nextTarget();this._currentIndex++}else{if(this._currentIndex<=0)return this.goingUp=!0,this._currentIndex=0,void this.nextTarget();this._currentIndex--}this._target=this.wayPointSystemPoints[this._currentIndex]},WayPointSystem.prototype.move=function(){const t=this._target.getPosition(),e=this.entity.getPosition(),i=InternFunctions.subtractVector3(e,t).normalize();this.entity.translate(2.5*i.x*this.movementSpeed,2.5*i.y*this.movementSpeed,2.5*i.z*this.movementSpeed)},WayPointSystem.prototype.rotateTowards=function(t){const e=InternFunctions.subtractVector3(this._target.getPosition(),this.entity.getPosition()),i=InternFunctions.lookRotation(e,new pc.Vec3(0,1,0)),n=(new pc.Quat).slerp(this.entity.getRotation(),i,t*this.smoothAmount);this.entity.setRotation(n)},WayPointSystem.attributes.add("wayPointSystemPoints",{type:"entity",array:!0}),WayPointSystem.attributes.add("distanceForNextPoint",{type:"number"}),WayPointSystem.attributes.add("smoothAmount",{type:"number"}),WayPointSystem.attributes.add("delayedStart",{type:"number"}),WayPointSystem.attributes.add("movementSpeed",{type:"number"});class InternFunctions{constructor(){}static distanceSq(t,r){const c=r.x-t.x,e=r.y-t.y,n=r.z-t.z;return Math.sqrt(c*c+e*e+n*n)}static lerp(t,r,c){var e=new pc.Vec3(0,0,0);return e.x=t.x+(r.x-t.x)*c,e.y=t.y+(r.y-t.y)*c,e.z=t.z+(r.z-t.z)*c,e}static distance(t,r){const c=r.x-t.x,e=r.y-t.y,n=r.z-t.z;return c*c+e*e+n*n}static subtractVector3(t,r){const c=r.x-t.x,e=r.y-t.y,n=r.z-t.z;return new pc.Vec3(c,e,n)}static addVector3(t,r){const c=r.x+t.x,e=r.y+t.y,n=r.z+t.z;return new pc.Vec3(c,e,n)}static multiplyVector3(t,r){const c=t.x*r,e=t.y*r,n=t.z*r;return new pc.Vec3(c,e,n)}static lookRotation(t,r){var c=(t=t.normalize()).normalize(),e=(new pc.Vec3).cross(r,c).normalize(),n=(new pc.Vec3).cross(c,e),a=e.x,s=e.y,z=e.z,y=n.x,o=n.y,x=n.z,i=c.x,u=c.y,w=c.z,p=a+o+w,V=new pc.Quat;if(p>0){var l=Math.sqrt(p+1);return V.w=.5*l,l=.5/l,V.x=(x-u)*l,V.y=(i-z)*l,V.z=(s-y)*l,V}if(a>=o&&a>=w){var q=Math.sqrt(1+a-o-w),v=.5/q;return V.x=.5*q,V.y=(s+y)*v,V.z=(z+i)*v,V.w=(x-u)*v,V}if(o>w){var h=Math.sqrt(1+o-a-w),M=.5/h;return V.x=(y+s)*M,V.y=.5*h,V.z=(u+x)*M,V.w=(i-z)*M,V}var d=Math.sqrt(1+w-a-o),m=.5/d;return V.x=(i+z)*m,V.y=(u+x)*m,V.z=.5*d,V.w=(s-y)*m,V}}const EntityRotator=pc.createScript("EntityRotator");EntityRotator.prototype.initialize=function(){},EntityRotator.prototype.update=function(t){const o=this.degreesPerSecond;this.entity.rotate(t*o.x,t*o.y,t*o.z)},EntityRotator.prototype.swap=function(){},EntityRotator.attributes.add("degreesPerSecond",{type:"vec3"});var EnableDisableOntrigger=pc.createScript("enableDisableOntrigger");EnableDisableOntrigger.prototype.initialize=function(){this.collectableValue=0;for(let e=0;e<this.entitysToEnable.length;e++)this.entitysToEnable[e].enabled=!1;this.triggerEntity.collision.on("triggerenter",this.onTrigger,this)},EnableDisableOntrigger.prototype.onTrigger=function(){for(let e=0;e<this.entitysToDisable.length;e++)this.entitysToDisable[e].enabled=!1;for(let e=0;e<this.entitysToEnable.length;e++)this.entitysToEnable[e].enabled=!0;this.enabled=!1},EnableDisableOntrigger.attributes.add("triggerEntity",{type:"entity"}),EnableDisableOntrigger.attributes.add("entitysToDisable",{type:"entity",array:!0}),EnableDisableOntrigger.attributes.add("entitysToEnable",{type:"entity",array:!0});var GetValuableByaddButton=pc.createScript("getValuableByaddButton");GetValuableByaddButton.prototype.initialize=function(){this.getValueButton.element.on("click",this.watchAddForValue,this),this.disableTime*=1e3*this.disableTime},GetValuableByaddButton.prototype.stopEverything=function(){this.app.fire("onToggleInput",!1),this.app.systems.sound.volume=0},GetValuableByaddButton.prototype.startEveryThing=function(){},GetValuableByaddButton.prototype.watchAddForValue=function(){this.stopEverything();PokiSDK.rewardedBreak().then((t=>{if(!t)return this.startEveryThing(),!1;{this.startEveryThing();const t=CcAccount.main.currency,e=this.type-1;t.addAmount(e,this.valueAmount)}})),this.getValueButton.enabled=!1,setTimeout((()=>{this.getValueButton.enabled=!0}),this.disableTime)},GetValuableByaddButton.attributes.add("getValueButton",{type:"entity",title:"getValueButton"}),GetValuableByaddButton.attributes.add("valueAmount",{type:"number",title:"valueAmount"}),GetValuableByaddButton.attributes.add("disableTime",{type:"number",title:"disableTime",default:300}),GetValuableByaddButton.attributes.add("type",{type:"number",enum:[{Stars:1},{Wrench:2}],default:1});var DestroyAftherTime=pc.createScript("destroyAftherTime");DestroyAftherTime.prototype.initialize=function(){this.destroyTime=1e3*this.destroyTime,setTimeout((()=>{this.entity.destroy()}),this.destroyTime)},DestroyAftherTime.attributes.add("destroyTime",{type:"number"});var TweenPosition=pc.createScript("tweenPosition");TweenPosition.attributes.add("duration",{type:"number",default:1}),TweenPosition.attributes.add("easing",{type:"string",enum:[{Linear:"Linear"},{QuadraticIn:"QuadraticIn"},{QuadraticOut:"QuadraticOut"},{QuadraticInOut:"QuadraticInOut"},{CubicIn:"CubicIn"},{CubicOut:"CubicOut"},{CubicInOut:"CubicInOut"},{QuarticIn:"QuarticIn"},{QuarticOut:"QuarticOut"},{QuarticInOut:"QuarticInOut"},{QuinticIn:"QuinticIn"},{QuinticOut:"QuinticOut"},{QuinticInOut:"QuinticInOut"},{SineOut:"SineOut"},{SineInOut:"SineInOut"},{ExponentialIn:"ExponentialIn"},{ExponentialOut:"ExponentialOut"},{ExponentialInOut:"ExponentialInOut"},{CircularIn:"CircularIn"},{CircularOut:"CircularOut"},{CircularInOut:"CircularInOut"},{ElasticIn:"ElasticIn"},{ElasticOut:"ElasticOut"},{ElasticInOut:"ElasticInOut"},{BackIn:"BackIn"},{BackOut:"BackOut"},{BackInOut:"BackInOut"},{BounceIn:"BounceIn"},{BounceOut:"BounceOut"},{BounceInOut:"BounceInOut"}],default:"Linear"}),TweenPosition.attributes.add("delay",{type:"number",default:0}),TweenPosition.attributes.add("loop",{type:"boolean",default:!0}),TweenPosition.attributes.add("yoyo",{type:"boolean",default:!1}),TweenPosition.attributes.add("repeat",{type:"number",default:2}),TweenPosition.attributes.add("offsetPosition",{type:"vec3"}),TweenPosition.prototype.initialize=function(){this.startingPotiion=this.entity.getLocalPosition(),this.reset(),this.on("attr:duration",(function(t){this.tween.duration=t}),this),this.on("attr:easing",this.reset,this),this.on("attr:delay",this.reset,this),this.on("attr:loop",this.reset,this),this.on("attr:yoyo",this.reset,this),this.on("attr:repeat",this.reset,this)},TweenPosition.prototype.reset=function(){this.tween&&this.tween.stop(),this.entity.setLocalPosition(this.startingPotiion),this.tween=this.entity.tween(this.entity.getLocalPosition()).to(this.offsetPosition,this.duration,pc[this.easing]).delay(this.delay).loop(this.loop).yoyo(this.yoyo),this.loop||this.tween.repeat(this.repeat),this.tween.start()};pc.extend(pc,function(){var TweenManager=function(t){this._app=t,this._tweens=[],this._add=[]};TweenManager.prototype={add:function(t){return this._add.push(t),t},update:function(t){for(var i=0,e=this._tweens.length;i<e;)this._tweens[i].update(t)?i++:(this._tweens.splice(i,1),e--);this._add.length&&(this._tweens=this._tweens.concat(this._add),this._add.length=0)}};var Tween=function(t,i,e){pc.events.attach(this),this.manager=i,e&&(this.entity=null),this.time=0,this.complete=!1,this.playing=!1,this.stopped=!0,this.pending=!1,this.target=t,this.duration=0,this._currentDelay=0,this.timeScale=1,this._reverse=!1,this._delay=0,this._yoyo=!1,this._count=0,this._numRepeats=0,this._repeatDelay=0,this._from=!1,this._slerp=!1,this._fromQuat=new pc.Quat,this._toQuat=new pc.Quat,this._quat=new pc.Quat,this.easing=pc.EASE_LINEAR,this._sv={},this._ev={}};Tween.prototype={to:function(t,i,e,s,n,r){return t instanceof pc.Vec3?this._properties={x:t.x,y:t.y,z:t.z}:t instanceof pc.Color?(this._properties={r:t.r,g:t.g,b:t.b},void 0!==t.a&&(this._properties.a=t.a)):this._properties=t,this.duration=i,e&&(this.easing=e),s&&this.delay(s),n&&this.repeat(n),r&&this.yoyo(r),this},from:function(t,i,e,s,n,r){return t instanceof pc.Vec3?this._properties={x:t.x,y:t.y,z:t.z}:t instanceof pc.Color?(this._properties={r:t.r,g:t.g,b:t.b},void 0!==t.a&&(this._properties.a=t.a)):this._properties=t,this.duration=i,e&&(this.easing=e),s&&this.delay(s),n&&this.repeat(n),r&&this.yoyo(r),this._from=!0,this},rotate:function(t,i,e,s,n,r){return t instanceof pc.Quat?this._properties={x:t.x,y:t.y,z:t.z,w:t.w}:t instanceof pc.Vec3?this._properties={x:t.x,y:t.y,z:t.z}:t instanceof pc.Color?(this._properties={r:t.r,g:t.g,b:t.b},void 0!==t.a&&(this._properties.a=t.a)):this._properties=t,this.duration=i,e&&(this.easing=e),s&&this.delay(s),n&&this.repeat(n),r&&this.yoyo(r),this._slerp=!0,this},start:function(){if(this.playing=!0,this.complete=!1,this.stopped=!1,this._count=0,this.pending=this._delay>0,this._reverse&&!this.pending?this.time=this.duration:this.time=0,this._from){for(var t in this._properties)this._sv[t]=this._properties[t],this._ev[t]=this.target[t];if(this._slerp){this._toQuat.setFromEulerAngles(this.target.x,this.target.y,this.target.z);var i=void 0!==this._properties.x?this._properties.x:this.target.x,e=void 0!==this._properties.y?this._properties.y:this.target.y,s=void 0!==this._properties.z?this._properties.z:this.target.z;this._fromQuat.setFromEulerAngles(i,e,s)}}else{for(var t in this._properties)this._sv[t]=this.target[t],this._ev[t]=this._properties[t];if(this._slerp){this._fromQuat.setFromEulerAngles(this.target.x,this.target.y,this.target.z);i=void 0!==this._properties.x?this._properties.x:this.target.x,e=void 0!==this._properties.y?this._properties.y:this.target.y,s=void 0!==this._properties.z?this._properties.z:this.target.z;this._toQuat.setFromEulerAngles(i,e,s)}}return this._currentDelay=this._delay,this.manager.add(this),this},pause:function(){this.playing=!1},resume:function(){this.playing=!0},stop:function(){this.playing=!1,this.stopped=!0},delay:function(t){return this._delay=t,this.pending=!0,this},repeat:function(t,i){return this._count=0,this._numRepeats=t,this._repeatDelay=i||0,this},loop:function(t){return t?(this._count=0,this._numRepeats=1/0):this._numRepeats=0,this},yoyo:function(t){return this._yoyo=t,this},reverse:function(){return this._reverse=!this._reverse,this},chain:function(){for(var t=arguments.length;t--;)t>0?arguments[t-1]._chained=arguments[t]:this._chained=arguments[t];return this},update:function(t){if(this.stopped)return!1;if(!this.playing)return!0;if(!this._reverse||this.pending?this.time+=t*this.timeScale:this.time-=t*this.timeScale,this.pending){if(!(this.time>this._currentDelay))return!0;this._reverse?this.time=this.duration-(this.time-this._currentDelay):this.time=this.time-this._currentDelay,this.pending=!1}var i=0;(!this._reverse&&this.time>this.duration||this._reverse&&this.time<0)&&(this._count++,this.complete=!0,this.playing=!1,this._reverse?(i=this.duration-this.time,this.time=0):(i=this.time-this.duration,this.time=this.duration));var e,s,n=this.time/this.duration,r=this.easing(n);for(var h in this._properties)e=this._sv[h],s=this._ev[h],this.target[h]=e+(s-e)*r;if(this._slerp&&this._quat.slerp(this._fromQuat,this._toQuat,r),this.entity&&(this.entity._dirtifyLocal(),this.element&&this.entity.element&&(this.entity.element[this.element]=this.target),this._slerp&&this.entity.setLocalRotation(this._quat)),this.fire("update",t),this.complete){var a=this._repeat(i);return a?this.fire("loop"):(this.fire("complete",i),this._chained&&this._chained.start()),a}return!0},_repeat:function(t){if(this._count<this._numRepeats){if(this._reverse?this.time=this.duration-t:this.time=t,this.complete=!1,this.playing=!0,this._currentDelay=this._repeatDelay,this.pending=!0,this._yoyo){for(var i in this._properties)tmp=this._sv[i],this._sv[i]=this._ev[i],this._ev[i]=tmp;this._slerp&&(this._quat.copy(this._fromQuat),this._fromQuat.copy(this._toQuat),this._toQuat.copy(this._quat))}return!0}return!1}};var BounceIn=function(t){return 1-BounceOut(1-t)},BounceOut=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375};return{TweenManager:TweenManager,Tween:Tween,Linear:function(t){return t},QuadraticIn:function(t){return t*t},QuadraticOut:function(t){return t*(2-t)},QuadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},CubicIn:function(t){return t*t*t},CubicOut:function(t){return--t*t*t+1},CubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},QuarticIn:function(t){return t*t*t*t},QuarticOut:function(t){return 1- --t*t*t*t},QuarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},QuinticIn:function(t){return t*t*t*t*t},QuinticOut:function(t){return--t*t*t*t*t+1},QuinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},SineIn:function(t){return 0===t?0:1===t?1:1-Math.cos(t*Math.PI/2)},SineOut:function(t){return 0===t?0:1===t?1:Math.sin(t*Math.PI/2)},SineInOut:function(t){return 0===t?0:1===t?1:.5*(1-Math.cos(Math.PI*t))},ExponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},ExponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},ExponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},CircularIn:function(t){return 1-Math.sqrt(1-t*t)},CircularOut:function(t){return Math.sqrt(1- --t*t)},CircularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},BackIn:function(t){var i=1.70158;return t*t*((i+1)*t-i)},BackOut:function(t){var i=1.70158;return--t*t*((i+1)*t+i)+1},BackInOut:function(t){var i=2.5949095;return(t*=2)<1?t*t*((i+1)*t-i)*.5:.5*((t-=2)*t*((i+1)*t+i)+2)},BounceIn:BounceIn,BounceOut:BounceOut,BounceInOut:function(t){return t<.5?.5*BounceIn(2*t):.5*BounceOut(2*t-1)+.5},ElasticIn:function(t){var i,e=.1;return 0===t?0:1===t?1:(!e||e<1?(e=1,i=.1):i=.4*Math.asin(1/e)/(2*Math.PI),-e*Math.pow(2,10*(t-=1))*Math.sin((t-i)*(2*Math.PI)/.4))},ElasticOut:function(t){var i,e=.1;return 0===t?0:1===t?1:(!e||e<1?(e=1,i=.1):i=.4*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*t)*Math.sin((t-i)*(2*Math.PI)/.4)+1)},ElasticInOut:function(t){var i,e=.1,s=.4;return 0===t?0:1===t?1:(!e||e<1?(e=1,i=.1):i=s*Math.asin(1/e)/(2*Math.PI),(t*=2)<1?e*Math.pow(2,10*(t-=1))*Math.sin((t-i)*(2*Math.PI)/s)*-.5:e*Math.pow(2,-10*(t-=1))*Math.sin((t-i)*(2*Math.PI)/s)*.5+1)}}}()),function(){var t=pc.Application.getApplication();t&&(t._tweenManager=new pc.TweenManager(t),t.on("update",(function(i){t._tweenManager.update(i)})),pc.Application.prototype.tween=function(t){return new pc.Tween(t,this._tweenManager)},pc.Entity.prototype.tween=function(t,i){var e=this._app.tween(t);return e.entity=this,this.on("destroy",(function(){e.stop()})),i&&i.element&&(e.element=element),e})}();var TweenRotation=pc.createScript("tweenRotation");TweenRotation.attributes.add("duration",{type:"number",default:1}),TweenRotation.attributes.add("easing",{type:"string",enum:[{Linear:"Linear"},{QuadraticIn:"QuadraticIn"},{QuadraticOut:"QuadraticOut"},{QuadraticInOut:"QuadraticInOut"},{CubicIn:"CubicIn"},{CubicOut:"CubicOut"},{CubicInOut:"CubicInOut"},{QuarticIn:"QuarticIn"},{QuarticOut:"QuarticOut"},{QuarticInOut:"QuarticInOut"},{QuinticIn:"QuinticIn"},{QuinticOut:"QuinticOut"},{QuinticInOut:"QuinticInOut"},{SineOut:"SineOut"},{SineInOut:"SineInOut"},{ExponentialIn:"ExponentialIn"},{ExponentialOut:"ExponentialOut"},{ExponentialInOut:"ExponentialInOut"},{CircularIn:"CircularIn"},{CircularOut:"CircularOut"},{CircularInOut:"CircularInOut"},{ElasticIn:"ElasticIn"},{ElasticOut:"ElasticOut"},{ElasticInOut:"ElasticInOut"},{BackIn:"BackIn"},{BackOut:"BackOut"},{BackInOut:"BackInOut"},{BounceIn:"BounceIn"},{BounceOut:"BounceOut"},{BounceInOut:"BounceInOut"}],default:"Linear"}),TweenRotation.attributes.add("delay",{type:"number",default:0}),TweenRotation.attributes.add("loop",{type:"boolean",default:!0}),TweenRotation.attributes.add("yoyo",{type:"boolean",default:!1}),TweenRotation.attributes.add("repeat",{type:"number",default:2}),TweenRotation.attributes.add("rotateTowards",{type:"vec3"}),TweenRotation.prototype.initialize=function(){this.reset(),this.on("attr:duration",(function(t){this.tween.duration=t}),this),this.on("attr:easing",this.reset,this),this.on("attr:delay",this.reset,this),this.on("attr:loop",this.reset,this),this.on("attr:yoyo",this.reset,this),this.on("attr:repeat",this.reset,this)},TweenRotation.prototype.reset=function(){this.tween&&this.tween.stop(),this.entity.setLocalEulerAngles(0,0,0),this.tween=this.entity.tween(this.entity.getLocalEulerAngles()).rotate(new pc.Vec3(this.rotateTowards),this.duration,pc[this.easing]).delay(this.delay).loop(this.loop).yoyo(this.yoyo),this.loop||this.tween.repeat(this.repeat),this.tween.start()};var TweenScale=pc.createScript("tweenScale");TweenScale.attributes.add("duration",{type:"number",default:1}),TweenScale.attributes.add("easing",{type:"string",enum:[{Linear:"Linear"},{QuadraticIn:"QuadraticIn"},{QuadraticOut:"QuadraticOut"},{QuadraticInOut:"QuadraticInOut"},{CubicIn:"CubicIn"},{CubicOut:"CubicOut"},{CubicInOut:"CubicInOut"},{QuarticIn:"QuarticIn"},{QuarticOut:"QuarticOut"},{QuarticInOut:"QuarticInOut"},{QuinticIn:"QuinticIn"},{QuinticOut:"QuinticOut"},{QuinticInOut:"QuinticInOut"},{SineOut:"SineOut"},{SineInOut:"SineInOut"},{ExponentialIn:"ExponentialIn"},{ExponentialOut:"ExponentialOut"},{ExponentialInOut:"ExponentialInOut"},{CircularIn:"CircularIn"},{CircularOut:"CircularOut"},{CircularInOut:"CircularInOut"},{ElasticIn:"ElasticIn"},{ElasticOut:"ElasticOut"},{ElasticInOut:"ElasticInOut"},{BackIn:"BackIn"},{BackOut:"BackOut"},{BackInOut:"BackInOut"},{BounceIn:"BounceIn"},{BounceOut:"BounceOut"},{BounceInOut:"BounceInOut"}],default:"Linear"}),TweenScale.attributes.add("delay",{type:"number",default:0}),TweenScale.attributes.add("loop",{type:"boolean",default:!0}),TweenScale.attributes.add("yoyo",{type:"boolean",default:!1}),TweenScale.attributes.add("repeat",{type:"number",default:2}),TweenScale.attributes.add("maxScale",{type:"number",default:5}),TweenScale.prototype.initialize=function(){this.reset(),this.on("attr:duration",(function(t){this.tween.duration=t}),this),this.on("attr:easing",this.reset,this),this.on("attr:delay",this.reset,this),this.on("attr:loop",this.reset,this),this.on("attr:yoyo",this.reset,this),this.on("attr:repeat",this.reset,this)},TweenScale.prototype.reset=function(){this.tween&&this.tween.stop(),this.entity.setLocalScale(1,1,1),this.tween=this.entity.tween(this.entity.getLocalScale()).to(new pc.Vec3(this.maxScale,this.maxScale,this.maxScale),this.duration,pc[this.easing]).delay(this.delay).loop(this.loop).yoyo(this.yoyo),this.loop||this.tween.repeat(this.repeat),this.tween.start()};var ResetSaveData=pc.createScript("resetSaveData");ResetSaveData.prototype.initialize=function(){this.entity.element.on("click",(function(){this.onButtonPressed()}),this)},ResetSaveData.prototype.onButtonPressed=function(){this.app.fire("button"),localStorage.clear()};var CarSpecialSiren=pc.createScript("carSpecialSiren");CarSpecialSiren.prototype.initialize=function(){this.app.on("triggerSpecial",this.triggerSpecial,this),this.activated=!1,this.time=0,this.activated&&this.sirenSound.sound.play("0"),setInterval(function(){this.activated?this.siren.enabled=!this.siren.enabled:this.siren.enabled=!1}.bind(this),this.sirenFlickeringTimer)},CarSpecialSiren.prototype.triggerSpecial=function(){this.activated=!this.activated,null!=this.sirenSound.sound&&(this.activated?this.sirenSound.sound.play("0"):this.sirenSound.sound.stop("0"))},CarSpecialSiren.attributes.add("sirenSound",{type:"entity"}),CarSpecialSiren.attributes.add("siren",{type:"entity"}),CarSpecialSiren.attributes.add("sirenFlickeringTimer",{type:"number"});var CarSpecialHonk=pc.createScript("CarSpecialHonk");CarSpecialHonk.prototype.initialize=function(){this.app.on("triggerSpecial",this.triggerSpecial,this)},CarSpecialHonk.prototype.triggerSpecial=function(){null!=this.honkSound.sound&&(this.honkSound.sound.stop("0"),this.honkSound.sound.play("0"))},CarSpecialHonk.attributes.add("honkSound",{type:"entity"});var CarSpecialParticle=pc.createScript("carSpecialParticle");CarSpecialParticle.prototype.initialize=function(){this.app.on("triggerSpecial",this.triggerSpecial,this),0===this.turnParticleTime&&(this.isActive=!1),this.turnParticleTime=1e3*this.turnParticleTime},CarSpecialParticle.prototype.triggerSpecial=function(){null!=this.particle&&null!=this.particle.particlesystem&&(0===this.turnParticleTime?(this.isActive=!this.isActive,this.isActive?(this.particle.particlesystem.reset(),this.particle.particlesystem.play()):(this.particle.particlesystem.reset(),this.particle.particlesystem.stop())):(this.particle.particlesystem.reset(),this.particle.particlesystem.play(),this.turnOff()))},CarSpecialParticle.prototype.turnOff=function(){setTimeout((()=>{null!=this.particle&&null!=this.particle.particlesystem&&(this.particle.particlesystem.reset(),this.particle.particlesystem.stop())}),this.turnParticleTime)},CarSpecialParticle.attributes.add("turnParticleTime",{type:"number",description:"set to 0 for looping particle"}),CarSpecialParticle.attributes.add("particle",{type:"entity"});var EntityEnabler=pc.createScript("entityEnabler");EntityEnabler.prototype.initialize=function(){this.timeAfterStart=1e3*this.timeAfterStart,setTimeout((()=>{for(let t=0;t<this.entitys.length;t++)this.entitys[t].enabled=!0}),this.timeAfterStart)},EntityEnabler.attributes.add("entitys",{type:"entity",title:"entitys",array:!0}),EntityEnabler.attributes.add("timeAfterStart",{type:"number"});var SpeedBoost=pc.createScript("speedBoost");SpeedBoost.rotate180=(new pc.Quat).setFromEulerAngles(0,180,0),SpeedBoost.prototype.initialize=function(){this.targets=[];const t=this.triggerEntity.collision;t.on("triggerenter",this.onTriggerEnter,this),t.on("triggerleave",this.onTriggerLeave,this)},SpeedBoost.prototype.terminate=function(){const t=this.triggerEntity.collision;t.off("triggerenter",this.onTriggerEnter,this),t.off("triggerleave",this.onTriggerLeave,this)},SpeedBoost.prototype.onTriggerEnter=function(t){if(!t.tags.has("playerCar"))return;const e=this.targets;e.indexOf(t)<0&&e.push(t)},SpeedBoost.prototype.onTriggerLeave=function(t){if(!t.tags.has("playerCar"))return;const e=this.targets,o=e.indexOf(t);o>=0&&e.splice(o,1)},SpeedBoost.prototype.update=function(t){const e=this.targets;for(let o=0;o<e.length;o++){const i=e[o];i?this.applyBoost(i,t):(e.splice(o,1),o--)}},SpeedBoost.prototype.applyBoost=function(t,e){const o=t.forward;o.y=0,o.normalize(),SpeedBoost.rotate180.transformVector(o,o),o.mulScalar(this.acceleration*e);const i=t.rigidbody,r=i.linearVelocity;r.add(o),i.linearVelocity=r},SpeedBoost.prototype.swap=function(t){t.terminate(),this.initialize()},SpeedBoost.attributes.add("triggerEntity",{type:"entity",title:"triggerEntity"}),SpeedBoost.attributes.add("acceleration",{type:"number",title:"Acceleration (m/s^2)",default:15});var LoadSceneHere=pc.createScript("loadSceneHere");LoadSceneHere.attributes.add("sceneName",{type:"string"}),LoadSceneHere.prototype.initialize=function(){var e=this.app.scenes.find(this.sceneName);this.app.scenes.loadSceneHierarchy(e,function(e,n){e?console.error(e):n.reparent(this.entity)}.bind(this))};var FootballGoal=pc.createScript("FootballGoal");FootballGoal.prototype.initialize=function(){this.startPosition=this.ball.getPosition();for(let t=0;t<this.goals.length;t++)this.goals[t].collision.on("triggerenter",this.onGoal,this)},FootballGoal.prototype.onGoal=function(t){if(t.tags.has(this.ballTag)){this.ball.rigidbody.teleport(this.startPosition,this.ball.getLocalEulerAngles()),this.ball.rigidbody.linearVelocity=pc.Vec3.ZERO,this.ball.rigidbody.angularVelocity=pc.Vec3.ZERO;const t=CcAccount.main.currency,l=this.type-1;t.addAmount(l,this.valueAmount)}},FootballGoal.attributes.add("ballTag",{type:"string",default:"ball"}),FootballGoal.attributes.add("ball",{type:"entity"}),FootballGoal.attributes.add("goals",{type:"entity",array:!0}),FootballGoal.attributes.add("valueAmount",{type:"number"}),FootballGoal.attributes.add("type",{type:"number",enum:[{Stars:1},{Wrench:2}],default:1});var Preloader=pc.createScript("preloader");Preloader.attributes.add("loadingText",{type:"entity",title:"loadingText"}),Preloader.attributes.add("randomTipText",{type:"entity",title:"randomTipText"}),Preloader.attributes.add("assetTags",{type:"string",title:"Asset Tags",array:!0}),Preloader.attributes.add("randomTips",{type:"string",title:"randomTips",array:!0}),Preloader.prototype.postInitialize=function(){this.rand=0,this.loadAssets(),this.randomTimedTips()},Preloader.prototype.loadAssets=function(){var t=this,e=[];for(let t=0;t<this.assetTags.length;t++){var a=this.app.assets.findByTag(this.assetTags[t]);e=e.concat(a)}for(var s=0,r=e.length,onAssetReady=function(){s+=1,t.setLoadingProgress(100/r*s),s===r&&t.onAssetsLoaded()},i=0;i<e.length;i++)e[i].ready(onAssetReady),this.app.assets.load(e[i]);e.length||this.onAssetsLoaded()},Preloader.prototype.onAssetsLoaded=function(){this.app.fire("onAssetfinished")},Preloader.prototype.setLoadingProgress=function(t){this.loadingText.element.text=Math.floor(t)+"%"},Preloader.prototype.randomTimedTips=function(){setInterval(function(){null!=this.randomTipText&&null!=this.randomTipText.element&&(tempRand=Math.floor(Math.random()*this.randomTips.length),this.rand===tempRand?tempRand+1>this.randomTips.length?tempRand=0:tempRand++:this.rand=tempRand,this.randomTipText.element.text=this.randomTips[this.rand])}.bind(this),5e3)};var SceneLoader=pc.createScript("sceneLoader");SceneLoader.attributes.add("sceneNames",{type:"string",array:!0}),SceneLoader.attributes.add("destroyRoot",{type:"entity"}),SceneLoader.prototype.initialize=function(){this.app.on("onSceneLoadingStart",this.startLoading,this)},SceneLoader.prototype.startLoading=function(){SceneManager.instance.loadScene(this.sceneNames[0]).onPostActivation.addListener(this.onSceneReady,this)},SceneLoader.prototype.onSceneReady=function(){this.destroyRoot.destroy()};var PlayMenu=pc.createScript("playMenu");PlayMenu.attributes.add("staticLoadingBar",{type:"entity",title:"staticLoadingBar"}),PlayMenu.attributes.add("loadingBar",{type:"entity",title:"loadingBar"}),PlayMenu.attributes.add("keyboardTutor",{type:"entity",title:"keyboardTutor"}),PlayMenu.prototype.initialize=function(){this.app.on("onAssetfinished",this.startGame,this)},PlayMenu.prototype.postInitialize=function(){PokiManager.instance.notifyLoadingFinished()},PlayMenu.prototype.startGame=function(){this.keyboardTutor.enabled=!pc.platform.mobile;PokiManager.instance.showAd(!1,(()=>{this.loadingBar.enabled=!1,this.staticLoadingBar.enabled=!0,this.app.fire("onSceneLoadingStart")}))};function loadScene(e,n,c,l){var a=pc.Application.getApplication(),o=a.scenes.find(e);if(o){var t=o.loaded;a.scenes.loadSceneData(o,(function(e,o){if(e)c&&c.call(l,e);else{for(var i=null,s=a.root.children;s.length>0;)s[0].destroy();n.settings&&a.scenes.loadSceneSettings(o,(function(e){e&&c&&c.call(l,e)})),n.hierarchy&&a.scenes.loadSceneHierarchy(o,(function(e,n){e?c&&c(e):i=n})),t||a.scenes.unloadSceneData(o),c&&c.call(l,null,i)}}))}else c&&c.call(l,"Scene not found: "+e)}class MathUtils{static clamp(t,a,r){return Math.max(Math.min(t,r),a)}static clamp01(t){return this.clamp(t,0,1)}static isNumber(t){return Number.isFinite(t)}static approximately(t,a,r=1e-5){return Math.abs(a-t)<=r}static moveTowards(t,a,r){const e=a-t;return Math.abs(e)<=r?a:t+Math.sign(e)*r}static inverseLerp(t,a,r){return t!==a?this.clamp01((r-t)/(a-t)):0}static inverseLerpUnclamped(t,a,r){return t!==a?(r-t)/(a-t):0}static lerpUnclamped(t,a,r){return t+(a-t)*r}}var PlatformHandler=pc.createScript("platformHandler");PlatformHandler.attributes.add("onlyPcEntitys",{type:"entity",array:!0}),PlatformHandler.attributes.add("onlyMobileEntitys",{type:"entity",array:!0}),PlatformHandler.prototype.initialize=function(){if(pc.platform.mobile){for(let t=0;t<this.onlyPcEntitys.length;t++)this.onlyPcEntitys[t].enabled=!1;for(let t=0;t<this.onlyMobileEntitys.length;t++)this.onlyMobileEntitys[t].enabled=!0}else{for(let t=0;t<this.onlyPcEntitys.length;t++)this.onlyPcEntitys[t].enabled=!0;for(let t=0;t<this.onlyMobileEntitys.length;t++)this.onlyMobileEntitys[t].enabled=!1}};var FollowCamera=pc.createScript("FollowCamera");FollowCamera.attributes.add("controlSettings",{title:"Control Settings",type:"json",schema:[{name:"distance",title:"Distance",type:"number",default:5},{name:"distanceInAir",title:"Distance In Air",type:"number",default:6.25},{name:"distanceChangeSpeed",title:"Distance Change Speed",type:"number",default:1},{name:"height",title:"Height",type:"number",default:1.7},{name:"targetYOffset",title:"Target Y-offset",type:"number",default:1.25},{name:"rotationSpeed",title:"Rotation Speed",type:"number",default:1},{name:"pitchChangeSpeed",title:"Pitch Change Speed",type:"number",default:1}]}),FollowCamera.attributes.add("fovSettings",{title:"Field of View Settings",type:"json",schema:[{name:"fovRange",title:"FOV Range (degrees)",type:"vec2",default:[55,75]},{name:"speedRange",title:"Speed Range (km/h)",type:"vec2",default:[80,150]},{name:"fovChangeSpeed",title:"FOV Change Speed",type:"number",default:2}]}),FollowCamera.attributes.add("carEntity",{title:"Car",type:"entity"}),FollowCamera.prototype.initialize=function(){const t=this.controlSettings;this._distance=t.distance,this._height=t.height,this._pitch=0,this._fov=this.fovSettings.fovRange.x,this._vec3Pool=Vec3Pool.get(),this._quatPool=QuatPool.get(),this.on("destroy",(()=>this.terminate()))},FollowCamera.prototype.postUpdate=function(t){this.updatePose(t),this.updateFov(t)},FollowCamera.prototype.updatePose=function(t){const e=this.carEntity;if(!e)return;const i=this.controlSettings,o=this._vec3Pool,a=this._quatPool,n=e.script.vehicle.isGrounded,s=EntityUtils.getForward(e),l=Vec3Utils.angle(pc.Vec3.UP,s)-90,c=!n||Math.abs(l)>60;try{const r=n?l:0;this._pitch=pc.math.lerp(this._pitch,r,t*i.pitchChangeSpeed);const p=o.clone(s);p.y=0,p.normalize();const h=Vec3Utils.angle(pc.Vec3.FORWARD,p),d=h*(Math.sign(o.cross(pc.Vec3.FORWARD,p).y)||1),g=a.getFromEulerAngles(this._pitch,d,0),m=o.clone(pc.Vec3.FORWARD);g.transformVector(m,m);const u=o.sub(e.getPosition(),this.entity.getPosition());u.y=0,u.normalize();const f=Vec3Utils.angle(p,u),y=o.cross(p,u);let v=Math.sign(y.y)*f;c||(v=pc.math.lerp(v,0,t*i.rotationSpeed));a.getFromEulerAngles(0,v+180,0).transformVector(m,m);const S=c?i.distanceInAir:i.distance;this._distance=pc.math.lerp(this._distance,S,t*i.distanceChangeSpeed),m.mulScalar(this._distance),m.y+=i.height;const C=o.clone(e.getPosition());C.add(m),this.entity.setPosition(C);const F=o.clone(e.getPosition());F.y+=i.targetYOffset,this.entity.lookAt(F)}finally{o.reset(),a.reset()}},FollowCamera.prototype.updateFov=function(t){const e=this.carEntity;if(!e)return;const i=this.fovSettings,o=e.script.vehicle,a=Math.abs(3.6*o.speedMs),n=i.speedRange,s=MathUtils.inverseLerp(n.x,n.y,a),l=i.fovRange,c=pc.math.lerp(l.x,l.y,s);this._fov=pc.math.lerp(this._fov,c,t*i.fovChangeSpeed);this.entity.camera.fov=this._fov},FollowCamera.prototype.terminate=function(){this._vec3Pool.dispose(),this._quatPool.dispose()},FollowCamera.prototype.swap=function(t){this.initialize()};var LootBoxHandler=pc.createScript("lootBoxHandler");LootBoxHandler.attributes.add("hats",{type:"asset",array:!0}),LootBoxHandler.attributes.add("spoilers",{type:"asset",array:!0}),LootBoxHandler.attributes.add("exhaust",{type:"asset",array:!0}),LootBoxHandler.attributes.add("motors",{type:"asset",array:!0}),LootBoxHandler.attributes.add("neonLights",{type:"asset",array:!0}),LootBoxHandler.attributes.add("valuables",{type:"asset",array:!0}),LootBoxHandler.prototype.postInitialize=function(){this.alLootBoxItems=[],this.common=[],this.uncommon=[],this.rare=[],this.epic=[],this.legendary=[],this.alLootBoxItems=this.alLootBoxItems.concat(this.hats,this.spoilers,this.exhaust,this.motors,this.neonLights,this.valuables);for(let e=0;e<this.alLootBoxItems.length;e++){var t=this.alLootBoxItems[e],o=t.resource.instantiate(),a=o.script.lootBoxItem;this.setData(a,e,t),o.destroy()}LootBoxHandler.instance=this},LootBoxHandler.prototype.setData=function(t,o,a){},LootBoxHandler.prototype.setDefault=function(t){setTimeout((()=>{this.app.fire("UpdateCarVisual",t)}),"250")};var LootBoxItem=pc.createScript("lootBoxItem");LootBoxItem.attributes.add("rarity",{type:"number",enum:[{common:0},{uncommon:1},{rare:2},{epic:3},{"legendary ":4}],default:0}),LootBoxItem.attributes.add("name",{type:"string"}),LootBoxItem.attributes.add("typeItem",{type:"number",enum:[{empty:0},{hats:1},{spoilers:2},{exhaust:3},{motors:4},{stars:5},{wrenches:6},{neonLights:7}],default:0}),LootBoxItem.attributes.add("price",{type:"number"}),LootBoxItem.attributes.add("isDefault",{type:"boolean"});var LootBoxManager=pc.createScript("lootBoxManager");LootBoxManager.attributes.add("lootBoxHandler",{type:"entity"}),LootBoxManager.attributes.add("lootboxButton",{type:"entity"}),LootBoxManager.attributes.add("randomButtonPurchase",{type:"entity"}),LootBoxManager.attributes.add("lootBoxPrice",{type:"number"}),LootBoxManager.attributes.add("secondLootBoxButton",{type:"entity"}),LootBoxManager.attributes.add("lootboxMenu",{type:"entity"}),LootBoxManager.attributes.add("continueButton",{type:"entity"}),LootBoxManager.attributes.add("itemText",{type:"entity"}),LootBoxManager.attributes.add("categoryText",{type:"entity"}),LootBoxManager.attributes.add("lootBoxCamera",{type:"entity"}),LootBoxManager.attributes.add("lootBoxItemHolder",{type:"entity"}),LootBoxManager.attributes.add("openCustomisationButton",{type:"entity"}),LootBoxManager.attributes.add("closeCustomisationButton",{type:"entity"}),LootBoxManager.attributes.add("customisationPanel",{type:"entity"}),LootBoxManager.attributes.add("mainBox",{type:"entity"}),LootBoxManager.attributes.add("hatButtonParent",{type:"entity"}),LootBoxManager.attributes.add("spoilerButtonParent",{type:"entity"}),LootBoxManager.attributes.add("motorButtonParent",{type:"entity"}),LootBoxManager.attributes.add("exhaustButtonParent",{type:"entity"}),LootBoxManager.attributes.add("neonButtonParent",{type:"entity"}),LootBoxManager.attributes.add("buttonPrefab",{type:"asset"}),LootBoxManager.attributes.add("hatPage",{type:"entity"}),LootBoxManager.attributes.add("neonPage",{type:"entity"}),LootBoxManager.attributes.add("spoilerPage",{type:"entity"}),LootBoxManager.attributes.add("motorPage",{type:"entity"}),LootBoxManager.attributes.add("exhaustPage",{type:"entity"}),LootBoxManager.attributes.add("hatPageButton",{type:"entity"}),LootBoxManager.attributes.add("spoilerPageButton",{type:"entity"}),LootBoxManager.attributes.add("neonPageButton",{type:"entity"}),LootBoxManager.attributes.add("motorPageButton",{type:"entity"}),LootBoxManager.attributes.add("exhaustPageButton",{type:"entity"}),LootBoxManager.attributes.add("hatHighlightButton",{type:"entity"}),LootBoxManager.attributes.add("spoilerHighLightutton",{type:"entity"}),LootBoxManager.attributes.add("neonHighLightButton",{type:"entity"}),LootBoxManager.attributes.add("motorHighLightButton",{type:"entity"}),LootBoxManager.attributes.add("exhaustHighLightButton",{type:"entity"}),LootBoxManager.attributes.add("carVisualLock",{type:"entity"}),LootBoxManager.prototype.initialize=function(){LootBoxManager.instance=this,this.alitemsInRoot=[],this.app.on("updateLootHighlight",this.highLightSelected,this),this.currentname="",this.lootboxButton.element.on("click",this.onLootboxButtonPressed,this),this.randomButtonPurchase.element.on("click",this.onRandomlootButtonPurchase,this),this.secondLootBoxButton.element.on("click",this.onLootboxButtonPressed,this),this.continueButton.element.on("click",this.closeMenu,this),this.closeCustomisationButton.element.on("click",this.closeCustomisation,this),this.openCustomisationButton.element.on("click",this.openCustomisation,this),this.hatPageButton.element.on("click",this.openHatPage,this),this.neonPageButton.element.on("click",this.openNeonPage,this),this.spoilerPageButton.element.on("click",this.openSpoilerPage,this),this.motorPageButton.element.on("click",this.openMotorPage,this),this.exhaustPageButton.element.on("click",this.openExhaustPage,this),this.app.on("onCloseLootBoxMenu",this.closeMenu,this),this.app.on("onOpenLootBoxMenu",this.openMenu,this),LootBoxManager.instance=this},LootBoxManager.prototype.onLootboxButtonPressed=function(){this.reciveRandomLoot(),this.openMenu()},LootBoxManager.prototype.onRandomlootButtonPurchase=function(){},LootBoxManager.prototype.reciveRandomLoot=function(){},LootBoxManager.prototype.closeMenu=function(){this.lootBoxCamera.enabled=!1,this.lootboxMenu.enabled=!1,null!=this.instance&&this.instance.destroy()},LootBoxManager.prototype.openMenu=function(){this.lootboxMenu.enabled=!0,this.lootBoxCamera.enabled=!0},LootBoxManager.prototype.updateMenu=function(){},LootBoxManager.prototype.highLightSelected=function(){},LootBoxManager.prototype.closeCustomisation=function(){this.customisationPanel.enabled=!1,this.mainBox.enabled=!0},LootBoxManager.prototype.openCustomisation=function(){this.mainBox.enabled=!1,this.customisationPanel.enabled=!0,this.openHatPage()},LootBoxManager.prototype.stopEverything=function(){this.app.fire("onToggleInput",!1),this.app.systems.sound.volume=0},LootBoxManager.prototype.startEveryThing=function(){},LootBoxManager.prototype.spawnButton=function(t,o,e,n){var a=this.buttonPrefab.resource.instantiate(),i=a.script.lootboxButton;return i.nameText.element.text=t,e&&(i.newPannel.enabled=!0),o||(i.lock.enabled=!0,i.gray.enabled=!0,i.priceText.element.text=n),this.alitemsInRoot.push(a),a},LootBoxManager.prototype.closeAll=function(){this.updateMenu(),this.hatPage.enabled=!1,this.neonPage.enabled=!1,this.spoilerPage.enabled=!1,this.motorPage.enabled=!1,this.exhaustPage.enabled=!1,this.hatHighlightButton.enabled=!1,this.spoilerHighLightutton.enabled=!1,this.neonHighLightButton.enabled=!1,this.motorHighLightButton.enabled=!1,this.exhaustHighLightButton.enabled=!1},LootBoxManager.prototype.openHatPage=function(){this.closeAll(),this.hatPage.enabled=!0,this.hatHighlightButton.enabled=!0},LootBoxManager.prototype.openNeonPage=function(){this.closeAll(),this.neonPage.enabled=!0,this.neonHighLightButton.enabled=!0},LootBoxManager.prototype.openSpoilerPage=function(){this.closeAll(),this.spoilerPage.enabled=!0,this.spoilerHighLightutton.enabled=!0},LootBoxManager.prototype.openMotorPage=function(){this.closeAll(),this.motorPage.enabled=!0,this.motorHighLightButton.enabled=!0},LootBoxManager.prototype.openExhaustPage=function(){this.closeAll(),this.exhaustPage.enabled=!0,this.exhaustHighLightButton.enabled=!0};!function(){var n={},e=pc.Application.getApplication();n.loadGlbContainerFromAsset=function(n,t,o,a){var r=function(n){var e=new Blob([n.resource]),r=URL.createObjectURL(e);return this.loadGlbContainerFromUrl(r,t,o,(function(n,e){a(n,e),URL.revokeObjectURL(r)}))}.bind(this);n.ready(r),e.assets.load(n)},n.loadGlbContainerFromUrl=function(n,t,o,a){var r=o+".glb",i={url:n,filename:r},l=new pc.Asset(r,"container",i,null,t);return l.once("load",(function(n){if(a){var e=n.resource.animations;if(1==e.length)e[0].name=o;else if(e.length>1)for(var t=0;t<e.length;++t)e[t].name=o+" "+t.toString();a(null,n)}})),e.assets.add(l),e.assets.load(l),l},window.utils=n}();var LoadGlb=pc.createScript("loadGlb");LoadGlb.attributes.add("glbAsset",{type:"asset",assetType:"binary"}),LoadGlb.attributes.add("layerNames",{type:"string",array:!0,default:["World","Customization"]}),LoadGlb.attributes.add("batchGroupId",{title:"Batch group",type:"number",default:-1,enum:[{"< None > ":-1},{WorldCombiner2000:100002},{GrassGroup1:100005},{GroundAsphalt:100006},{GroundGrass:100007},{GroundDirt:100008},{MainMenu:100011},{GrassGroup2:100012}]}),LoadGlb.prototype.initialize=function(){this._isDestroyed=!1,this.onReady=new DelegateP2,this.on("destroy",(()=>this.onDestroyed())),utils.loadGlbContainerFromAsset(this.glbAsset,null,this.glbAsset.name,this.onGlbLoaded.bind(this))},LoadGlb.prototype.onGlbLoaded=function(t,e){if(this._isDestroyed)return;var a,s=[];for(a=0;a<this.layerNames.length;++a){var o=this.app.scene.layers.getLayerByName(this.layerNames[a]);null!==o&&s.push(o.id)}let r=this.batchGroupId;if(r>=0){this.app.batcher._batchGroups[r]||(console.log("Couldn't find batch group with ID",r),r=-1)}var i=e.resource.instantiateRenderEntity({layers:s});this.entity.addChild(i),this.onReady.safeInvoke(t,e)},LoadGlb.prototype.onDestroyed=function(){this._isDestroyed=!0};class ManagedPoolContainer{constructor(t){this._pools=new Stack,this._poolsHashed=new Set,this._poolConstructor=t}getPool(){const t=this._pools;if(t.count>0){const s=t.pop();return this._poolsHashed.delete(s),s}return new this._poolConstructor(this)}disposePool(t){this._poolsHashed.has(t)?console.warn("Attempted to dispose a pool that's already been disposed."):(this._pools.push(t),this._poolsHashed.add(t))}}class ManagedPool{constructor(t,s,o){this._isDirty=!1,this._objects=new Stack,this._usedObjects=[],this._objectConstructor=t,this._defaultInitFunc=s,this._owner=o}get(t=!1){this._isDirty=!0;const s=this._objects,o=s.count>0?s.pop():new this._objectConstructor;return t||this._defaultInitFunc(o),this._usedObjects.push(o),o}reset(){if(!this._isDirty)return;const t=this._objects,s=this._usedObjects,o=s.length;for(let e=0;e<o;e++)t.push(s[e]);s.splice(0,o),this._isDirty=!1}dispose(){this.reset();const t=this._owner;t&&t.disposePool(this)}}class Pool{constructor(t,s){this._objectConstructDelegate=t,this._objectDisposeDelegate=s,this._objects=new Stack}getObject(){const t=this._objects;return t.count>0?t.pop():this._objectConstructDelegate()}returnObject(t){const s=this._objectDisposeDelegate;if(s)try{s(t)}catch(s){return void console.error(s,t)}this._objects.push(t)}}class PoolRegistry{static getPool(t){const s=this._poolsByObjectClass;let o=s.get(t);return o||(o=new Pool((()=>new t)),s.set(t,o)),o}static getObject(t){return this.getPool(t).getObject()}static returnObject(t){const s=t.constructor;this.getPool(s).returnObject(t)}}PoolRegistry._poolsByObjectClass=new Map;class Stack{get items(){return this._items}constructor(){this._items=[]}get count(){return this._items.length}push(t){this._items.push(t)}pop(){const t=this._items,s=t.length;if(0===s)throw new Error(Stack._msgStackEmpty);const e=s-1,i=t[e];return t.splice(e,1),i}peek(){const t=this._items,s=t.length;if(0===s)throw new Error(Stack._msgStackEmpty);return t[s-1]}contains(t){return this._items.indexOf(t)>=0}clear(){this._items.splice(0,this._items.length)}}Stack._msgStackEmpty="Stack is empty";class Vec3Utils{static clamp(t,r,e){t.x=pc.math.clamp(t.x,r.x,e.x),t.y=pc.math.clamp(t.y,r.y,e.y),t.z=pc.math.clamp(t.z,r.z,e.z)}static approximately(t,r,e=1e-4){return MathUtils.approximately(t.x,r.x,e)&&MathUtils.approximately(t.y,r.y,e)&&MathUtils.approximately(t.z,r.z,e)}static angle(t,r){return Math.acos(pc.math.clamp(t.dot(r),-1,1))*pc.math.RAD_TO_DEG}static distanceSq(t,r){const e=r.x-t.x,n=r.y-t.y,o=r.z-t.z;return e*e+n*n+o*o}}class Vec2Pool extends ManagedPool{constructor(t){super(pc.Vec2,(t=>{t.x=t.y=0}),t)}static get(){return this._pools.getPool()}clone(t){return this.get(!0).copy(t)}add(t,r){return this.clone(t).add(r)}addScalar(t,r){return this.clone(t).addScalar(r)}ceil(t){return this.clone(t).ceil()}cross(t,r){return t.cross(r)}distance(t,r){return t.distance(r)}div(t,r){return this.clone(t).div(r)}divScalar(t,r){return this.clone(t).divScalar(r)}dot(t,r){return t.dot(r)}floor(t){return this.clone(t).floor()}lerp(t,r,e){return this.get(!0).lerp(t,r,e)}max(t,r){return this.clone(t).max(r)}min(t,r){return this.clone(t).max(r)}mul(t,r){return this.clone(t).mul(r)}mulScalar(t,r){return this.clone(t).mulScalar(r)}normalize(t){return this.clone(t).normalize()}round(t){return this.clone(t).round()}set(t,r){return this.get(!0).set(t,r)}sub(t,r){return this.clone(t).sub(r)}subScalar(t,r){return this.clone(t).subScalar(r)}}Vec2Pool._pools=new ManagedPoolContainer(Vec2Pool);class Vec3Pool extends ManagedPool{constructor(t){super(pc.Vec3,(t=>{t.x=t.y=t.z=0}),t)}static get(){return this._pools.getPool()}clone(t){return this.get(!0).copy(t)}add(t,r){return this.clone(t).add(r)}addScalar(t,r){return this.clone(t).addScalar(r)}ceil(t){return this.clone(t).ceil()}cross(t,r){return this.get(!0).cross(t,r)}distance(t,r){return t.distance(r)}div(t,r){return this.clone(t).div(r)}divScalar(t,r){return this.clone(t).divScalar(r)}dot(t,r){return t.dot(r)}floor(t){return this.clone(t).floor()}lerp(t,r,e){return this.get(!0).lerp(t,r,e)}max(t,r){return this.clone(t).max(r)}min(t,r){return this.clone(t).max(r)}mul(t,r){return this.clone(t).mul(r)}mulScalar(t,r){return this.clone(t).mulScalar(r)}normalize(t){return this.clone(t).normalize()}project(t,r){return this.clone(t).project(r)}round(t){return this.clone(t).round()}set(t,r,e){return this.get(!0).set(t,r,e)}sub(t,r){return this.clone(t).sub(r)}subScalar(t,r){return this.clone(t).subScalar(r)}moveTowards(t,r,e){const n=r.x-t.x,o=r.y-t.y,l=r.z-t.z,c=n*n+o*o+l*l;if(0===c||e>=0&&c<=e*e)return r;const s=Math.sqrt(c);return this.set(t.x+n/s*e,t.y+o/s*e,t.z+l/s*e)}reflect(t,r){const e=-2*this.dot(r,t);return this.set(e*r.x+t.x,e*r.y+t.y,e*r.z+t.z)}}Vec3Pool._pools=new ManagedPoolContainer(Vec3Pool);var SwitchingMaterials=pc.createScript("switchingMaterials");SwitchingMaterials.attributes.add("materials",{type:"asset",assetType:"material",array:!0,title:"Materials"}),SwitchingMaterials.prototype.initialize=function(){this.materialIndex=0;this.entity.script.loadGlb.onReady.addListener(this.changeToNextMaterial,this)},SwitchingMaterials.prototype.changeToNextMaterial=function(t){var a=0;this.materialIndex=(this.materialIndex+1)%this.materials.length;var e=this.materials[this.materialIndex],i=[],r=this.entity.findComponents("render");for(a=0;a<r.length;++a)for(var s=r[a].meshInstances,n=0;n<s.length;n++)i.push(s[n]);for(a=0;a<i.length;++a){i[a].material=e.resource}};class QuatUtils{static approximately(t,a,e=.001){return pc.MathUtils.approximately(t.x,a.x,e)&&pc.MathUtils.approximately(t.y,a.y,e)&&pc.MathUtils.approximately(t.z,a.z,e)&&pc.MathUtils.approximately(t.w,a.w,e)}static dot(t,a){return t.x*a.x+t.y*a.y+t.z*a.z+t.w*a.w}static angle(t,a){const e=QuatUtils.dot(t,a);return QuatUtils.isEqualUsingDot(e)?0:2*Math.acos(Math.min(Math.abs(e),1))*pc.RAD_TO_DEG}static isEqualUsingDot(t){return t>.9999989867210388}static lookRotation(t,a,e){e||(e=new pc.Quat);var s=QuatUtils._mat4;return s.setLookAt(pc.Vec3.ZERO,t,a),e.setFromMat4(s),e}}QuatUtils._mat4=new pc.Mat4;class QuatPool extends ManagedPool{constructor(t){super(pc.Quat,(t=>{t.x=t.y=t.z=0,t.w=1}),t)}static get(){return this._pools.getPool()}clone(t){return this.get(!0).copy(t)}invert(t){return this.clone(t).invert()}mul(t,a){return this.get(!0).mul2(t,a)}slerp(t,a,e){return this.get(!0).slerp(t,a,e)}rotateTowards(t,a,e){const s=QuatUtils.angle(t,a);return 0===s?a:this.slerp(t,a,Math.min(1,e/s))}getFromEulerAngles(t,a,e){return this.get(!0).setFromEulerAngles(t,a,e)}}QuatPool._pools=new ManagedPoolContainer(QuatPool);class EntityUtils{static addScript(t,n){if(!t)throw new Error("No entity provided.");let e=t.script;return e||(e=t.addComponent("script")),e.create(n)}static getScript(t,n){if(!t)throw new Error("No entity provided.");const e=t.script;if(!e)return;const r=e.scripts,c=r.length;for(let t=0;t<c;t++){const e=r[t];if(e instanceof n)return e}return null}static getScriptInParent(t,n){if(!t)throw new Error("No entity provided.");for(;t;){const e=this.getScript(t,n);if(e)return e;t=t.parent}return null}static getComponent(t,n){const e=t.c;if(!e)return null;for(const t in e){if(!e.hasOwnProperty(t))continue;const r=e[t];if(r instanceof n)return r}return null}static getComponentInParent(t,n){if(!t)throw new Error("No entity provided.");for(;t;){const e=this.getComponent(t,n);if(e)return e;t=t.parent}return null}static getScale(t,n){n||(n=new pc.Vec3);const e=this._lossyScaleBuffer;ArrayUtils.clear(e);let r=t;for(;r;){const t=r.getLocalScale();e.push(t),r=r.parent}const c=e.length;n.copy(e[c-1]);for(let t=c-2;t>=0;t--){const r=e[t];n.mul(r)}return ArrayUtils.clear(e),n}static reparent(t,n=null,e=null,r=null,c=null){if(t.parent&&(e=t.getPosition().clone(),r=t.getRotation().clone(),c=EntityUtils.getScale(t),t.reparent(null)),n){if(e){const t=n.getPosition(),r=new pc.Vec3;r.sub2(e,t),e=r}if(r){const t=(new pc.Quat).copy(n.getRotation()).invert(),e=new pc.Quat(0,0,0,1);e.mul2(r,t),r=e}if(c){const t=EntityUtils.getScale(n),e=new pc.Vec3;e.sub2(c,t),c=e}}else{n=pc.Application.getApplication().root}e||(e=pc.Vec3.ZERO),r||(r=pc.Quat.IDENTITY),c||(c=pc.Vec3.ONE),t.setPosition(e),t.setRotation(r),t.setLocalScale(c),n.addChild(t)}static destroyChildren(t){const n=this._childBuffer;ArrayUtils.clear(n),ArrayUtils.pushRange(n,t.children);const e=n.length;for(let t=0;t<e;t++){const e=n[t];e&&e.destroy()}ArrayUtils.clear(n)}static clone(t,n=null,e=null,r=null,c=null){n||(n=t.parent);const i=t.clone();return this.reparent(i,n,e,r,c),i}static cloneScript(t,n=null,e=null,r=null){const c=this.clone(t.entity,n,e,r);return this.getScript(c,t.constructor)}static getForward(t){return t.forward.mulScalar(-1)}}EntityUtils._childBuffer=[],EntityUtils._lossyScaleBuffer=[];var AddStaticCollisionRuntime=pc.createScript("addStaticCollisionRuntime");AddStaticCollisionRuntime.prototype.initialize=function(){(this.loadGlb=this.entity.script.loadGlb).onReady.addListener(this.onGlbLoaded,this)},AddStaticCollisionRuntime.prototype.onGlbLoaded=function(i,t){var o=this.entity.children[0];o.addComponent("collision",{type:"mesh"}),o.addComponent("rigidbody",{type:pc.BODYTYPE_STATIC});CollisionMeshService.instance.createCollisionMesh(o.collision,o.render)};class Listener{constructor(e,t,s){this.id=e,this.method=t,this.target=s}equals(e,t){return e===this.method&&t===this.target}}class DelegateBase{constructor(){this._lastListenerId=-1}lazyInit(){this._listeners||(this._listeners=[],this._listenerIds=new Set)}addListener(e,t=null){if(!e)throw new Error("Listener not provided");const s=new Listener(++this._lastListenerId,e,t);this.lazyInit(),this._listeners.push(s),this._listenerIds.add(s.id)}removeListener(e,t=null){if(!e)throw new Error("Can't remove listener: method not provided.");this.lazyInit();const s=this._listenerIds,n=this._listeners;for(let i=0;i<n.length;i++){const r=n[i];r.equals(e,t)&&(n.splice(i--,1),s.delete(r.id))}}removeListeners(){const e=this._listeners;e&&(e.splice(0,e.length),this._listenerIds.clear(),this._lastListenerId=-1)}setListener(e,t,s){s?this.addListener(e,t):this.removeListener(e,t)}hasListener(e,t=null){const s=this._listeners;if(!s)return!1;const n=s.length;for(let i=0;i<n;i++){if(s[i].equals(e,t))return!0}return!1}hasListeners(){return this._listeners&&this._listeners.length>0}invokeInternal(e,t){let s;this.lazyInit();const n=this._listenerIds,i=this.prepareInvocationQueue();for(;i.length>0;){const r=i.dequeue();if(n.has(r.id))try{s=e?r.method.call(r.target,...e):r.method.call(r.target)}catch(e){if(!t)throw this.disposeInvocationQueue(i),e;console.error(e)}}return this.disposeInvocationQueue(i),s}prepareInvocationQueue(){const e=DelegateBase._invocationQueuePool,t=e.length>0?e.pop():new Queue;t.clear();const s=this._listeners,n=s.length;for(let e=0;e<n;e++){const n=s[e];t.enqueue(n)}return t}disposeInvocationQueue(e){e.clear(),DelegateBase._invocationQueuePool.push(e)}}DelegateBase._invocationQueuePool=[],DelegateBase.prototype.on=DelegateBase.prototype.addListener,DelegateBase.prototype.off=DelegateBase.prototype.removeListener;class Delegate extends DelegateBase{invoke(){this.invokeInternal(null,!1)}safeInvoke(){this.invokeInternal(null,!0)}}class DelegateP1 extends DelegateBase{invoke(e){this.invokeInternal(arguments,!1)}safeInvoke(e){this.invokeInternal(arguments,!0)}}class DelegateP2 extends DelegateBase{invoke(e,t){this.invokeInternal(arguments,!1)}safeInvoke(e,t){this.invokeInternal(arguments,!0)}}class DelegateP3 extends DelegateBase{invoke(e,t,s){this.invokeInternal(arguments,!1)}safeInvoke(e,t,s){this.invokeInternal(arguments,!0)}}class Queue{constructor(t=4){this._capacity=0,this._length=0,this._tail=0,this._head=0,this.setBuffer(new Array(t))}get length(){return this._length}expandBuffer(){const t=this._capacity+1;let e=Math.ceil(this._capacity*Queue._growFactor);for(;e<t;)e=Math.ceil(e*Queue._growFactor);const h=new Array(e),i=this._buffer,s=i.length;for(let t=0;t<s;t++){const e=this.getIndex(this._tail,t);h[t]=i[e]}this._tail=0,this._head=s,this.setBuffer(h)}setBuffer(t){this._buffer=t,this._capacity=t.length}getIndex(t,e){return(t+e)%this._capacity}get(t){if(t<0||t>=this._length)throw new Error("Argument out of range.");const e=this.getIndex(this._tail,t);return this._buffer[e]}enqueue(t){this._length===this._capacity&&this.expandBuffer(),this._buffer[this._head]=t,this._head=this.getIndex(this._head,1),this._length++}dequeue(){if(0===this._length)throw new Error("Queue is empty.");const t=this._buffer[this._tail];return this._buffer[this._tail]=null,this._length--,this._tail=this.getIndex(this._tail,1),t}peek(){if(0===this._length)throw new Error("Queue is empty.");return this._buffer[this._tail]}clear(){const t=this._length,e=this._tail;for(let h=0;h<t;h++){const t=this.getIndex(e,h);this._buffer[t]=null}this._length=0,this._tail=0,this._head=0}}Queue._growFactor=2.5;var LoadGlbV2=pc.createScript("loadGlbV2");LoadGlbV2.attributes.add("glbAsset",{type:"asset",assetType:"binary"}),LoadGlbV2.attributes.add("layerNames",{type:"string",array:!0,default:["World","Customization"]}),LoadGlbV2.prototype.initialize=function(){this.onReady=new Delegate;var e=this;utils.loadGlbContainerFromAsset(this.glbAsset,null,this.glbAsset.name,(function(a,t){var s,l=[];for(s=0;s<e.layerNames.length;++s){var n=e.app.scene.layers.getLayerByName(e.layerNames[s]);console.log("Layer names: "+n.name),null!==n&&(l.push(n.id),console.log("Layer  and IDs"+l[s]))}var r=t.resource.instantiateRenderEntity({layers:l});e.entity.addChild(r),e.onReady.safeInvoke()}))};var LootboxButton=pc.createScript("lootboxButton");LootboxButton.attributes.add("nameText",{type:"entity"}),LootboxButton.attributes.add("highlight",{type:"entity"}),LootboxButton.attributes.add("lock",{type:"entity"}),LootboxButton.attributes.add("gray",{type:"entity"}),LootboxButton.attributes.add("priceText",{type:"entity"}),LootboxButton.attributes.add("newPannel",{type:"entity"}),LootboxButton.attributes.add("confirmBuyPannel",{type:"entity"});var LootBoxEventLisiner=pc.createScript("lootBoxEventLisiner");LootBoxEventLisiner.attributes.add("hatsPoint",{type:"entity"}),LootBoxEventLisiner.attributes.add("spoilersPoint",{type:"entity"}),LootBoxEventLisiner.attributes.add("exhaustPoint",{type:"entity"}),LootBoxEventLisiner.attributes.add("motorsPoint",{type:"entity"}),LootBoxEventLisiner.attributes.add("neonLightsPoint",{type:"entity"}),LootBoxEventLisiner.attributes.add("lootboxHandler",{type:"asset"}),LootBoxEventLisiner.prototype.postInitialize=function(){this.app.on("UpdateCarVisual",this.updateCar,this),this.app.on("ShowVisual",this.showVisual,this),this.app.on("AddSaveMods",this.addSaveMods,this),this.alLootBoxItems=[];var t=this.lootboxHandler.resource.instantiate().script.lootBoxHandler;this.alLootBoxItems=this.alLootBoxItems.concat(t.hats,t.spoilers,t.exhaust,t.motors,t.neonLights,t.valuables),this.addSaveMods()},LootBoxEventLisiner.prototype.addSaveMods=function(){},LootBoxEventLisiner.prototype.updateCar=function(t){},LootBoxEventLisiner.prototype.showVisual=function(t){},LootBoxEventLisiner.prototype.spawnVisuals=function(t,o){};class ArrayUtils{static pushRange(t,s){const e=s.length;for(let c=0;c<e;c++)t.push(s[c])}static remove(t,s){const e=t.indexOf(s);return!(e<0)&&(t.splice(e,1),!0)}static clear(t){t.splice(0,t.length)}}class LinkedList{constructor(){this._length=0,this._version=0}get first(){return this._head}get last(){return this._head?this._head._previous:null}get length(){return this._length}addNodeFirst(e){return this._head?(this.insertNodeBefore(this._head,e),this._head=e):this.insertToEmptyList(e),e}addItemFirst(e){const t=this.prepareNode(e);return this.addNodeFirst(t),t}addNodeLast(e){return this._head?this.insertNodeBefore(this._head,e):this.insertToEmptyList(e),e}addItemLast(e){const t=this.prepareNode(e);return this.addNodeLast(t),t}addNodeBefore(e,t){this.validateNode(e),this.insertNodeBefore(e,t),e===this._head&&(this._head=t)}addItemBefore(e,t){const s=this.prepareNode(t);return this.addNodeBefore(e,s),s}addNodeAfter(e,t){this.validateNode(e);const s=e._next;this.insertNodeBefore(s,t)}addItemAfter(e,t){const s=this.prepareNode(t);return this.addNodeAfter(e,s),s}prepareNode(e){if(!e)throw new Error("No item provided.");const t=this.getEmptyNode(e);return t.list=this,t}insertToEmptyList(e){e._next=e,e._previous=e,this._head=e,this._length++,this._version++,e.list=this}insertNodeBefore(e,t){t._next=e,t._previous=e._previous,e._previous._next=t,e._previous=t,this._length++,this._version++,t.list=this}removeItem(e,t){const s=this.find(e);return!!s&&(this.removeInternal(s,t),!0)}removeNode(e,t){this.validateNode(e),this.removeInternal(e,t)}removeInternal(e,t){if(e._next===e)this._head=null;else{const t=e._previous,s=e._next;t._next=s,s._previous=t,e===this._head&&(this._head=s)}t?this.disposeNode(e):e.clear(!0),this._length--,this._version++}clear(e){let t=this._head;for(;t;){const s=t.next;e?this.disposeNode(t):t.clear(!0),t=s}this._head=null,this._length=0,this._version++}validateNode(e){if(!e)throw new Error("No node provided.");if(e.list!==this)throw new Error("The node belongs to another linked list.")}disposeNode(e){e.clear(!1),LinkedList._nodePool.push(e)}find(e){if(!e)throw new Error("Item not provided.");const t=this._head;if(!t)return null;let s=t;for(;s.value!==e;)if(s=s._next,s===t)return null;return s}getEmptyNode(e){const t=LinkedList._nodePool;let s;return t.count>0?(s=t.pop(),s.value=e):s=new LinkedListNode(e),s}}LinkedList._nodePool=new Stack;class LinkedListNode{constructor(e){this.value=e}get previous(){return this._previous&&this!==this.list.first?this._previous:null}get next(){return this._next&&this._next!==this.list.first?this._next:null}clear(e){this.list=null,this._next=null,this._previous=null,e||(this.value=null)}}var CarBrakeLights=pc.createScript("CarBrakeLights");CarBrakeLights.prototype.initialize=function(){(this._car=EntityUtils.getScriptInParent(this.entity,Vehicle))||(this.toggleRoot.enabled=!1,this.enabled=!1)},CarBrakeLights.prototype.update=function(){const t=this._car;if(!t)return;const e=this.toggleRoot,i=t.brakingForce>0;i!==e.enabled&&(e.enabled=i)},CarBrakeLights.attributes.add("toggleRoot",{type:"entity"});class TemplateUtils{static getScript(t,e){if(!t)throw Error("No template provided.");if(!e)throw Error("No script type provided.");const i=t.__scriptCache||(t.__scriptCache=new ScriptCache),s=i.getScript(e);if(s)return s;let r=this.getEntity(t);const n=EntityUtils.getScript(r,e);return n?(i.addScript(n),n):null}static instantiate(t,e=null,i=null,s=null,r=null){const n=this.getEntity(t);i&&n.setPosition(i),s&&n.setRotation(s),r&&n.setLocalScale(r);const a=n.clone();return this.setTemplate(a,t,!1),EntityUtils.reparent(a,e,i,s,r),a}static instantiateScript(t,e=null,i=null,s=null,r=null){if(!t)throw new Error("No script template provided.");const n=t.entity;if(!this.isTemplate(n))throw new Error("Can't instantiate script because it is not a template script.");const a=this.getTemplate(n);if(!a)throw new Error("Can't instantiate script because it's not associated with a template.");const c=this.instantiate(a,e,i,s,r),l=t.constructor;return EntityUtils.getScript(c,l)}static getEntity(t){const e=t.resource;let i=e._templateRoot;return i||(e._parseTemplate(),i=e._templateRoot),this.setTemplate(i,t,!0),i}static getTemplate(t){return t.__template}static isTemplate(t){return t.__isTemplate}static setTemplate(t,e,i){t.__isTemplate=i,t.__template=e}}class ScriptCache{constructor(){this._scripts=[],this._scripts=[]}addScript(t){this._scripts.push(t)}getScript(t){const e=this._scripts,i=e.length;for(let s=0;s<i;s++){const i=e[s],r=i.constructor;if(r===t||r.prototype instanceof t)return i}return null}}var RenderCameraToElement=pc.createScript("renderCameraToElement");RenderCameraToElement.attributes.add("elements",{type:"entity",array:!0}),RenderCameraToElement.attributes.add("renderResolution",{type:"vec2",description:"Resolution to render at"}),RenderCameraToElement.attributes.add("renderOnce",{type:"boolean",description:"Renders the first frame only"}),RenderCameraToElement.prototype.initialize=function(){this.createNewRenderTexture(),this.renderOnceFrameCount=0,this.on("destroy",(function(){this.assignTextureToElements(null),this.renderTarget.destroy(),this.texture.destroy()}),this)},RenderCameraToElement.prototype.update=function(e){this.renderOnce&&(this.renderOnceFrameCount+=1,this.renderOnceFrameCount>4&&(this.entity.enabled=!1))},RenderCameraToElement.prototype.createNewRenderTexture=function(){var e=this.app.graphicsDevice;if(this.texture&&this.renderTarget){var t=this.renderTarget,r=this.texture;this.renderTarget=null,this.texture=null,t.destroy(),r.destroy()}var n=new pc.Texture(e,{width:this.renderResolution.x,height:this.renderResolution.y,format:pc.PIXELFORMAT_R8_G8_B8_A8,autoMipmap:!0});n.minFilter=pc.FILTER_LINEAR,n.magFilter=pc.FILTER_LINEAR;var i=new pc.RenderTarget({depth:!0,flipY:!0,samples:2,colorBuffer:n,device:e});this.entity.camera.renderTarget=i,this.texture=n,this.renderTarget=i,this.assignTextureToElements(this.texture)},RenderCameraToElement.prototype.assignTextureToElements=function(e){const t=this.elements,r=t.length;for(let n=0;n<r;n++){t[n].element.texture=e}};class ElementUtils{getCanvasPosition(s,e,n,t,c){c||(c=new pc.Vec2);const o=s.canvasCorners,r=o[0],a=o[2];c.set(pc.math.lerp(r.x,a.x,n),pc.math.lerp(r.y,a.y,t));const i=s.screen.screen.resolution,l=e.z;if(l<1){const s=i.x,n=s*l,t=e.x*s;c.x=(c.x-t)/n*s}const x=e.w;if(x<1){const s=i.y,n=s*x,t=(1-(e.w+e.y))*s;c.y=(c.y-t)/n*s}return c}}function a0_0x1e55(){const t=["kill","_hudRootTemplate","ProximityService","ONE","_localClient","SimpleAnimatorEntityTarget","_rightButton","createAmmoVehicle","requestFullscreen","loadScene","SocketMessage: no domain found for ID ","_inputSettings","getDifferenceMask","buttonTemplate","onSessionStopping","_cellSizeInverse","AudioCategory","writePackedUInt32","Can't start game mode: no game mode template defined.","4qgHpRB","enableLimit","NetworkTransform","curve","defaultScale","getClosestPlayerDistance","isReliable","_pricing","RenderTextureSetter","Root Element","resource","onSpawned","Low and high angular limits for the constraint in degrees. By default, low is greater than high meaning no limits.","RaceResultMenu",'". The first state must always be a full state to ensure all clients receive a proper first representation of the entity. Forcing a full state creation instead.',"onStopping","_hasRegistered","inputSettings","setUpPlayerInputListener",'" has a pose without an entity (index ',"Server","pushNetworkTime","_parameters","value","onButtonClicked","interpolationSettings","Can't start coroutine because it has already been started.","stateStream","Seasons","_childBuffer","setMainCamera","inverse","The index of the input user.","getSceneRegistryItem","destroyConstraint","_inputBroadcaster","isEnabled","Could not find a message handler for message ID ","availableRoomsOnly","vec2","attr","_sessionTimeModule","removeButtons","isLeaf","isDisposed","applyEngineForce","updateSound","reliable","onEnableInternal","Can't add module to module system: module is already registered.",'Failed to stop module of type "',"setTimeText","InputDevice","currentTimeDisplay","networkSession",'" (ID ',"btTriangleMesh","updateUsers","resetStartTime","UiInputActions","saveParts","stringify","getTypeInfo","updateSteering","enabledState","get_m_wheelAxleWS","_includesClientInfos","onClientReadinessChangedInternal","ProximityGroup","Logger","lifeTime","_raceId","_viewModules","location","hingeConstraint","logCellStats","invalidate","_innerMessage","_length","getCurrentSpeedKmHour","DelegateBase","writeByte5","User Index","addRecipient","onDestroyInternal","Tried to register an input element more than once.","OPEN","_buttons","spawnEntity","destroyChildren","velocityZ","_referenceResolution","attributeModule","Can't create current state of type \"","setValue","takeDamage","limits","getDelegate","_defaultInitFunc","currentRace","_frameForwardBuffer","_states","createWindow",'Encountered an error whilst deserializing network component of type "',"onSessionStopped","get_m_hitPointWorld","_enumerator",'Behavior "',". Destroying second instance.",'" instead.',"view","onEntityDespawned","touchCancel","drawCells",", max: ","walkSpeedLimit","_raceEntryObserver","setChildModuleType","linearScaleUpward","isDone","HealthComponent"," without a parameter name","showCurrencyAd","_batchInfoPool","InputBinding","stopEnumeration","random","pushRange","routingId","setPose","Failed to handle a response of type ",'Could not activate menu of type "',"ListRoomsRequest","addNodeLast","lengthSq","request with message ID ","transport","preventDefault","warn","approximately","setLowerAngLimit","readUInt32","_vehicleBodies","getTransition","_isToggledOn","advanceCheckpoint","removeAction","maxPlayers","webkitFullscreenEnabled","addDevices","grid","stepsPerSecond","InstantMenuTransitionHandler","startCoroutine","return","_onCellRemoved","Can't send client left acknowledgement: no room session available on the leaving client.","_statPanelTemplate"," is missing a to-animator.","notifyLoadingFinished","hands","ModuleContainer","onToggled",'The server is changing to scene "',"_targetTimeDisplacement","deltaTime","_bufferSizeWarning","_currentNode","stopAfterExitDelay","validate","_isAlive","_stateStream","getApplication","Can't add entity because it has not been spawned.","serviceRestart","MessageHandler","parameterName","transition at index ","mouseDown","tlsHandshake","sendMessageImmediate",'Softness of the constraint. Recommend 0.8 to 1. Describes the percentage of limits where movement is free. Beyond this softness percentage, the limit is gradually enforced until the "hard" (1.0) limit is reached.',"loadVehicles","mobile","InputEvent","StaticCamera","_wrappedGameMessage","maxEngineForce","removeCell","disableContextMenu","rawEntity","clear","_vehicleBodiesById","copyFrom","currencyType","toParameter","AttributeModule","onGameModeIdChanged","_nodePool","vertexBuffer","PokiSDK","+750 stars!","_upperCaseRange","removeBehavior","topSpeed","setOwner","serverTime","href","addDomain","_actions","setPosition","getRotationRadius","maxSlowdownFactor","showChanceWeight","speed","setLocalEulerAngles","numTriangles","_sceneLoadCommand","btCylinderShapeZ","No state provided.","No script template provided.","_headAnimator","ElementRenderTextureSetter","EVENT_MOUSEUP","_linksByFromParameter","_spawnableSceneEntities",", but the client is already set as not-ready.","_messageStartPosition","showRewardPrompt","values","isDevelopmentBuild","] - Distance: ","updateHighScores","_bonusStarRewardText","initializeTemplate","validateCanSendMessage","SignInRequestMessage","onPlayerStateChanged"," with an empty module mask.","Can't send message: the connection has been disposed.","_netTickFunction","getDevice","prepareStream","getWindow","actionPath","_targets","Batch error: message index in batch is out of range.","_inputStrength","VirtualCamera","_links","settings","network session stopped","reason","isFinite",'" because a device of this type has already been added.',"_liftOffTimer","insertStartEvents",'Empty / invalid enum on attribute "',"Loop-back message type mismatch (message ID "," - ","broadcastInternal","onMessageInternal","_poolConstructor","vehicleTemplate","_childModuleType","respawnVehicle","tickTimeOut","_lastX","_transitions","Speed Record (","addWheel","roomCreate","_settings","lateUpdate","NetString","Can't create menu stack: no menu stack template has been defined.","rotationY","returnInstance","EntityDespawnMessage","WindowFlags","Can't remove volume listener: not added.","_fireEvent"," behavior(s).","_bindingBuffer","Twist Limit","disposeNode","Can't validate the current scene because scene \"","networkHandle","processAttributes","set_m_suspensionLength","View","both","routingMask","_playersByClient","setHudEnabled","GameSessionStopCode","hasEvent","Pawn","State","sendMessageLoopBack","_yFlip","UInt32MaxValue","finish","stopLoadInternal","onCellRemoved","- Cell range getting test: ","succeed","soundSettings","hide","registerScript","showPanel","_objective","error","loadModule","_app","A coroutine was stopped but it has no node.","getTemplate","StringUtils","netVarReplicator","updateText","PokiManager","Can't add state to frame ","updateCheckpointDistance","onClicked",'Failed to load child branch "',"getPlayers","tail","_room","removeNodes","onPartConfigRemovedInternal","HandsSwayModule","defaultEndMessage","bind","Can't start GameSession: already started.","tickOverrideMask","1131848TAkQYJ","playerControllers","onInputEventInternal","The new tick-rate must be an integer value.","app","_outgoingStream","Tried to unregister an input broadcaster from an input listener there was a broadcaster mismatch.","onPawnChanged","_starRewardText",'Failed to deserialize state of type "',"_lossyScaleBuffer","started","getLocalScale","Attribute refers to a component of type ","setCell","Can't start the client because it's already running.","mouseenter","onopen","_menuRoot","Overwriting HUD instance for lifeTime ","createConfig","onNodeRemovalPending","Failed to update entity state: unexpected error:","Invalid routing ID ","invalidateVolumes","_vehicles","loadSceneHierarchy","init","getPlayerByClient","SimpleAnimatorParameter","Can't load scene \"","_texture","_tempState","_managerTemplates"," because no asset with ID ","onTouchEnd","swingSpan2","invalidateGrounded",'" for frame ',"onSignInFailed","setLocalRotation","title","PointToPointConstraint","_replicator","StateMachine","begin","freeze","handsTransform","hasErrorMessage","_requestType","multiplayer","onScenePostActivationInternal","run","_characterController","Failed to generate capsule shape. Check attributes.","Received a scene change message but the scene name is empty.","GameMode"," via domain ","click","cacheTransitions","readInt32","gateway","_isEnumerating","changeState","ClientHandleModule"," (expected ","startDriving","TimeManager","btCollisionShape","BehaviorNodeRegistry","_getValueDelegate","Links","serializeRotationAxis","handsMotionDelay","_next"," bytes: buffer position overflow (position: ","_vehicle","Delegate","getMotionRadius","invalidatePlayerObjective","Can't kick client ","onRoomListReceived","reloadInitialScene","createCcInputUser","Can't dispose node because it still has children.","_scanRadius","_frameCount","isToggledOn","abnormalClosure","add2","RaceHud","cacheMainCamera","fail",". Aborting frame deserialization.","LeafNode","onMenuActivationPending","get_m_suspensionRelativeVelocity","_isExecutingTicks","_numId","Can't instantiate script because it's not associated with a template.","player/look","InputBroadcaster","addListener","_tickTypeConversionTable","setToggledOn","setHandler","touchEnd",'" because the command has already started.',"Can't fetch attribute module of class ","_pawns"," without any players.",'". Template component references are currently not supported.',"respawnHandler","catch","player/handbrake","steerLeft","inputActions","Locally despawning entity with net ID ","hasListener","_activeActions","_activeControlSchemes","getSettings","setStack","ClientInfo","sphereCast","invalidateNodeRange","Can't remove entity because it has not been spawned.","handleId","messageStream","NetInteger","_array","exports","DeviceManager","autoCreateTickFunction","_accessToken","TickType","InputSetup","readPackedInt32","serializedName","Menu","cacheGridUnits","getObject","speedUnitText","RequestFailureReason"," due to a previous state error (see console).","entitySpawn","onPostSceneChange","requestServerSceneInfo","_maxRange","UiElement","lerp","onViewClosed","onClickedInternal","UiRoot","_prevHeadPose","trySequenceInputEvent","EntitySpawnBatchMessage","_routingMask","setUpperLinLimit","_partSettings","_rewardedAdButton","cellsByIndex","PhysicsManager","_delay","Queue","_vehicleStageTemplate","speedText","continueTask","toFixed","_items","characterController","QuatUtils","addAttributes","onPongInternal","createHuds","_channel","_angularVelocity","onLoadStartedInternal","rotateTowards","No menu transition provided.","Controller","serialization","_conditions","consume","snapToState","previousMenu","startRace","SimpleAnimatorState","toState","addTriangle","enter","enableBackAction","getLocalRotation","onServerSceneChangeFinished","loadGameModes","newerState","sub2","MessageBox","Parameter Name","menu","_transform","enginePitchRange","invalidateInputUsers","normalClosure","failRequest",'Created new player account "',"No camera properties provided.","setItem","margin","_indexInReplicator","_hasStartedDriving","Kickstarter","engineForce","btSphereShape","Received a client info for client ","Can't remove proximity node from cell: node not added.","Can't add input device to input user because the device has already been added.","cellDistance","RaceResults","_hoveredElement","KEY_A","onNodeCollectionReduced","CreateRoomRequest","ManagedPoolContainer","_instance","Drive Time (hrs)","ClientInfoMessage","Message box has no body text component.","addPartConfig","keydown","addMovementVelocity","_systemModulePool","Can't create UI root: no UI root template has been defined.","No message available.","next","Can't send message: not connected.","_hostClient","Client left:","trimPastFrames","positions","invalidateCanProcessInput","_windowTemplate","addSpawnableSceneEntity","GameSessionManager","NetworkScene","onDespawned","onErrorInternal","_currencyType","onRaceStartPending","_lastResponseTime"," has no name.","_rotationEuler","reloadScene","onPingReceived","pushValue","_elementsByAction","BooleanMessage","rotation",": batch mismatch (possibly incorrect message pooling).","loadSceneHandles","account","getUserConstraintId"," received a NetVar dirty notification from a NetVar that has not been registered with the replicator.","saveConfigs","_isRunning","storeDistanceDelta","AccountManager","primary","hasAuthority","_pawn","No scene load command / name provided.","unsetRpcHandler","replicatorNode","prototype","InputAction","_tmpVec3","onFinished","_originalPose","_movement","SeasonService","hasEnumerationPermission","_value","console","onNetClientIdChanged","-ms-fullscreen","network session stopped: ","Can't change to server scene because no scene handle with name \"","vehicles","onLeft","onPawnAddedInternal","isArray","Spawned net ID ","encode","_playerStates","last","New Config","NetworkConnection has both local and remote clients. A separate connection is required for local messaging.",'" does not refer to an animator.',"clearInternal","wasClean","hasExtrapolatedRigidBody","systemModule","Can't add player with ID ","MenuStack","configs","addEventListener","getForward","set_m_engineForce","ButtonComponent","ClientHandle","_saveIntervalMs","PlayerController","Can't show an ad because the SDK has not yet initialized.","tryPostConstructBehavior","Requester","entities","forceSerializeFullFrame","timeZone","setCurrencyListeningEnabled","onClientJoined","typeInfos","Could not find action map ","set_m_wheelAxleCS","vehicleBody","RaceModule","socket","unsetMessageHandlers","mousedown","totalStates","matchmaking","_broadcaster","onTransitionStartedInternal","0x3",'" of branch "',"document","collisionComponent","fireInputEvent","KEY_SPACE","_itemPointerBuffer","onDirty","createPlayerController","onCoroutineDisposed","onRaceStartedInternal","minutes","Use Motor","_disabledRoot","isShowingAd","Found scene handle with duplicate name ","Can't show message box: no menu stack found with life-time ","hasBatch","clientLeftAck","DateTimeFormat","setCoordinateSystem","behavior","KEY_LEFT","isLoopBack","_coroutines","stateSize","fireAwake","disposeMessageInternal","deserialize","_account","twistSpan","FirstPersonViewModule","_dynamicNodes","Impromptu destroying transient UI root.","destroyTransientEntities","_mat4","SettingsModule","_lowerCaseRange","cells","appendHeaderDebug","onLoadingFinished","_enabledRoot","0x4","fireSceneChanged","getGameModeSettings","Position of the constraint in the local space of this entity.","ConvexCastResult","getShouldBob","instantiateHudPart","_handleId","Failed to create spawning entity ","ServerSceneModule","getAcceleration","tickType","triggerleave","Needle Turn Range (degrees)","deconstruct","p2Hud","resolve","_linearVelocityPrecisionDigits","addPlayer","loadVehicleBodies","Movement Strength (m/s)","assetId","ScreenScaler","Name","btBvhTriangleMeshShape",", error:","rigidBody","findClosestChild","KEY_M","refresh","CollectionOperation","addHandler","Couldn't find a main camera in scene \"","Can't clone connection for client: the connection has been disposed.","TimeSpace","onSceneActivated","createTriggers","divScalar","accessToken","Base64Utils","Could not find a core asset with asset ID ","enableMotor","forwardJumpMaxSpeed","position","onCollisionMeshesGenerated","headRotationRadius","addCameraHandle","analytics","getSpawnPoint","get_m_skidInfo","_fromParameter","setTicksEnabled","timeEnd","get_m_wheelsRadius","splice","setCurrencyAdRedirection","_messageBatch","engineSound","_startTime",'" whilst syncing parameters.',' references unknown to-parameter "',"frame","get_m_deltaRotation","preloadScene","aspectRatioMode","totalHours","Game message receive error (message ID ","Matchmaking strategy received a network session stopped event, but the strategy is not active.","selectedVehicleRecord","_serializeDelegate","messageDomains","onSceneLoadStoppedInternal","setDirty","Can't create duplicate state of type \"","updateDownforce","handsRotationRadius","StartingZoneGateOpener","updateCheckpoints","TickFunction","attributes","_curvePreset","setTickFunction","distanceUnit","_scanSettings","vehicleConfig","2022.3.0","msFullscreenElement","onTimedOut","Can't send message: domain is not associated with a gateway.","copyAxes","invalidateAutoStart","The main camera entity doesn't have a camera.","activeMenu","ProximityScanCache","pool","getEmptyNode","getStats","root","StatusCode","_wrenchIcon","_columnIndices","HingeConstraint","_devicesByType","ClientReplicationModule","_landscapePrompt","onMainCameraChanged","324851WTETaF","_unpackedMessageQueue","onPossessionChanged","_entities","_listeners","createRenderTarget","_currentFrameNode","needle","Vehicle","setGravity","children","AudioSettingsModule","_body","_checkpointScaleSpeed","_assetDatabase","btCylinderShape","_config","local","RPC receive error: handle ID mismatch.","info","_moduleMask","_records","Listener not provided","getPaymentMethod","onInputEvent","getDomain","_localStoragePath","parent","readVector2","addTransition","disableCheckpoints","onAttributeChanged","_scripts","onScenePreActivationInternal","owner","_vec3","addClientByInfo","consumeInput","user","starReward","_sceneHandlesById","Axis","isReady","EntitySpawnMessage","stopCoroutines","_entitySerializer","debugScanTreeForNode","broadcast","_textDecoder","getTime","Can't remove player with ID ","playerCreate","AngleUtils","_defaultVolume","onPlayerChangedInternal","_hashedClientBufferPool","_usedMessages","couldn't set parameter value: parameter \"","mozRequestFullScreen","_entityStateSerializer","pawns","onUnregistered","updateDistance",". Expected request ID ","_hud","continue","meshInstances","initializeFullscreen","ammoPosTo","isOpening","Can't stop the client because it's not running."," doesn't have a to-parameter.","HudSpeedometer","Main Camera","Could not find a handler for network message ","_rewardType","Client can't change scenes because no scene name was provided.","spawnPoint","_gameModesById","_proximitySettings","_stringDecoder","GameSessionInfo","_unlockedVehicleNameText","wheelAnchors","serializeEntities","smoothSpeed"," has a link without a from-parameter at index ","axisA","div","onClosed","entityB","_minimizedCheckpointScale","createRenderTexture","onSceneReady","_renderOnce","enableCameraTesting","onStacked","Can't spawn entity because it has already been spawned.","Stand-in Transition","get_m_maxSuspensionTravelCm","_fps","stepsPerMeterPerSecond","getGameMode","_renderTarget","WaitInstruction","NetworkSessionStopReason","Animator","poolNode","completions","_gameMode","onAdOpenedInternal",'Could not create a local player because game mode "',"table","PlayerHandle","ServerCloseMessage","scaleSpeed","_selectedVehicle","readUInt16","splitCamelOrPascalCase","entityDespawn","free","FirstPersonCharacterView","logByMethod","pawnTemplate","delayedEnableSiteLock","_idleOutput","GRAY","secondsPerDay","mulScalar","transitionMenu","assets","handbrake","FORWARD","Can't set pawn to player state: no server authority.","currentEnumeratedNode","maxRoutingId","olderState","onContinuePressed","invokeInternal","getFullYear","Relaxation factor of the constraint. Recommend to keep this near 1. The lower the value, the less the constraint will fight velocities which violate the angular limits.",'Could not find action "',"_netTime","kinematic","terminate","_lastTextRefresh","_instances","-moz-full-screen","_parseTemplate","runSpeedLimit","_pool","linearVelocity","moveTowards","remove","_fromAnimator","_objectConstructor","set_m_deltaRotation","n/a","mainAccount","create","_lastJumpTime","diffAxes","_weaponAnimator","GameSessionStopReason","serializeComponents","_messagePool","addInputListener","setRace","invalidFramePayloadData","ui/continue","ServerInterpolationModule"," because the player has already been added."," is ready.","onLocalMultiplayerToggled","addItemLast","angVelocityX","anchor","json","roomId","_name","get_m_contactNormalWS","invokeGameMessageHandler","TickGroup","startSceneLoad","needsResolving","_tickRate","includes","_isShowing","awake","Game state could not find game mode with num ID ","preload","_overrideMask","_camera","Connected Pivot","formatPlayTime","HudRewardedAdPanel","validateMethodUsage","createOverrideMask","onRespawnRequested","cancelInput","tickRate","getSpeedLimit","signIn",' of entity "',"_modules","addItemFirst","angularDrag","toggleRoot","season","EntityStateReplicationMessage","onDeviceOrientationChanged","_sceneItem","ListRoomsRequestMessage","_dirtyBits","walkAcceleration","New player state has no associated client.","getPlayerController","activateMenuByTemplate","Can't supplement missing fields in a delta state of type \"","frictionSlip","onDeath","subScalar","setAutoActivateScene","The provided menu is a template, not a menu instance.","input-blocker","setRotation","_animator","Keyboard","Best: ","dynamicsWorld","SceneManager","deserializeEntityStates","ClientSceneModule","Can't create HUD root: no HUD root template is defined.","_inputListenerContainer","frustumCulling",'" because it has not been loaded.',"_controller","hudRoot","EVENT_MOUSEMOVE","stars","ensureMinimumLength","NetworkChannel","_playerRoom","setEntityPhysicsEnabled","renderAsset","Tried to post-construct a behavior that has already been post-constructed.","fire","onMenuUnstacked","pawnDestroyDelay","_poolsByMessageClass","_vehicleBodyEntities","executeTick","VehicleRecord","inputMode","LifeTime","componentIndex","_invocationQueuePool","addition","abs","InputDirector","mouseWheel","enableNodeTesting","stateMachine","_pendingAdditions","channel","EnumerationMutableCollection","_clientsByRoutingId","AudioCategorySettings","_requester","addNodeInternal","actionMaps","sqrt","tickPresentation","tickCoroutine","strengthCurveTimeScale","Couldn't determine the URL of the current scene.","unscaled","_maxPastFrames","UiUtils","_vehiclesHashed","hasOwnProperty","getCylinderShape","onPanelClosed","hasNode","highScoreText","ammoRotFrom","MessageDomainId","string","onEntityDestroy","RpcMessage","dynamic","Connected Entity","MessageDomain","addChild","btConeTwistConstraint","_networkComponents","_isConsumed","_isOpen","_isProcessingInitialState","enum","broadcastSessionInfo","gameState","proximityScanCache","Singleplayer HUD","onAccountReady","MessageRoutingMask","onRaceAdded","_partTemplate","isEqualUsingDot","updatePlayerStates","_meshIndex","CreateSessionResult","Socket",'Animator target "',"onTriggerEnter","bitMask","_hasAsyncLoadedGLBs","disposeLeafNode","handle","color","): already occupied.","SoundComponent","bodyText","syncParameter","right","ammoTransformTo","setAnimating","setInputEnabled","PurchaseInfo","_localClientRoutingId","clientKicked","positionZ","_currentTransition","KEY_RIGHT","roomJoin","FAILED","_initialSize","onObjectiveChanged","addMessageToBatch","fromParameter","virtualCamera","_windowsById","_currentCheckpointIndex","onIsAliveChanged","Found a duplicate game mode ID.","onCollision","delete","onTimeResponseReceived","getAccount","createInputListener","Attempted to dispose a pool that's already been disposed.","CcCameraSetup","RaceMenu","_lastUiUpdate","CcPlayerState","referenceResolution","yawStrength","onClientJoinedInternal","Can't remove child node: the provided node is not a direct child.","CurrencyType","ArrowUp","CreateRoomResponseMessage","States","pivotB","attributeChange","wasPressed","HudFpsCounter","_stringEncoder","music","_activeTriggers","onPostNetTick","updateVelocities","can't transition to state \"","fractionInverse","fullscreenchange","CircularBuffer","interpolationDelay","popInScale","dispose","tickTimeDifference","generalHud","toLocalClient","deserializeComponents","onUnstacked","autoRun","tryMergeWithBatch","SignInResponseMessage","showRaceResults","_isServer","NetVar","AudioManager","formatLogMessage","_checkpointsRoot","Last frame serialization:","retryLoadSceneData","getMenuTemplate","TimeUtils","EventsModule","Tried to post-construct a disabled behavior.","_time","Enable to render a representation of the constraint.","getUpAxis","Enable a motor to power the automatic rotation around the hinge axis.","netTick","roomSession","invokeHandler","onSignInSucceeded","Range didn't return 2500 cells. Amounted of cells returned was ","_currentRace","dequeue"," ms","Starting ","scene not found","setPlayerStateInternal","setEnabled","_onCellAdded","GameModeManager","onSessionStoppedInternal","updateTextScale","_nodeRangeSquared","_lastSentFrame","onPlayerAddedInternal","ArrayUtils",'" is missing in frame ',"addPartRecord","Failed to start game session:","FollowCamera","getPool","_maxFutureFrames","KEY_D","CollisionMeshService","get_m_suspensionLength","onDeviceOrientationChangedInternal","Can't register spawnable scene entity: the entity has already been spawned.","innerHTML","setTime","Mouse","btDynamicsWorld","Element Mask","call","2555EtxuqH","onMenuClosed","updateWheelTransformsWS","_bindingsByActionPath","RequestMessage","getTickOverrideMask","Softness","proximity-scan","windowRoot","splitCameraRight",'Failed to serialize state of type "',"Can't send game message with ID ","_parametersByName","_registrationKey","): unknown sender ","clamp01","disposeCoroutine","useInput","skipInitialSceneLoad","lastTickCompensated","Can't start the server because it's already running.","GameServerModule","_isHost","To Parameter","CurrencyModule","btCylinderShapeX","GarageManager","VehiclePartCategory","angVelocityY","buffer","_headBobAnimator",'" not found.',"_lastResolution","onDestroyed","_messageDomain","CcAccountManager","FILTER_LINEAR","get_m_clippedInvContactDotSuspension","onUiRootDestroyed","instantiateElement","_lastRequestId","JoinRoomRequest","disposeMessage","writeByte","_bindings","_fpsTimer","_elements","gameModeTemplates","padStart","touchcancel"," because it has not been registered.","rayCast","RoomSessionInfo","appendFooterDebug","set_m_wheelsRadius","indexInReplicator","btSliderConstraint","ViewSwayModule","softness","_pitch","createEventArgs","createMessageDomains","_distanceUnitMi","webkitfullscreenchange","Can't stop scene change command of scene \"","secondary","CameraManager","RPC receive error (message ID ","nodeRangeSquared","milliseconds","_clients","strengthCurve","createListener","onRaceStarted","CameraProperties","_isAnimating","_multiplayerButton","Can't create HUD root: no main window found on UI root.","Vehicle record refers to unknown vehicle with ID ","readGameMessage","patchedMouseEventHandler","postInitialize","_idCompareFunc","disposeRecord","onWindowAdded","GameMessageMetadata",", GUID: ","MODULE_NOT_FOUND","testRange","PlayerRoom","_pingTrackersByClient","HudObjectivePointer","_actionPath","fovMargin","EntityRotatorProximityToggler","vec4","onPlayerRespawned","notifyNetVarDirty","isInteger","_driveStartTime","getMovementVector","_debugFromPos","windowTemplate","Linear Limits","VehicleStats","_inputUser",'" to account ',"onRaceStartCancelledInternal","reliableSequenced","_frameSerializationParams","_distanceUnitKm","customNode","_hasClosed","_forceImperial","isCountingDown","onActivate","fireLoaded","deviceOrientation","vectors","onRewardPromptCloseButtonClicked","stateConstructor","DeviceOrientation","_targetTime","startTransition","_standInTransition","Tried to post-construct a behavior that doesn't have a post-construct node.",'" is undefined. Please check for circular dependencies.',"undefined","timeDisplacement","deviceType","MessageBatcher"," could be found.","prepareForMesh","LocalizationManager","_trianglesPerSecond","rgb","onDeactivate","parseEnum","Can't load account with ID \"","_netVars","_raceButton","pitchStrength","UiSwitch","btVehicleTuning","mouseUp","pointer","CcGameMode","runAcceleration","CollectionSerializer","races","_scriptClass","_bestTime","unbindAction","maxSteering","landscapePromptTemplate","Split Camera (right)","LnBva2ktZ2RuLmNvbQ==",": channel mismatch.","setCcdMotionThreshold","onDismissedInternal","getFormattedErrorMessage","addPingRecord","_vehicleParts","Can't show an ad because another ad is already showing.","addViewTransform","style","messageSize","session","number","_target","_titleText","onMsgClientLeft","biasFactor","createRoot","TimeSpaces",' on template "',"onWindowClosed","_fpsText","extremeLeaves","ensureHasOwnAttributes","_closeButton","setW","Can't send request because the request is already active.","getTargetType","onPawnDestroyed","dynamicNodeHandle","forward","events","btDefaultVehicleRaycaster","GameSessionModule","Can't start enumeration: already enumerating.","createFrame","pivot","RawEntity","headMotionRadius","_componentIndex","tick","onTriggerLeft","getUser","assetDatabase","_raceNameText","getPosition","snap","receiveRpc","destroyPlayerInputListener","Couldn't find any input users.","deserializeRotationAxis","animationTime","tryAddSupplementalFrame","modifyOverrideMask","_netVarReplicator",": not running as the server.","VehiclePart","_parameterName","2oRjNJf","_rotationDeadZone","onRpcMessage","_attributeModule","GraphicsManager","9924800cUkcYS","opacity","bonusStars","_playerState","_objectDisposeDelegate","invert","_messageId","lowestLeaf",": already executing a tick.","From Animator","The Swing 2 Limit limits the rotation around the swing axis. Swing 2 Limit limits an axis of rotation orthogonal to the twist axis and Swing Limit 1. The limit angle is symmetric. Therefore, a value of 20 will limit the rotation between -20 and 20 degrees.","UiInputEventType","has","setCoroutinesSleep","createHudRoot","off","From State",", because the replicator has no frames (yet). IsFullFrame: ","_maxHistoryDuration","mouseLeave","btConeShapeX","invokeRpc","getNumWheels","notifyBackPressed","Customization","checkpoints","hasGroundUnderFeet","_scene","roomList","stopTransition","stopped","_cachedStructs","broadcastInputEvent","extrapolateState","registryNode","EmptyMessage","setEntitiesEnabled","get_m_frictionSlip","webkitRequestFullscreen","createSupplementalStates","_recordsHashed","onParameterValueChangedInternal","client","Failed to create a response for message ","worldToGridPosition","setNodeRange","autoRender","persistent","transportErrorType","_isImperial","tryConstructBehavior","_closeUnlockedPromptButton","CharacterController","clearYieldInstruction","_duration","max","MSFullscreenChange","setMouseEventPatchEnabled","_isActive","state reference at index ","syncIntervalMs","No item provided.","angularVelocity","cameras","mainCameraHandle","_soundComponent","_listenerIds","_proximityGroup","onUnRegistered","notReady","Camera handle doesn't have a camera component.","getCells","onMenuStacked","stopTouchEvent","timeAck","sin","_player","Can't auto-active scene of load command \"","angleLimits","borderless","carEntity","HudCountdownDisplay","_session","volumeRange","controlSchemes","setCcdSweptSphereRadius","getVolume","Item not provided.","readyState","_collectionSerializer","Received a response of type ","ArrowDown","onPlayerRemovedInternal",'" because the command\'s load-mode is set to "',"StateFrame","HudPart","stopLoadWithError","loadCategorySettings","_curve","Application","changeToPreviousState","onAmountChanged","set_m_steering","setLowerLinLimit","unsetRpcHandlers","getGravity","Module","_amounts","onPlayerControllerAdded","set_m_suspensionRelativeVelocity"," because the network scene is not ready.","_cellConstructor","bindInput",'" has finished loading.',"setFromMat4","Accessed a disabled debugger (wastes performance).","_postTickCallback","Client ","Failed to read the message ID of a batched game message.","network session stopped with code: ","onSucceeded","Show Parameter Name","Can't send request: already sent.","lookSettings","primitive","Can't stop enumeration: not enumerating.","getOutgoingFrames","HudRoot","_requestStates","loadSceneData","movementStrength","_posesHashed","StateReplicatorDebugger","Pool","onRightButtonPressed","VehicleAcrobatics","cloneScript","Shirtless Old Man Engine ","BehaviorMethodNames","autoSpawn","manual","inverseLerpUnclamped","setLocalPosition","HandsSwaySettings","_isShowingAd","_messageBatcher","localPlayers","onMouseUp","_halloweenSeason","UInt16MaxValue","couldn't send the request (","onPlayerCreatedInternal","rootEntity","onMouseDown","_debugPassed","pointToPointConstraint","Type: ","_framesSerializer","WaitForTickInstruction","CollisionMeshGenerator","mph","_connection","addPart","onError","delta","Window Template","hasSpawned","sendRequest","render","_cellSize","changeSceneByHandle","getConvexHullShape","sendStream","normal","_endMessage","snapToFrame","createSession","indexInBatch","Idle Output","distance",". Asset ID: ","Can't start coroutine on disabled behavior \"","fullscreenerror","The provided buffer is too small. Required size: ","Adding a ","_statPanels","_dirtyMask","_costText","clampAxisValue","gameLoadingStart","totalLeafs",". Aborting frame serialization.","getScale","Client","set_m_raycastInfo","EntityRotator","invalidateAuthority","Behavior","getScriptInParent","Vec3","Relaxation Factor","destroyDelayed","destroyEntityDelayed","add","mapId","_state","gameModeTemplate","onUnlocked","Drive Distance (","return (function() ","_handsSwaySettings",'" does not have a player controller template.',"The rate at which the current interpolation delay is moved towards the ideal interpolation delay.","frameupdate","angVelocityZ","set_m_frictionSlip","getEmptyColumn","_dismissButton","_transitionsByTarget","Aborting the deserialization of frame ","timeSpace","serializeEntityState",'Encountered an unexpected error whilst loading module "',"getMessageEventArgs","state","stringPath","Failed to generate cone shape. Check attributes.","disposeStates","pong","onSessionStartedInternal","_toAnimator","removeChild","onElementDestroyed","_autoClose","addCell","throttleDown","get_m_groundObject","round","airTime","Optional second entity","_client","measureScanDuration","_gameState",'Failed to load scene "',"ClosestConvexResultCallback","_isTransitioning","writeBool","convexSweepTest","Socket message error: content is not an ArrayBuffer.","unsetStack","AnimationCurvePreset","devices","enableCollision","kick","masterServerUrl","width","onResponseReceived","_lastRequestTime","onResponseMessage","setVirtualCamera",'", because a current state has already been created.',"Game","_lastY","transition","_metadata","NetworkManager","MatchmakingFailureReason","_increaseRewardButton","driveStartTime","createTexture","autoRetry","updateCheckpointScale"," has an invalid to-state.","setPawnToCameras","addItemAfter","America",'" to account "',"autoCreateTickFunctions","Can't add proximity node to cell: node is already in use.","_lastSentState","getEulerAngles","_type","_unscaledRotation","capacity","Failed to start ","getBoxShape","onDismissed","_objects","addMessage","_isInitialState","_local","fov","_stats","bestTime","move","Socket message error: message content is empty.","receiveEvent","_hasSentInitialState","Entity Mask","resetPose","handsSwaySettings","setActive","NetworkMessageMetadata","CcGameModeWorldSettings","btCompoundShape","CcMenuManager","Can't change scenes: scenes are being managed by the local server."," already exists.","stopRaceButton","No audio category settings found for category ","KEY_W","NetworkMessage","rewardedBreak","onRegistered","textComponent","resetTimeout","lateInitialize","entitySpawnBatch","sign","_deltaTimes","_mainCamera","mozFullScreenElement","): no handler found.","Can't send message with ID ","config","Target motor angular velocity.","rigidBodySystem","_currentSecond","parts","Can't create behavior node of type ","_vehicleStatsDisplay","_componentsMask","_entityStateDeserializer","Tried to apply the same parent to a node.","Window root","updatePose","player/move","seekZero","disable","Can't load scene because the load command is invalid:","_valueText","_leftButton","totalSeconds","_bitLimit","goingAway","canvas","_linearVelocityDeadZone","setControlSchemeForDevice","sendTimeRequest","UiManager","get_m_worldTransform","uiRoots","updateCurrentFrame","Manager Templates","castObject","trackLeaveTime","onProximityScanCompleted","No entity provided.","mouseup","onCoroutineStopped","Min: ","triMeshCache","Air Distance (","_speedUnitMph","_unlockButton","resetPosition","amounts","'s value does not have a NetworkHandle.","addCamera","invalidateFps","_deltaBuffer","errorMessage","DamageEvent",": message ID mismatch.","deactivateMenu","removeClientByInfo",'Received a frame replication RPC for entity "',"Can't start coroutine because it has already started.","disposeInternal","setListener","hostClient","pricing","screenSpace","_isInputEnabled","UInt8MaxValue","wasSuccessful","Can't select vehicle: not owned.","_cameras","isBobbing","onNetLocalIdChanged","previous","getMessage","inputSetup","onTargetLeftInternal","_cellBuffers","push","invokeHandlerLoopBack","ammoPosFrom","_targetClass","_nodeMask","An element (usually a background plane) that can be clicked to dismiss the message box.","getChassisWorldTransform","_isMouseDown","touch","ProximityCell","updateAnimationScale","set_m_rotation","animator","BehaviorNodeType","_filteredInput","Vec2","room","readInt16","leavingTrackRoot","btVector3","assign","_tasks","point","entityMask"," could be found","assetType","evaluate","_nodes","ensureCanAdd","addPawn","no render texture is specified.","signAngle",") is already bound to another handler.","save","TriggerEventType","Encountered an unexpected error whilst saving account ","RaceRecordRegistry",' references unknown from-parameter "',"writeVector3"," (bonus)","onEntityDespawnMessage",'" but we\'re still switching to scene "',"_race","_virtualCamera","_hudParts","forwardFrames","measureCellInvalidationDuration","instantiateScript","_proximityGroups","_isCountingDown","No local players detected. Sign-in request will likely fail.","onConnected","raceId","request","Failed to serialize frame ","removePlayer","constraint","ElementComponent","speech","_selectButton","touchMove","Site lock exception:","MatchmakingStrategy","_totalStates","_panelCloseTime","unPossess","fromState","newestFrame","linearScale","Module mask: ","shift","getPart","time","averagePing","set_m_maxSuspensionTravelCm","localClient","loadModules","GameModeModule","addNodeFirst","Type","Int8MaxValue","touchend","ConeTwistConstraint","indices","mozfullscreenerror","jump","VehicleStatPanel","onEntitySpawnBatchMessage","removeConstraint","nextMenu","interpolateState","orientationSettings","_hasSetInitialDisplacement","Can't create supplemental frame: the replicator has no frames to supplement.","coneCast","btHingeConstraint","ZERO","fireComponentEvent","The interpolation delay measured in the amount states into the past.","lastRequestTime","Showing ad (rewarded: ","setController","setBreakingImpulseThreshold","setPlayersObjective","supplemental","sendMessageBatch","removeHandler","23718KdbiWC","_coroutinePool","ProximityState","tryPoint","Can't add camera to player: already added.","debugColor","mousemove","getPrototypeOf","CcGameState","setLookAt",' of type "',"onNodeAdded","configure","addCompletion","_stepsPerSecond","hasStarted","matchWidthOrHeight","NetArray","__template","0x1","initHandle","Ignoring invalid client info.","_hasAwoken","onSettingChanged","substring","Can't close socket: not connected.","JoinRoomResponseMessage","Menu Stack Template","Can't start game session: no active network session.","gameModeSettings","applyPose","Signing in...","set_m_groundObject","StringMessage","_columnPool","Encountered an error whilst deserializing a network message with ID ","_toParameter","height","isServer","players","EntityUtils","MessageGateway","_owningClass","CcCurrencyType","5680970eeiwXX","canProcessInput","PoolRegistry","Matchmaking","object","Failed to generate convex hull shape. Check attributes.","updateInternal","VehicleStatsTracker","SimpleAnimatorStateTransition","addVar","drawLine","vehicleBodies","_startRealTime","GameMessageEventArgs","_isDirty","cellIndices","secondsPerHour","removal","_tail","_poses","collisionend","splitCameraLeft","getRequestState","graphicsDevice"," has no players.","batchId","Pressed Output","onReadinessChanged","setWorldSettings","Received a client left message, but the client info is incomplete.","onSocketClosed","onClientNotReadyMessage","performed","first"," because no player state could be found.","UiButton","_hasLateInitialized",'Game mode "',"context","Int32MaxValue","Entered fullscreen mode","getLocalPosition","radius","enqueue","sendMessageToAll","isConnected","rigidbody","getRotation","processCustomTypeAttribute","Can't instantiate element because the view has no root element.","setHost","onPingInternal","addRoutingId","parseInt","GameMessageDomain","CharacterView","onDismissButtonClicked","MessagePool","_defaultState","RenderTarget","isSupported","get_m_chassisConnectionPointCS","frameCount","InputEventSequencer","array","hudGarageHintDismissed","_networkComponentsSerializer","_huds","loadParts","_server","_hasInitialized","addRotation","GameStateModule","_pressedOutput","volumes","_readyClients","commercialBreak","_triggers","handleResponse","InputListenerContainer","etaDeadZone","_volumes","DelegateP1","loadPrerequisites","Watch A Video!","uiRootTemplate","processCustomAttributeEntry","getAccountByIndex","setSleep","motorTargetVelocity","_devices","GameState","New: ","_targetDelay","Can't update extreme leaves: provided node is not a child of this node.","notifyPlayerChanged","playerRoom","tickCoroutines","setLimit","_panels","setUserConstraintId","_isSavePending","steeringSpeed","triangleIndex","startEnumeration","Failed to serialize message. Domain: ","keepEntitiesAlive","_view","PaymentMethod","raycastFirst","onJumped","isStacked","onMouseMove","Can't dispose coroutine due to a runner mismatch.","look","(Vehicle ID: ","snapThreshold","addFrameChronologically","getRecord","No menu class provided.","addActionMapInternal","pivotA","maxBrakingForce","SocketMessageDomain","onGroundedChanged","hasLoaded","renderComponent","_ping","_renderTexture","setVehicleAdRedirection","format","_buffer","_cameraHandles","onSceneLoadCallback","rpc","_uninitializedCells","serverClosing","log","SimpleAnimatorElementTarget","getInstance","domainId","msFullscreenEnabled","setAnimationFrame","readyClients","_gameStateTemplate","InputListener","MenuDatabase","onUiRootDestroyedInternal","cellSizeInverse","base","syncTimeOutMs","ignoreDirtyChecking","_uiUpdateInterval","ErrorType","onUserAdded","_windows","serialize","onEntityDespawnPending","Maximum breaking impulse threshold required to break the constraint.","onEntitySpawned","Action map ID is out of range.","list",'" and "',"loadAccounts","The color of the debug rendering of the constraint.","PostConstructNodeRegistry","lastPosition","find","sceneHandle","onTransitionStarted","_currentCommand","responseMessageClass","get_m_suspensionCompression","Room"," failed to serialize. Aborting frame serialization. Error:","The attribute's serialized name matches the attribute's name. Explicitly matching the serialized name to the regular name is not allowed (causes resolving issues).","inputEnabled","_pickRoomCallback","parameter at index ","template","CameraUiSettings","loadMode","PASSED","angle","_nodeRange","_seasons","Couldn't send RPC with ID ","12-25","btCapsuleShape","_isDone","_windowRoot"," can't be serialized, because its delta-mask is zero.","enableAngularMotor","_isClient"," with invalid ID ","_lifeTime","VehiclePartConfig","load","Linear limits of the constraint.","teleportPlayers","Unsetting a previous session on a matchmaking strategy.","clientLeft","_node","addAction","addAmount","onCreatePlayerMessageReceived",'": type is not a network message.',"_headerTextElement","Can't stop coroutine because it is not running.","_pingHistory","PhysicsUtils","ClientInterpolationModule","messageId",'" because it is incompatible with manager "',"clientBanned","onRequestReceived","bobSettings","loadProximityGroups","groundDrag","networkSessionStopReason","unscaledTime","wasReleased","SceneType","_partsById","onFailed","ammoHalfExtents","onRoomJoined","transient","module","onPongReceived",' could not find script "',"Color","DelegateP3","explode","hasAdBlock","Can't stop module system: not running.","updateExtremeLeaves","updateStepsPerSecond","onCommandEnqueued","setVehicleIndex","setSession","_pools","multiplayerHud","setAmount","NetworkSession","IdentifiableMessage","hasOverride","onLeftButtonPressed","Swing 2 Limit","0x7","MessageRelay","RequestResponseHandler","gameId","ResponseMessage","setRotatorsEnabled","getAttributeModule"," cell(s) (","_cachedPrimitives","Can't add child node: the provided node belongs to another list.","earlyTick","areMenusActive","_playerControllerTemplate","partSettings","addPosition","CcInputManager","formatTime","CcUiManager","CcMessageType","onLoadStarted","_lastRealTime","serializeEntityStates","partTemplate","onCleared","addCoroutine","_requests","lastTimes","som","_velocity","updateVolumeDirect","removeVolumeListener","Message batch serialization error: no batcher specified.","onSessionInfoReceived"," of client ","readQuaternion","startsWith","lockCursor","getAmount","_uiRoots","results","getModule","_components",", but no request state exists for this client.","checkpointAdvanceDistance","requestFailureReason","inverseLerp","rotationDiffBuffer","setLocked","onLoadStopped","landscape","Couldn't determine the current scene. Scene URL: ","statusCode","element","_isTouching","_enableInput","Tried to start a strategy that's already active.","hasHit","_maxMessageSize","messageDomain","instance","createPlayer","_currentState","MultiplayerHud","getState","_players","MessageSendResult","messageTooBig","remoteClients","Cell [","_bestTimeText","sessionDefaults","stopCoroutine","_handle","sendMessage","VehiclePartConfigStubImpl","synchronizeGravity","acos","vec3Pool","postConstruct"," doesn't support listening for responses","Couldn't find action map \"","writeByte2","onCellAdded","_timeDifference","onControllerSet","triMesh","PingHistory","cameraProperties","jumpUpSpeed","bonusStarReward","sendGameMessage","unsetHandler","netId","_times","axisB","ceil","lock","SocketCloseCode","VehicleStatsDisplay","processInputEventInternal","_messageStream","proximityState","validateStateBufferSize","fullscreenElement",'" with custom type ',"Can't add component: already added.","setCharacterController","Can't read ","ui/back","sub","KEY_UP","_attributeModuleKey","MatchmakingMessageType","_groundingModule","RigidBodyUtils","appendStateDebug","MatchmakingManager","entityState","updateDebug","10330116ULFCBv","GameRules","getWheelTransformWS","Cannot find module '","items","_partsByCategory","Can't add button to message box because no button template has been set.","createBobModule","onPreActivation","dot","onSceneActivationCallback","Can't add handler: the handler's response message type (","removeEntity","Connection timed out","Failed to generate cylinder shape. Check attributes.","brakingForce","MessageEventArgs","Window has already been configured.","respawnDelay","InputMode","pop","serializeFramesBuffered","Socket message error: message has no content.","currentScene","velocityX",": no recipients specified.","setBuffer","_leafNodesById","vec3","onClientLeftInternal","setMessageHandlers","SomSocketCloseCode","set_m_hardPointWS","_leafNodeConstructor","Could not find a camera controller to bind to.","lazyInit","VehicleBody","isTransitioning","Registered happy time (","duplicateState","getKeyPressed","onPlayerControllerAddedInternal","deserializeItem","PlayerRaceState","SeasonalToggle","swingSpan1","Hud","Encountered an unexpected error whilst loading account ",'" in action map "',"setZ","response",'Retrying scene load of scene "',"floor","buttonComponent","onSceneReadyInternal","GO!","Session mismatch.","_unscaledVolume","mainCamera","get_m_bIsFrontWheel","netVars","set_m_chassisConnectionPointCS","Curve (Preset)",': a state already exists for state module with state type "',"_frames","_textEncoder","deserializeVelocityAxis","restartRace","createSpawningEntity","_cameraController","getPingTracker","_singleplayerOnlyBindings","_menuStack","addDevice","Limits","Coroutine","onLocalVehicleDeath","broadcastEvent","pcEndRot","onAccountConstructed","safeInvoke",", message ID: ","LinkedList","tickAutoRequest","accounts","No menu provided.","messageClass","defaultGameMode","addState","createState","_outValue","transitions","The Twist Limit limits the rotation around the twist axis. The limit angle is symmetric. Therefore, a value of 20 will limit the twist rotation between -20 and 20 degrees.","Time: ","get_m_isInContact","No string argument provided.","\" couldn't find its associated HUD.","autoActivateScene","spawnPawn","setVehicleRecord","invalidateStats","concatenate","_messageRelay","texture","_accounts","onSdkInitialized","input","sound","NetHandleRef","elementMask","removeTickFunction","getAngleDifference","Break Threshold","writePackedInt32","transformVector","activationDistance","records","km/h","addVolumeListener","Vec3Pool","onMoveInput","No node provided.","Swing 1 Limit","getActiveCamera","configureMenu","configureRequestMessage","bG9jYWxob3N0","type","_pose","getSpawnableSceneEntity","onEntityBatchSpawned","_aspectRatioSettings"," to spawning entity ","_behavior","Game State Template","ServerModule",", length: ","0x5","countdownDuration","_pointerBuffer","Tried to serialize supplemental state ","deadZone","set_m_wheelAxleWS","single","highestLeaf","Can't deactivate menu: stack is empty.","removeUser","onAdClosedInternal","onReEnter","unspecified","suspensionStiffness","portrait","getEmptyState","serializeItemInternal","FOV Margin (degrees)","_lastListenerId","selectVehicle","N/A","setPlayer","setX","updateAction","TimeSpan","cacheCurrentScene","orthoHeight","_totalPastFrames","isLeavingTrack","replaceAll","forwardJumpSpeedMultiplier","Vec2Utils","dictionary","mul2","deserializeVelocity","now","set_m_contactPointWS","SignInRequest","setParameterValue","addDefaultModules","fullscreen","onUserRemoved","_yieldInstruction","setPawn","logError","_msgStackEmpty","ammoTransformFrom","maxRange","KEY_ESCAPE","serializeFrame","processBufferedValue","_eventSequencer","_stateStartPosition"," (R)",'" overrides the "','" because the state does not belong to this animator.',"isConsumed","column","serializeComponent","Can't spawn entity: no server is active.","timeEqualizeSpeed","_socket","_messageHandlers","serializeCurrentFrame","cost","onSpawnedInternal","sendBatch","HudComponent","updatePosition","Account","ListRoomsResponseMessage","updateDrive","loadManagers","_modulePool","countdownDisplay","BehaviorSystem","updateAnimationTime","Debug Render","getFromEulerAngles","startSession","renderNextFrame","_mouse","State masks:","All tests passed:","scaled","_coroutineModule","viewTime","_hasPostConstructed","inputListener","statePosition","DelegateP2","dismissCallback","removeHudPart","__scriptCache","interval","date","MatchmakingRequestMessage","iterator","join","CoroutineRunner","project","onScenesMatched",' that refers to unknown parameter "',"_bobSettings","_deserializeDelegate","loadAccount","onRaceStopped","copyFromTarget","_list","_serverTime","_element","throttleUp","_tickFunctions","Can't add frame ","node","_positionDeadZone","MAIN","instantiateHud","getAction","CcHud","getBindings","timedOut","batchInfo","resetStartDelay","exit","hours","Mat4","onLocalPlayerPawnPossessionChanged","framesPerSecond","VehicleConfig","AssetType","set_m_rollInfluence","stride","CcAccount","_bobModule",'State of type "',"directEvent","Conditions","get_m_steering","isRunning",": no server or client active.","_hasReceivedInputThisFrame","sprite","Can't preload scene \""," has a player with an invalid ID.","sendGameMessageImmediate","onTransitionStoppedInternal","_isShowingPanel","matchmaking stopped","_hudRoot","setParent","addBindings","PhysicsProximityToggler",'": ',"fullscreenEnabled","SimpleAnimatorLinker","removeCellDirect","_viewRotationEuler","serializationDebugger","movementSettings","set_m_suspensionCompression","readByte","Failed to add child node:","loadModulesDynamic","InputManager","get_m_brake","onRaceButtonClicked","_lastCells","notifyDisabled","RED","set_m_suspensionRestLength1","method","canBeDismissed","PIXELFORMAT_R8_G8_B8_A8","_getTargetElement","): body deserialization failed:","hasState","_lockedRoot","deserializeEntities","VehiclePartAnchor","tickDisplacement","_pingTimeout","_localPlayers","none","_layeredInputListener","_mainMenuButton","menus","setReady","onJumpInputStarted","playerControllerTemplate","Num ID","Received a response from client ","Request","_renderOnceFrameCount","InputEventBroadcaster","Link at index ","_roomInfo","GameSessionTimeModule","getVehicleRecord","get_m_wheelsSuspensionForce","realTime","indexOf","currentFrame","onEscapePressed","onDestroy","_unscaledMovement","_cameraProperties","ViewTransform","updateWheelTransform","getInputValue","Can't remove frame ","onNetworkSessionStopped","signInFailed","_inputEventBroadcaster","getListener","_assetId","performInvocations","ClientModule","_cellPool","processCoroutineDisposals","readPackedUInt32",": invalid sequence.","get_m_wheelDirectionCS","onEnable","addEntity","_currentCheckpoint","getAccountId","_pingTracker","hasWindow","onDisableInternal","addInputElement","_defaultPosition","_viewSwaySettings","setAccount","supportsPortrait","Skipping invalid vehicle record at index ","stopInternal","onRaceStartCancelled","Enable Collision","ready","cameraHandles","setUpInputListener","requestId","set_m_wheelsDampingRelaxation","createAccount","onWindowRemoved","metadata","indentLevel","vehicleId","NetworkStream","_delta","ScriptType","ammoRotTo","CcPlayerController","titleText","_starIcon","level","getEntity","_defaultYieldInstruction","createBuffer","scanResult",'Failed to start module of type "','": the module has already been registered with an account.',"amount","Vehicle Bodies","setPitchControl","_localId","player/run","possess","============ Testing grid ","purchaseInfo","onDisposed","_rawEntity","removeInternal","correctionSettings","isSceneEntity","no default state.","game","_columnsByIndex","toStringTag","nodes","_gateway","onRaceStart","onPanelDismissed","editor","onProximityChanged"," has a link without a to-parameter at index ","deserializeEntityState","isHost","_inputEventCallback","ServerTimeModule","_deviceOrientation","canShow","btRaycastVehicle"," ============","onDisable","updateUi","get_m_hitNormalWorld","mobileHud","RaceRegistry","ProximitySettings","customType","audio","isTemplate","allowInsertionsWhileLocked","Loading finished.","_hudInstances","_hasLoaded","notifyPawnChanged",'Loaded player account "',"_bitMask","Signed in.","parse","p1Hud","_totalFutureFrames","removeInputBindings","setVolume","_frameRateSettings","network","__isTemplate","displacementChangeSpeed","_recipientBuffer","JoinRoomRequestMessage"," is missing a from-animator.","subarray","_wheels","Received an RPC message for unknown entity ","onPreSceneLoadInternal","trySetNodeEnabled","minJumpInterval","defaultVolume","_head","unscaledDeltaTime","createConstraint","_batch","breakingThreshold","_rigidBodySystem","realTimeDelta","onIncreaseRewardClicked","parameterValue","localId","renderTarget","updateValue","boxCast","findByTag","apply","CameraToElementRenderer","formatBitMask","_stringBuffer","onTriggerLeave","_configs","transformPoint","onTimeAckReceived","no ","_clientRoom","consumeDifference","NetVarReplicator","setGameplayActive","setPlayerInputEnabled","createSessionInfoMessage","size","charCodeAt","sceneChangeStarted","setDebug","_registryNode","totalSpawnPoints","DEG_TO_RAD","onPreSceneChange",", out: [","_vehiclePartsById","_root","setCheckpointIndex","stop","ElementMouseEvent","cachePrerequisites","updateExtremeLeaf","Pose","cross","volume","clone","keyboard","bestTimeFormatted","Queue is empty.","system","ClientSessionModule","_routingIds","forceAuthority","menuTemplates","SerializationTest","rootElement","maxMotorImpulse","Tried to close a socket with invalid code ","Vec4","category","_emptyBuffer","createUiRoot","onPong","_elapsedTransitionTime","_races","onMainMenuButtonClicked","rotationZ","_routine","btConeShapeZ","Disposing a proximity node that is still registered as a dynamic node!","ProximityNodePlugin","postTick","BehaviorSystemModule","deserializeFrame","axisMatchRatio","Vec3Utils","_hasAdBlock","debugRender","_maxPlayers","BobSettings","Setting the network scene as not ready before changing scenes. This should have been done by the server.","createResponse","material","SimpleAnimator","_messageSize","accountKey","onMsgClientJoined","getCurrentSceneUrl","onDespawnedInternal","TickTypes","_timeTextElement","adjustLeafCount","mouse","Can't tick group ","_timeDisplacement","proximityNodes","onAnimationStopped","isEditor","pcStartRot","_parameterValue",'Failed to deserialize a frame for entity "',"QuatPool","controller","_batchId","Action Path","viewSwaySettings","expandBuffer","onInputToggled","_indexInStack","_fromState","onSessionStarted","saveAccounts","getSceneHandle","_defaultChoiceButton","lateTick","_frameCounter","ClientTimeModule","scriptType","_requestId","sendBatchedMessages","getComponent","addActionMap","onLoaded","SimpleAnimatorTarget","getComponentSystem","requester","setRpcHandler","_boundRemoveFunction","setCcd","readFloat","shuffle","_vehicleNameText","requestSessionInfo","onCollisionMeshGenerated","getTarget","processInstanceAttributes","respawnPlayer","onRunInput","titleRoot","onmessage","setSteeringValue","_userIndex","_playerStateTemplate","Encountered a null target. Removing...","isInProgress","Received a not-ready message for client ","RPC receive error: invalid component index (","Quat","updateCountdown","unreliableSequenced","isGrounded","replicator","ButtonEventType","_entityDeserializer","set_m_wheelDirectionWS","_networkHandle","hasRemoteClients","gameplayStop","btRigidBody","_season","InputActionMap","_menuStackTemplate","_rewardPromptSettings","setActivationState","ServerReplicationModule","Time Text","getVehicleBody","lastMessageId","tryDeconstructBehavior","Can't remove listener: method not provided.","isActive","onTimeTextChanged","getClient","onPostActivation","show","getInstanceByType","_spawnPointsRoot","setMargin","returnObject","Can't locally despawn entity because no entity with net ID ","_rootElement","modules","Received a frame replication RPC but no server is active. Sender:","math","_lastSaveTime","modulo","btWheelInfo","volumeListenerNode","partId","set","CameraComponent","end","_areMenusActive","resolveAttribute","debugSettings","_uiRoot","testCamera","receiveMessage","_lastPosition","_isAuthorityConfigured","createInputBlocker","InputUser","objective","onStopped","_hasSceneActivationStarted","GameMessage","Tried to trim the current frame whilst trimming past frames. Please make sure the max past frames is configured properly (currently ","entity","onScenePostActivation","insertToEmptyList",", provided size: ","get_m_hitCollisionObject","get_m_wheelsDampingRelaxation","saveInternal","updateExistingVehicleInstances","_vehicleRecord","gameplayStart","vehicle","_system","Optional second connected entity.","removeNodeInternal","_continueButton","_pendingRemovals","ping","ManagedPool","Couldn't create player state: invalid player state data.","MatchmakingResponseMessage",'The server finished switching to scene "',"removeEntities","canSendMessage","message","Int32MinValue","ViewModule","addRecord","enablePointerLock","TickNodeRegistry","fireDirty","KEY_ENTER","days","addVehicleRecord","kickPlayer","writeUInt32","onCloseButtonPressed","replicateEntityStates","enableSiteLock","IDENTITY","_rpcDomain","Grid","_sceneHandleAssets","_grid","createUiRoots","Can't remove client ","setConfig","sensitivity","registerHappyTime","NetScriptRef","requestFailed","Axis of rotation of the constraint in the local space of the connected entity (if specified).","deltaMask","invalidateProximity","Local player state could not be assigned to a player controller because no player controller with ID "," left the room, but the client is not registered with this server.","setLocalScale","TickSystem","CreatePlayerStateMessage","disposeColumn","_hasLoadedInitialScene","linearScaleDownward","assert","[Server] Starting with session:","createScript","onTimeRequestReceived","_clickedEntities","maxSlopeAngle","_hasProcessedInitialScene","localizeSpeed","Angular Limits","Attribute","Player Controller Template","SocketMessage","_owner","trace","_proximityNode","normalize","onPlayerRemoved","delegate","elements","The provided parent node is not at leaf depth.","Client can't change to scene \"","Environment","hitFraction","addStateTarget","destroy","Entity","onAreMenusActiveChanged","clearBatch","NetBoolean","batch",'Removed player "',"activateMenu","startInternal","constructFromBranch","stopPropagation","statePointer","Vec2Pool","setLocalScaling","_animationSettings","startSessionInternal","Failed to load vehicle part config implementation:","processInstanceAttribute","maxSpeedKmh","writeInt32","mul","NetworkStats","_pawnsExposed","setObjective","Can't remove behavior node because it belongs to an unknown/null list.","angularSpringConstant","_text",'Could not fetch an instance of manager "',"Position of the constraint in the local space of entity B (if specified).","suspensionCompression","roles","Race","Can't spawn entities: no server is active.","disposePool","badGateway","inputUsers","showInterval","Debug Color",", available states: ","player/jump","keys","readBytes","slerp","Stack","InputEventType","UI Root Template","delayAdjustmentSpeed","_version","wrenches","start","sceneHandles","onProximityExceeded","Game Mode Templates","_prevBodyPose","Can't create a window with ID ","playerStateData","linearSpringConstant","Received a client info with invalid routing ID ","_volumeListeners"," contains a condition at index ","menuStack","hasRegistered","localizeDistance","getControlSchemesNonAlloc","onRoomCreated","defineProperty","onServerSceneInfoReceived","setClientsNotReady","_delegatesByEventType","addConfig","toUpperCase","_attributes","then","leave","ProximityNode","resolveAttributeProperty","onClientReadyMessage","_previousState","writeFloat","header","writeBytesAndSize","stateStartPosition","steering","peek","_header","_actionMaps","missingExtension","serializeVelocityAxis","cell","_toState","hasParameter","invalidateOrientation","relaxationFactor","users","setOrigin","isClient","getParameterValue",") from sender ","getGameMessageEventArgs","frameRateLimit","onPingUpdated","getDeltaTime","_lastMessageId","protocolError","not connected","downforcePerMs","cancelled","MSFullscreenError","Tried to dispose a column that isn't empty.","readString","_domainId","Scan collected ","serializeFrames","activationDistanceCells","url","Position of the constraint in the local space of the connected entity (if specified).","get","set_m_suspensionStiffness","hasBestTime","setInputUser","_pendingCommands","postUpdate","onCreateSessionResult","_controlSchemes","Can't add handler: the handler's request message type (","changeScene","onPawnAdded","Bias Factor","updateDirty","gravity","setY","setEnumerating","length","copy","getCell","force stopped","onSceneInfoRequested"," because another window with this ID already exists.","connections","updateFps","curvePreset","updateVelocity","No button template has been defined for the message box.","onEntered","activateMenuByType","SerializableStruct","RAD_TO_DEG","_hasForcedAuthority","updateMetrics","disposeInvocationQueue","addComponent","isAlive","deserializeFrames","_to","setFlags","setRequester","steer","removePartConfig","playerState","_requestStatesByClient","deactivationDistance","Can't locally spawn entity ","full","Received a non-full StateFrame as the first frame.","_bindingsWithoutActions","An additional margin (in degrees) to add to camera FOVs when performing frustum culling. A higher margin helps prevent pop-in when using a low interval.","componentType","count","isString","updatePlayTime","generate","getForwardVector","addScript","hornPitchRange","callback","CcGameModeManager","getSibling","onTransitionStopped","SDK initialized.","stopSession","unregister","onPossessionChangedInternal","resetRotation","sendEmptyFrames","getClosestSpawnPoint","remote","Can't remove node because it does not belong to this list.","_mainCameraTag","11tRYiWe","proximity-cell-invalidation","writeString","_position","saveVehicles","linearDrag","_plugins","_column","_task","getPose"," at runtime.","RaycastInfo","_from","invalidateUiRootInput","StateModule","Season","onMessageReceived","_clientBufferPool","setPhysicsEnabled","responseCode","setCountDownEnabled","_hasSetInitialTime","stateDelay","_renderResolution","showMenu","StateReplicator","_autoActivateScene","driveDistance","set_m_isInContact","depth","currentNode","Out of Season","airDistance","_capacity","onPlayerLeavingTrackChanged","isSequenced","setTemplate","RigidBodyType","player","contacts","receiveGameMessageBatch","_timeSpanCache","isLocalClient","rooms","activateScene","onServerSceneChangeStarted","Batch error: batch info mismatch.","validateCurrentScene","-webkit-full-screen","_hashedRoutingIds","unsetHandlers","overrideMask","hasEnded","receiveGameMessage","stats","getEmpty","onPawnRemovedInternal","Tried to tick a coroutine that is not running.","transform","exception","registerBehaviorClass","linearDamping","_categorySettings","_vehicleStage","showRewardReceivedPrompt","Could not set the owning client of a player state because no client with ID ","_isGroundedBuffered","_isMultiplayerEnabled","setUpperAngLimit","clients","getSphereShape","invokeOnManagers","pose","onNetRespawnMessage","maxSpeed","deserializeComponent","connection","Failed to load account module:","Window","onPreSceneLoad",'" more than once.',"ServerSessionModule","_viewTransforms",'] - Added node "',"initialize","Can't stop network session: socket not connected.","Enable Input","Hud3D","_frameInfo","findClosestLeaf","onChanged","Disposing a cell that still contains proximity nodes! Removing all nodes.",'" could be found.',"_rigidBody","ScriptEventType","Request ID mismatch for message ID ","_input","updateVolume","clampValue","HudManager","Gameplay started.","invalidateBody","performProximityScan","asset","Can't add module \"","disposeMessages","getRoot","getCategorySettings","errorType","raceNameText","aHR0cHM6Ly9wb2tpLmNvbS9zaXRlbG9jaw==","addNodeBefore","createRoom","error type ","onTaskFinishedInternal","Encountered an error whilst filtering matchmaking rooms.","mesh","_typeInfosByType","setFromEulerAngles","removeItem","SceneHandle","onAccountsSavedInternal","_pressedElement","hasReadyClients","respawn","systems","btQuaternion","_lastEntityId","NetworkComponent","_stateModule","server","addViewModule","showParameterName","_remoteClients","Can't send message batch: can't send over a local connection.","_inputMode",'" in frame ',"wheel","HudGarageButtonHint","RaceRecord","addNode","DeviceInputBinding","updateInput","getHudPart","isInputEnabled","LinkedListNode","_volumeRange","KEY_DOWN","scripts","sender","getMask","numId","wss://no-pressure-engine-test.glitch.me","processRedirection","outputValue","isPooled","getDrag","scenes","_action","proximitySettings","offset","close","MatchmakingFailureType","_isGrounded","Vehicle part record refers to unknown part with ID ","_previous","pawn","reflect","_retryButton","rollInfluence","getCapsuleShape",", is in view: ","additive","register","getSteeringValue","isChangingScenes","_leafNodePool","get_m_suspensionStiffness","__proto__","To State","lastTick","binaryType","9FnKjFH","RigidBodyComponentSystem","VehicleInput","AudioVolumeRegulator","_isLocked","constructor","_categorySettingsHashed","_emptyMessages","AutoMatchStrategy","Player State Template","Can't create session: a session is already active.","isAwaitingResponse","_uiRootTemplate","Can't reassign account to account module ","code","onTasksFinishedInternal","getTickFunction","Can't add vehicle: another vehicle with ID ","decode","_objectConstructDelegate","updateDelay","playButton","airSpeedLimit","player/respawn","SocketMessageType","Unsigned int: ","mozFullScreenEnabled","Tried to stop a game session that is not active.","RespawnMessage","FixedCollectionSynchronizer","trimStart","evaluateInputEvent","_clientId","updateRotation","_handlers","getActiveControlScheme","resolvedOptions","split","onLookInput","setAnimationProgress","throttle","updateTransition","Can't locally spawn object ","instantiate","onFullscreenError","createDefaultModules","pow","unlockVehicle","invalidateUi","script","triggerSave","_defaultCheckpointScale","_finishTimeText","_sdk","lastRequestId","clamp","_gameModeTemplate","_isGameplayActive","toLocalServer","addBinding","removeNode","setPing","enabled","Enable collision between linked rigid bodies.","Can't create a core instance before the application is created.","spawnSceneEntities","_redirection","_lastPositionPollTime","screen","Invalid orientation","invalidateDynamicNodes","unknown","GarageModule","sceneChangeFinished","get_m_rotation","CollisionEventType","Window doesn't have an ","gameLoadingFinished","totalChildren","construct","invalidateHasActiveMenus","camera","removeListener","_listenersHashed","validateLinks","cloneForClient","SocketMessage: failed to read message header:","player/throttle","Received an out of sequence time acknowledgement. Received ack ID ","_deviceManager","YieldInstruction","__esModule","SliderConstraint","UiInputDevice"," frame(s)","getOrigin","duration","ManagerTypeInfo","_cachedAuthority","onRetryClicked","_isRespawning","_hasStarted","disposeState","event","addPlugin","GameMessageType","contains","Managers","update","writeBytes","btTransform","NetworkBehavior","onClientLeft","_columns","sendFrameToServer","_hasUserMadeChoice","onRaceStartPendingInternal","totalMinutes","Bias factor of the constraint. Recommend 0.3 +/- approximately 0.3. Strength with which constraint resists zeroth order (angular, not angular velocity) limit violation.","shapeCast","loaded","get_m_maxSuspensionForce","_handleBuffer","InputControlScheme","removeClient","GameModeWorldSettings","_availableRoomsOnly","onServerNotReadyMessage","pitch","_isSleeping","_lastTickNetTime","nodeRange","onTriggerEntered","mouseleave","enableInput","_batchedMessagePool","Provided message recipients for a local connection (not required).","_gameModeId","updateMovement","body","topLevelType","get_m_wheelAxleCS","lookRotation","modifyTickOverrideMask","distanceToCheckpoint","NetworkHandle","Can't locally spawn scene object ","updateExtremeLeavesByChild","Max Motor Impulse","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/","_vec3Pool","GarageMenu","serializeVelocity","path","_isShowingDefaultButton","ViewSwaySettings","seasons","readBytesAndSize","policyViolation","guid","_worldSettings","_sceneHandlesByName","EntityStateReplicationBatchMessage","_downforce","_isUiDirty","_netDeltaTime","UI Asset Database","setBrake","Failed to remove cell:","findIndex","invalidateInputUser","_accountsById","InputLayers","_angularVelocityPrecisionDigits","_cell","Scene Handles","onNetPlayerStateChanged","description","teleport","_hashedStates","button","getScript","addButton","Generic6DofConstraint",'Hud component "',"hasFinished","SceneLoadCommand","OpenMessageDomain","GameSession","isPressed","batchedMessages","Can't close room: room is already closed.","--:--:--","lerpUnclamped","validateNode","TemplateUtils","schema","parameters","back","CcMenu","Can't add frame @ t:","No attribute name provided.","_generationStartDelay","writeByte4",'" due to a delta supplementing error:',"success","AccountModule","_debugToPos","addBehavior","arraybuffer","getArgs","UiAssetDatabase","Default State","entityStateBatch","onUiRootCreatedInternal","onRequestStopped","VehiclePartRecord","stopRace","onScenesMatchedInternal","loadVehicleParts",'" because it could not be found.',"speedMs","PlayerState","_users","Received an empty client info.","btCollisionWorld","Signed int:","Texture","_listenerBuffer","getWorldTransform",'" has no game state prefab.',", but the client is already set as ready.","isOnline","Pivot","elementFillLayout","Downforce Per m/s"," because it could not be found.","setUserConstraintType","Fullscreen error","times","sceneInfo",", received request ID ","_vehicleInstance","getDistanceDelta","_videoIcon","Axis of rotation of the constraint in the local space this entity.","debugScanTreeForNodeR","Manager","_growFactor","_timeSpace","unreliable","default","_unlockedRoot","_viewTransform","changeSceneByName","HudRewardedAdDisplay","createManagerInfo","RaceEntryObserver","testNode","getHashCode","slot","send","networkComponent","done","Max Speed (Km/h)","PokiExtensions","sessionInfo","createPlayerInputListener","getRightAxis","text","_inputBlocker","onPartConfigAddedInternal","Can't add behavior: behavior already registered.","btBoxShape","_mainCameraHandle","isInView","_nextCheckpoint","getUiRoot","Encountered an error whilst disposing a network message:","model","getControlSchemes","toString","Script","isFront","_speedMs","suspensionRestLength","destroyEntity","unsupportedData","_color","collision","Received client info for client ","positionCorrectionStrength","updateTransitionStarting","hasVehicle","Encountered an error whilst serializing a net var:","Found scene handle with duplicate ID ","BatchInfo","append","_statePool","race","createCollisionMesh","toArray","getPlayer","CameraHandle","getConeShape","sort","Encountered a disabled behavior during ","_bufferedValue","InputActionPath","deserializeEntity","wheels","NetworkConnection","_persistentRoot","_button","enableFullscreen","_outOfSeason","_usedObjects","onPlayerAdded","actionId","Can't stop the server because it's not running.","removeFrame","onBodyChanged","addModule",", but the client has already been added.","_bodyRoot","Can't start generation task: already started.","writeByte3","toLowerCase","_networkComponent","NetworkHandle net var could not find an object with ID ","findClosestNode","reparent","Couldn't determine the current scene: no scene handle with name \"","byteLength","onRaceStoppedInternal","EVENT_MOUSEDOWN","mat4","appendChild","can't perform animation state transition because no transition between states \"","tag","closeButton","Connected Axis","invoke","addVehicle","enable","addConstraint","getForwardAxis","onSessionInfoRequested","onValueChanged","toggleHuds","ClientHandleInterpolationModule","reset","_playerControllers","onDismissElementClicked","CameraRenderTextureSetter","removePawn","getEmptyLeafNode","createMessageHandler"," could not find an object with ID ","WorldSettings","setFraction","3320574JjQgjz","domain ","CurrencyDisplay","name","AudioToggle","convexCast","_speedUnitKmh",'" loaded but the scene load command was stopped prematurely.',"setMultiplayerInputEnabled",".json","onAnimationStarted","seconds","New client with ID ","msExitFullscreen","PlayerInfo","requestMessageType",": frame not registered.","_results","selectedVehicle","minimumTimeStep","getNode","_poolsHashed","Argument out of range.","_isEnabled","action",". All closure codes must be between 3000-4999. Closing socket without a closure code as a fallback.","_angularVelocityDeadZone","readVector3","RenderTexture","stay","createPersistentRoot","_maxPlayersPerRoom","min","loadConfigs","createMetadata","createConnections","RequestFailureType","serializeItem","showAd","bindings","UiInputElement","_resolution","readBool","Ammo","_adButton","_typeInfos","isSleeping","systemCache","_isDestroyed","Animation Settings","_canBeDismissed","invalidateCurrentRace","MenuTransition","addUser","BobViewModule","Client joined:","Duration (sec)","Can't despawn entity: no server is active.","Menu Templates","No menu template provided.","getPlayersByClient","RoomInfo","onPawnRemoved","isCharUpperCase","setNetworkTime","addControlScheme","boolean","timeScale","linearLimits","InputLayer",": module already added.","syncVehicleWithAccount","performTransition","touchStart","_templateRoot","Space","- Cell addition test: ","btConvexHullShape","rigidBodySettings",'" because an instance already exists.',"index","scale","_isAwaitingResponse","_layers","Cell","forEach","setPlayerState","_messagePointerBuffer","onVehicleUnlocked",'": already loaded.',"Can't activate scene \"","getVehicles","singleplayerHud","AccountMessageType","createServerClient","pointerRotationSpeed","MathUtils","main","_floatByteArray","prepareInvocationQueue","getItem","insertNodeBefore","itemIndex","target",'Added player "',"setAnimationFrameInternal","Failed to update entity state: no entity with ID ","onSceneLoadStopped","Can't add volume listener: already added.","_ownerMask","currency","_responseType","No template provided.","nativeSocket","requestRespawn","_lastScanTime","updateProgress","_isBobbing","touchmove","activate","Maximum motor impulse.",'Failed to process attribute "',"createLocalPlayers","nodeType","onEntitySpawnMessage","bindAction","_collection","driveTime","timeStampDisplacement","TimeDisplay","_hands","hasInitializedProximity","webkitExitFullscreen","animationScale","getActionMap","Failed to clear the menu stack because a menu could not be deactivated.","_sceneHandles","isRemote","needleTurnRange","RoomMessageType","writeQuaternion","0x2"," failed to serialize. Aborting frame serialization.","canvas{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:0;-webkit-tap-highlight-color:rgba(255,255,255,0)}body{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:0}","responseMessageType","notifyEnabled","returnDuration","_currentScene","syncParameters","PlayerInputButton","Received StateFrame ","vehicleWheel","_managers","onEntityStateReplicationBatchMessage","Int16MaxValue","requestMessageClass","[Poki] ","ClientIdMessage","addActionInternal","No script type provided.","_spawningEntityInfo","_rotation","logWarning","RaceEntryTrigger","serializeState","Failed to save accounts:","_proximityNodes","closeCode","addClient","setMultiplayerEnabled","speedUnit","isClientInfoValid"," stars!","keepAspectRatio","forwardNode","_averagePing","positionY","fraction","deltaTimes","eventType","_inputUsers","stream","prepareNode","ElementInput","_id","inputUser","Can't close room: not running as the server.","disposeTickFunctions","processPendingOperations"," bytes.","singleplayer","angularLimits","getIndex","secondsPerMinute","isLocalPlayer","To Animator","set_m_wheelsDampingCompression","StateFrameType","writeInt16","From Parameter","_gameId","equals","_parts","Can't configure player state: must have server authority.","deactivationDistanceCells","addJumpVelocity","ReadOnlyArray","_flags","onSceneChanged","conditions","happyTime","enableDebugging","general","_entity",". Max routing ID: ","createGameState","onClearedInternal","data","initializeInternal",'" has no view.',"racing","rotationX","get_m_hardPointWS","distanceDeadZone","_frameDeserializationParams","_stream","invalidateExtremeLeaves","SceneLoadMode","bestTimeDisplay","onProximityChangedInternal","clientJoined","finishSpawningEntity",", because another client with the same ID already exists.","getHandler","addForceInDirection","airDrag","rpcDomain","IndexedLinkedList","positionX","generic6DofConstraint","onPawnChangedInternal","coneTwistConstraint","disposeCell","addRecipients","handsMotionRadius","Target Velocity","Session stopped: (","head","writeUInt16","forceStop","_vehicleIndex","_transition","addFrameInternal","garage","_streamPool","applyTexture","global","No scene handle specified.","advanceTask","actions","ProximityToggler","AttributeType","addFrame","getIndices","noStatusReceived","Failed to serialize batched message with ID ",'Tried to register class "',"cos","CameraController","_car","onAccountSet","Value","No recipients provided.","addScalar",'The action path "',"_inputListener","setTriggersEnabled","debugWheel","onConnectedInternal","angularScale","carSound","advanceMesh","jumpSettings","_hasFinishedLoading","Can't read byte: buffer position overflow (position: ","trackInputEvent","_configImplementation","onMenuActivationPendingInternal","_floatArray","onTick","onFullscreenChanged","CreateRoomRequestMessage","Received an empty item mask whilst deserializing a fixed collection.","updateDevices","createCurrentStates","Angular limits of the constraint.","_domains","mozCancelFullScreen","onUiRootCreated","serverConnectionError","getWheelInfo","Failed to load accounts:","Tried to remotely route a message to the local client.","invalidateDeviceOrientation","_category","processCustomProperties","btConeShape","updateSpeedRecord","manual stop","setVelocities","velocityY","scanId","CharacterControllerInput","platform","Entity not provided.","startLocalSession","ConvexResultCallback","_currencyModule","rotationCorrectionStrength","flushBufferedValue","_defaultKeyBehaviorOverrides","VehiclePartConfigImplementation","_rows","indexInHandle","set_m_maxSuspensionForce","_outgoingFramesBuffer","GREEN","positionDiffBuffer","_isReady","serializeBatch","Role","onVolumeChanged","nameToTitle","PhysicsExtensions","setAction","pools","Can't create a player state because the player state template has not been set.","Network","_message","menuStackTemplate","_spawningEntitiesBuffer","performPostConstructInvocations","updateFrameDifference","_disposingCoroutines","Invalid kick arg.","addStat"];return(a0_0x1e55=function(){return t})()}!function(t,e){const s=a0_0x520a,n=a0_0x1e55();for(;;)try{if(748474===-parseInt(s(702))/1+parseInt(s(1357))/2*(parseInt(s(3770))/3)+-parseInt(s(4135))/4*(-parseInt(s(1908))/5)+parseInt(s(1864))/6*(-parseInt(s(1143))/7)+-parseInt(s(4470))/8*(-parseInt(s(3409))/9)+parseInt(s(1362))/10+-parseInt(s(3227))/11*(parseInt(s(2276))/12))break;n.push(n.shift())}catch(t){n.push(n.shift())}}();const a0_0x540cfd=function(){let t=!0;return function(e,s){const n=t?function(){const t=a0_0x520a;if(s){const n=s[t(2758)](e,arguments);return s=null,n}}:function(){};return t=!1,n}}(),a0_0x126dcb=a0_0x540cfd(this,(function(){const t=a0_0x520a,e=function(){const t=a0_0x520a;let e;try{e=Function(t(1571)+'{}.constructor("return this")( ));')()}catch(t){e=window}return e}(),s=e.console=e.console||{},n=[t(2045),t(4273),"info","error",t(3286),t(814),t(3028)];for(let e=0;e<n.length;e++){const i=a0_0x540cfd[t(3414)].prototype[t(4467)](a0_0x540cfd),o=n[e],a=s[o]||i;i[t(3405)]=a0_0x540cfd.bind(a0_0x540cfd),i[t(3690)]=a[t(3690)][t(4467)](a),s[o]=i}}));function a0_0x520a(t,e){const s=a0_0x1e55();return(a0_0x520a=function(t,e){return s[t-=232]})(t,e)}a0_0x126dcb(),(()=>{const t=a0_0x520a;var e,s={6610:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(1237)]=void 0;const i=s(7753),o=s(6943);class _0x24822e extends i.ProximityNodePlugin{[n(2162)](t){const e=n,s=this[e(705)],i=s[e(3171)];for(let n=0;n<i;n++)s[n][e(3458)][e(1557)].enabled=t}[n(1258)](){this[n(2162)](!0)}[n(1279)](){this[n(2162)](!1)}}e[n(1237)]=_0x24822e,_0x24822e[n(3311)]("EntityRotatorProximityToggler",[new(o[n(3024)])(n(705),{type:o[n(4031)].entity,isArray:!0})])},4053:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e.StartingZoneGateOpener=void 0;const i=s(855),o=s(7634),a=s(6899);class _0x473c5a extends i[n(1559)]{constructor(){const t=n;super(...arguments),this[t(1019)]=!1}[n(3488)](){const t=n,e=a[t(1133)].instance;e[t(2880)][t(324)](this.onCollisionMeshGenerated,this),e[t(640)].addListener(this.onCollisionMeshesGenerated,this)}onCollisionMeshGenerated(t){const e=n;"EggMountain"===t[e(2954)][e(3773)]&&(this[e(1019)]=!0)}[n(640)](){const t=n;this[t(1019)]&&this._animator[t(2451)]("open",!0)}}e[n(672)]=_0x473c5a,_0x473c5a[n(3311)](n(672),[new i.Attribute(n(928),{scriptType:o[n(2830)]})])},4492:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e[n(1497)]=void 0;const i=s(855),o=s(7760),a=s(6244),r=s(3338),c=s(7956);class _0x40cb30 extends i[n(1559)]{constructor(){const t=n;super(...arguments),this._input=new r.Vec2,this._filteredInput=new(r[t(1772)]),this[t(4382)]=0}construct(){const t=n;this._vehicle=c[t(1904)].getScript(this[t(2954)],o[t(710)]),this[t(3559)]=a[t(2395)][t(3155)]()}[n(1339)](t){const e=n;this[e(3369)](t);const s=this[e(298)][e(3197)];if(!s||!s[e(3964)])return;const i=s.controller.getActiveCamera();if(!i||this[e(298)].isGrounded)return;const o=this[e(3559)];try{const s=i[e(2954)],n=this.entity[e(1954)],a=this._filteredInput,r=o[e(830)](s.up,-a.x*this[e(1059)]*t);r[e(1565)](o[e(830)](s[e(1027)],-a.y*this[e(1284)]*t));const c=n[e(1424)];c[e(1565)](r),n[e(1424)]=c;const h=n[e(853)];h[e(1565)](o[e(830)](s[e(1027)],a.x*this[e(1492)]*t)),n[e(853)]=h}finally{o[e(3760)]()}}[n(3369)](t){const e=n,s=this[e(298)][e(2382)],i=this._input;i[e(2936)](s.steer,s[e(3449)]);const o=(!this[e(298)][e(2897)]&&i[e(4269)]()>0?1:-1)*this[e(977)]*t;this[e(4382)]=r[e(2930)][e(3464)](this[e(4382)]+o,0,1),this[e(1771)].copy(this[e(3323)]).mulScalar(this._inputStrength)}[n(2617)](){this._vec3Pool.dispose()}}e[n(1497)]=_0x40cb30,_0x40cb30.initialize(n(1497),[new(i[n(3024)])(n(1214),{type:i[n(4031)][n(4138)]}),new(i[n(3024)])("strengthCurveTimeScale",{type:i[n(4031)].number,default:1.5}),new(i[n(3024)])(n(1284),{type:i[n(4031)][n(1311)],default:5}),new(i[n(3024)])(n(1059),{type:i[n(4031)][n(1311)],default:5}),new(i[n(3024)])("movementStrength",{title:n(616),type:i[n(4031)].number,default:1})])},5:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(1915)]=void 0;const i=s(855),o=s(7760),a=s(3338),r=s(2256),c=s(1465),h=s(7956);class _0x184a35 extends i[n(3691)]{constructor(){const t=n;super(...arguments),this[t(497)]=new(a[t(1561)]),this[t(3476)]=-1,this[t(2945)]=new a.Vec3}[n(1224)](){const t=n,e=this._vehicle=h.EntityUtils[t(3590)](this.entity,o[t(710)]);e[t(3730)][t(324)](this.invalidateStats,this),e[t(4372)][t(324)](this[t(2376)],this),this[t(2376)]()}[n(2376)](){const t=n;this[t(1654)]=this[t(692)](),this.enabled=!!this[t(1654)],this._isGrounded=this[t(298)].isGrounded,this[t(3652)]()}[n(692)](){const t=n,e=this[t(298)],s=e[t(3197)];if(!s)return;const i=e[t(3548)];if(!i)return;const o=r.AccountManager.instance[t(1995)](s[t(2753)],!0).garage.getVehicleRecord(i.id);return o?o.stats:void 0}[n(3517)](t){const e=n,s=this[e(298)].isGrounded;s!==this._isGrounded&&(this._isGrounded=s,this[e(2032)]()),this[e(3208)](t),this[e(764)](),this[e(4077)]()}[n(3208)](t){const e=n,s=this[e(1654)];this[e(3390)]?s[e(3897)]+=t:s[e(1600)]+=t}[n(4077)](){const t=n,e=this[t(298)][t(3630)];e<=this[t(1654)][t(4339)]||(this._stats[t(4339)]=e)}[n(2032)](){const t=n;this[t(487)](!this[t(3390)])}[n(764)](){const t=n;c.TimeManager[t(1829)]-this[t(3476)]<1||this[t(487)](this._isGrounded)}[n(487)](t){const e=n,s=this[e(3652)]();if(s<.25)return;const i=this[e(1654)];t?i[e(3254)]+=s:i[e(3259)]+=s}[n(3652)](){const t=n,e=this[t(2945)],s=this[t(298)][t(2954)][t(1344)](),i=this[t(497)][t(418)](e,s).length();return e[t(3172)](s),this[t(3476)]=c[t(289)][t(1829)],i}}e.VehicleStatsTracker=_0x184a35,_0x184a35[n(3311)](n(1915))},7760:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e[n(3411)]=e[n(710)]=void 0;const i=s(4950),o=s(3338),a=s(855),r=s(4796),c=s(7045),h=s(7740),l=s(1068),d=s(1645),u=s(1402),p=s(7956),_=s(1813),m=s(1065);class _0x3fa6ea extends i[n(4432)]{constructor(){const t=n;super(...arguments),this._hasLateInitialized=!1,this[t(3390)]=!1,this._lastGroundedTime=-1,this._speedMs=0,this[t(3572)]=new(o[t(1561)]),this[t(434)]=0,this[t(2291)]=0,this.steering=0,this[t(2382)]=new _0x996eee,this[t(4305)]=new d.NetBoolean(this,!0),this[t(3730)]=new l.DelegateP1,this[t(922)]=new(l[t(1990)])}get[n(2897)](){return this._isGrounded}get[n(3190)](){const t=n;return this[t(4305)][t(4158)]}get[n(4349)](){const t=n;return this[t(2964)]?this[t(2964)][t(4214)]():0}get[n(3630)](){return this[n(3693)]}get[n(3548)](){return this[n(714)]}[n(3488)](){const t=n;super[t(3488)](),this._isAlive[t(3757)].addListener(this[t(1046)],this)}postConstruct(){const t=n;super[t(2235)](),this[t(3328)]()}[n(1678)](){this.createAmmoVehicle()}invalidateBody(){const t=n,e=r[t(3481)][t(2216)].selectedVehicle;if(!e||e===this._bodyTemplate)return;this[t(714)]&&this[t(714)].entity[t(3039)](),this._bodyTemplate=e;const s=this[t(714)]=u.TemplateUtils[t(1804)](e,this._bodyRoot),i=s[t(2954)];i[t(1504)](o[t(1561)][t(1853)]),i.setLocalRotation(o[t(2894)][t(2992)]),this[t(1202)]=s.soundSettings[t(423)].x,this.onBodyChanged[t(2356)](this)}[n(4123)](){const t=n,e=this[t(2954)][t(1954)][t(3548)],s=this[t(4474)][t(3352)][t(1954)][t(931)],i=new(c[t(3813)].btVehicleTuning),o=new(c[t(3813)][t(1331)])(s),a=new(c[t(3813)][t(2706)])(i,e,o);a[t(574)](0,1,2),e[t(2910)](4);const r=new(c.Ammo[t(1776)])(-1,0,0),h=new(c[t(3813)].btVector3)(0,-1,0),l=new(c[t(3813)][t(1776)])(0,0,0);this[t(2738)][t(3855)]((function(e){const s=t,n=p[s(1904)][s(3590)](e,_0x3c62b6),o=n[s(921)],c=n[s(3692)],d=n.radius,u=n[s(3396)],_=n[s(3068)],m=n.suspensionDamping,g=n[s(3694)],f=n[s(2426)],x=e[s(1949)]();l[s(4229)](x.x,x.y,x.z);const y=a[s(4405)](l,h,r,g,d,i,c);y[s(3156)](f),y[s(2656)](m),y[s(3966)](_),y[s(1577)](o),y.set_m_rollInfluence(u)}),this),c.Ammo[t(3039)](r),c[t(3813)][t(3039)](h),c[t(3813)][t(3039)](l),s[t(2111)](a),this[t(2964)]=a,this.on(m.ScriptEventType.enable,(function(){s[t(2111)](a)})),this.on(m.ScriptEventType[t(1700)],(function(){s[t(4281)](a)})),this.on(m[t(3321)][t(3039)],(function(){const e=t;s[e(4281)](a),c[e(3813)][e(3039)](o),c.Ammo.destroy(a)}))}[n(1339)](t){const e=n;super[e(1339)](t),this[e(1944)]||(this[e(1678)](),this[e(1944)]=!0),this[e(3187)](),this[e(670)](t),this[e(4198)](t),this[e(2484)](),this[e(4181)](t);const s=this[e(2964)],i=s[e(1384)]();for(let n=0;n<i;n++){const i=this[e(2738)][n],a=s[e(4070)](n);if(!a[e(2335)]()){const s=a[e(1399)]();let n=i.script[e(3921)][e(921)],r=1.5;if(this[e(2382)].handbrake&&(n*=.35,r=10),s!==n){const i=o.math[e(372)](s,n,t*r);a.set_m_frictionSlip(i)}}s[e(2621)](n,!0);const r=s[e(2278)](n),c=r.getOrigin(),h=r.getRotation();i[e(4345)](c.x(),c.y(),c.z()),i.setRotation(h.x(),h.y(),h.z(),h.w());const l=this[e(714)][e(3719)][n];if(null!==l){const t=l[e(1949)](),s=i.getLocalPosition();l.setLocalPosition(t.x,s.y,t.z),l.setRotation(h.x(),h.y(),h.z(),h.w())}}}updateMetrics(){const t=n;this[t(259)]();const e=p[t(1904)][t(528)](this[t(2954)]),s=this[t(2954)][t(1954)][t(853)];this[t(3693)]=s[t(3171)]()*Math[t(1680)](s[t(2285)](e))}[n(4198)](t){const e=n;this[e(3121)]=_[e(3866)][e(854)](this.steering,this.input.steer*this.maxSteering,this[e(2010)]*t);const s=this[e(2964)];s.setSteeringValue(-this.steering,0),s[e(2887)](-this[e(3121)],1)}updateDrive(){const t=n,e=this[t(2382)],s=e.throttle;this._isGrounded&&0!==Math[t(961)](s)?Math.sign(this[t(3693)])!==Math.sign(s)&&Math[t(961)](this[t(3693)])>1?(this[t(2291)]=this[t(2030)],this[t(434)]=0):(this[t(2291)]=0,this[t(434)]=Math[t(1680)](s)*this[t(4322)]):(this[t(2291)]=0,this[t(434)]=0),e.handbrake&&(this[t(2291)]=this[t(2030)]);const i=this[t(2964)];i[t(4180)](this[t(434)],2),i.applyEngineForce(this[t(434)],3),i[t(3576)](this[t(2291)],2),i[t(3576)](this[t(2291)],3)}[n(670)](t){const e=n;if(!this[e(2897)])return;const s=this[e(3572)];s[e(3172)](this[e(2954)].up),s[e(830)](-1*Math[e(961)](this[e(3693)])*this[e(3144)]*t);const i=this[e(2954)].rigidbody,o=i[e(853)];o.add(s),i[e(853)]=o}[n(4181)](t){const e=n,s=this._body.soundSettings,i=s.engineSound;if(null===i)return;const a=s[e(423)];let r,c;if(this._isGrounded){const t=this[e(4349)],s=Math[e(961)](t),n=-1===Math[e(1680)](t)?0:4,i=Math.min(Math[e(2328)](s/40),n),h=_.MathUtils.clamp01((s-40*i)/70),l=i*(.1*(a.y-a.x));c=Math[e(3802)](o[e(2930)][e(372)](a.x,a.y,h)+l,a.y),r=5}else c=a.x,r=.25;i[e(3669)]("0")[e(3537)]=this[e(1202)]=o.math[e(372)](this[e(1202)],c,t*r)}[n(259)](){const t=n;let e=!1;const s=this[t(2964)],i=s.getNumWheels();for(let n=0;n<i;n++)if(s[t(4070)](n).get_m_raycastInfo()[t(2370)]()){e=!0;break}const o=Date[t(2448)]();(e||o-this._lastGroundedTime>100)&&(this[t(3390)]=e,e&&(this._lastGroundedTime=o))}[n(4153)](t){const e=n;super[e(4153)](t);const s=this[e(2382)];t.bindAction("player/steer",-1,(t=>{const n=e;s[n(3195)]=t.type===h[n(3083)].stopped?0:t[n(4158)].x})),t[e(3895)](e(3496),-1,(t=>{const n=e;s[n(3449)]=t[n(2403)]===h[n(3083)][n(1392)]?0:t.value.x})),t[e(3895)]("player/handbrake",-1,(t=>{const n=e;s.handbrake=t[n(2403)]===h.InputEventType[n(1392)]?0:t.value.x}))}[n(4116)](){const t=n;this.isAlive&&(this[t(4305)][t(4158)]=!1)}[n(2141)](){const t=n;this[t(1347)](),this.input.clear();const e=this[t(714)][t(3719)];for(let s=0;s<e.length;s++){const n=e[s];n.addComponent("rigidbody",{type:t(993)}),n[t(3189)](t(3698),{type:"capsule",radius:.1,height:.25});const i=n[t(1954)],a=i[t(853)][t(3172)](o[t(1561)][t(834)]);(new(o[t(2894)]))[t(3345)](o[t(2930)][t(4261)](0,360),o[t(2930)][t(4261)](0,360),o[t(2930)].random(0,360))[t(2390)](a,a),a[t(830)](o[t(2930)][t(4261)](1,5)),i.linearVelocity=a}const s=this.entity[t(1954)],i=s[t(853)],a=(new(o[t(1561)]))[t(3172)](this.entity.up);a[t(830)](o[t(2930)][t(4261)](5,8)),i.add(a),s[t(853)]=i;const r=s[t(1424)],c=(new(o[t(1561)]))[t(3172)](this[t(2954)][t(1027)]);c.mulScalar(o[t(2930)].random(3,7)),c.y+=o[t(2930)][t(4261)](0,6)*Math[t(1680)](o[t(2930)][t(4261)](-1,1)),r.add(c),s[t(1424)]=r,this[t(922)][t(2356)](this)}onIsAliveChanged(){const t=n;this[t(3190)]||this[t(2141)]()}}e[n(710)]=_0x3fa6ea,_0x3fa6ea[n(3311)]("vehicle",[new a.Attribute(n(2738),{type:a.AttributeType[n(2954)],isArray:!0}),new(a[n(3024)])(n(4322),{type:a.AttributeType[n(1311)],default:2e3}),new a.Attribute(n(2030),{type:a.AttributeType[n(1311)],default:100}),new(a[n(3024)])(n(1296),{type:a.AttributeType[n(1311)],default:.3}),new a.Attribute(n(2010),{type:a[n(4031)][n(1311)],default:.3}),new a.Attribute(n(3733),{type:a[n(4031)][n(2954)]}),new(a[n(3024)])(n(3301),{type:a[n(4031)][n(1311)]}),new a.Attribute("downforcePerMs",{title:n(3644),type:a[n(4031)][n(1311)],default:.15})]);class _0x3c62b6 extends a[n(3691)]{initialize(){const t=n;this[t(4050)]=new o.Entity;const _0x407ae8=function(e,s){const n=t,i=new(o[n(3040)]);return i.addComponent(n(3688),{type:"cylinder",castShadows:!0}),i[n(4350)](0,0,90),i[n(3009)](2*e,s,2*e),i};this.debugRender&&(this.debugWheel=_0x407ae8(this[t(1950)],this[t(1617)]),this[t(2954)].addChild(this[t(4047)])),this.on("attr:debugRender",(function(e){const s=t;e?(this[s(4047)]=_0x407ae8(this[s(1950)],this.width),this[s(2954)][s(996)](this[s(4047)])):this[s(4047)]&&(this.debugWheel.destroy(),this[s(4047)]=null)}))}}_0x3c62b6[n(3311)](n(3921),[new(a[n(3024)])("isFront",{type:a[n(4031)][n(3836)],default:!0}),new a.Attribute(n(1950),{type:a[n(4031)][n(1311)],default:.4}),new(a[n(3024)])("width",{type:a[n(4031)].number,default:.4}),new(a[n(3024)])("suspensionStiffness",{type:a[n(4031)][n(1311)],default:10}),new a.Attribute("suspensionDamping",{type:a.AttributeType[n(1311)],default:2.3}),new(a[n(3024)])("suspensionCompression",{type:a.AttributeType.number,default:4.4}),new(a[n(3024)])(n(3694),{type:a.AttributeType.number,default:.2}),new a.Attribute("rollInfluence",{type:a[n(4031)][n(1311)],default:.2}),new(a[n(3024)])(n(921),{type:a[n(4031)].number,default:1e3}),new(a[n(3024)])(n(2824),{type:a[n(4031)][n(3836)],default:!1})]);class _0x996eee{constructor(){const t=n;this[t(3449)]=0,this[t(3195)]=0,this[t(833)]=0}clear(){const t=n;this[t(3449)]=this[t(3195)]=this[t(833)]=0}}e[n(3411)]=_0x996eee,s.g[n(710)]=_0x3fa6ea},6146:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e.Cell=e[n(2994)]=void 0;const i=s(9609);class _0x161d51{constructor(t,e,s){const o=n;this[o(2631)]=new i.Stack,this[o(696)]=[],this[o(2691)]=new Map,this[o(1473)]=t||_0x48d730,this[o(1118)]=e,this[o(4290)]=s}addCell(t,e){const s=n;if(this[s(3173)](t,e))return void console[s(4273)]("Can't add cell at position ("+t+", "+e+s(1023));let i=this[s(2691)][s(3155)](t);if(!i){const e=_0x161d51[s(1898)];i=e[s(3206)]>0?e[s(2296)]():new _0x37f659,i[s(1876)](this,t),this[s(2691)][s(2936)](t,i);const n=this[s(696)],o=_0x161d51.findIndex(n,t,1);n[s(650)](o+1,0,t)}const o=this[s(2631)],a=o[s(3206)]>0?o.pop():new(this[s(1473)]);return a[s(1876)](i,t,e),i[s(236)](e,a),this[s(1118)]&&this._onCellAdded(a),a}[n(4323)](t,e){const s=n,i=this.getCell(t,e);return i&&this[s(2569)](i)}[n(2569)](t){const e=n;if(!t)return!1;const s=t[e(2470)];if(!s||s[e(4285)]!==this)return!1;if(s[e(4323)](t.y),0===s[e(3171)]){this._columnsByIndex[e(1049)](s.x);const t=this._columnIndices,n=_0x161d51[e(3578)](t,s.x);console.assert(n>=0),n>=0&&(console[e(3015)](t[n]===s.x),t[e(650)](n,1)),s.dispose(),_0x161d51[e(1898)][e(1757)](s)}this[e(4290)]&&this[e(4290)](t),t[e(1081)](),this._cellPool[e(1757)](t)}[n(3173)](t,e){const s=n,i=this._columnsByIndex[s(3155)](t);return i?i[s(3173)](e):void 0}[n(1433)](t,e,s,i,o){const a=n,r=this[a(696)],c=r[a(3171)];if(0===c)return;const h=_0x161d51.findIndex(r,t,-1);if(h<0)return;const l=t+s,d=e+i;let u=h;const p=this[a(2691)];for(;u<c;){const t=r[u++];if(t>l)break;const s=p[a(3155)](t),n=s.cellIndices,i=_0x161d51.findIndex(n,e,-1);if(i<0)continue;const c=n[a(3171)],h=s.cellsByIndex;let _=i;for(;_<c;){const t=n[_++];if(t>d)break;const e=h.get(t);o[a(1757)](e)}}}static[n(3578)](t,e,s=0){const i=t[n(3171)];if(0===i)return-1;switch(s){case-1:if(e<=t[0])return 0;break;case 1:if(e>=t[i-1])return i-1}let o=0,a=0,r=i,c=-1;for(;o<r;){if(r-o<=10)return this.findIndexSimple(t,e,o,r,1===s);a=Math.floor(.5*(o+r));const n=t[a];let i=!1,h=0;switch(s){case-1:n>e?(h=-1,i=!0):n<e&&(h=1);break;case 0:n>e?h=-1:n<e&&(h=1),i=!0;break;case 1:n<e?(h=1,i=!0):n>e&&(h=-1)}if(i&&(c=a),h>0)o=a+1;else{if(!(h<0))return a;r=a}}return c}static findIndexSimple(t,e,s,n,i){for(let o=s;o<=n;o++){const s=t[o];if(s===e)return o;if(s>e)return i?o-1:o}return-1}testIndices(){const t=n,e=[];e[t(1757)](1,3,4,5,9,12,15,24,30,42,50),this.testRange(e,0,20,0,6),this[t(1231)](e,1,20,0,6),this[t(1231)](e,2,20,1,6),this[t(1231)](e,3,20,1,6),this[t(1231)](e,4,20,2,6),this[t(1231)](e,5,20,3,6),this.testRange(e,6,20,4,6),this[t(1231)](e,7,20,4,6),this[t(1231)](e,8,20,4,6),this[t(1231)](e,9,20,4,6),this[t(1231)](e,10,20,5,6),this[t(1231)](e,11,20,5,6),this[t(1231)](e,12,20,5,6),this[t(1231)](e,13,20,6,6),this[t(1231)](e,14,20,6,6),this.testRange(e,15,20,6,6),this[t(1231)](e,17,20,-1,-1),this.testRange(e,18,20,-1,-1),this[t(1231)](e,19,20,-1,-1),this.testRange(e,20,20,-1,-1)}[n(1231)](t,e,s,i,o){const a=n;let r=_0x161d51[a(3578)](t,e,-1),c=_0x161d51[a(3578)](t,s,1);c<r&&(r=c=-1);const h=r===i&&c===o,l=a(1722)+e+a(4249)+s+a(2781)+r+","+c+"], expected: ["+i+","+o+"], result: "+a(h?2090:1038);h?console[a(2045)](l):console[a(4273)](l)}}e[n(2994)]=_0x161d51,_0x161d51._columnPool=new(i[n(3082)]);class _0x37f659{constructor(){const t=n;this[t(383)]=new Map,this[t(1923)]=[]}get length(){const t=n;return this.cellIndices[t(3171)]}[n(1876)](t,e){this.grid=t,this.x=e}getCell(t){const e=n;return this.cellsByIndex[e(3155)](t)}[n(236)](t,e){const s=n;this[s(383)].set(t,e);const i=this[s(1923)],o=_0x161d51.findIndex(i,t,1);i[s(650)](o+1,0,t)}removeCell(t){const e=n,s=this[e(383)];if(!s[e(3155)](t))return!1;s.delete(t);const i=this[e(1923)],o=_0x161d51[e(3578)](i,t);console[e(3015)](o>=0),o>=0&&(console[e(3015)](i[o]===t),i.splice(o,1))}[n(1081)](){const t=n;this[t(3171)]>0?console[t(4447)](t(3147),this):(this[t(383)][t(4326)](),this[t(1923)].splice(0,this[t(1923)].length),this.grid=this.x=void 0)}}class _0x48d730{get x(){return this._x}get y(){return this._y}get column(){return this._column}get[n(4285)](){const t=n;var e;return null===(e=this[t(3234)])||void 0===e?void 0:e[t(4285)]}[n(1876)](t,e,s){this[n(3234)]=t,this._x=e,this._y=s}dispose(){this[n(3234)]=this._x=this._y=void 0}}e.Cell=_0x48d730},7457:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(1766)]=void 0;const i=s(3875),o=s(1224),a=s(6146);class _0x4f2318 extends a[n(3854)]{constructor(){const t=n;super(...arguments),this._proximityNodes=[],this[t(2842)]=this[t(3936)],this[t(1005)]=new(o[t(689)]),this[t(2258)]=new(i[t(1866)]),this[t(2092)]=0,this[t(1122)]=0,this[t(3817)]=new _0x165504}get[n(3901)](){const t=n;return!this[t(3817)][t(1884)]}get[n(3540)](){return this._nodeRange}get[n(1211)](){return this[n(1122)]}[n(1081)](){const t=n;super[t(1081)](),this[t(1407)](0),this[t(3817)][t(4326)](),this[t(2258)].clear(),this[t(1005)][t(4326)](),this._proximityNodes[t(3171)]>0&&(console.warn(t(3318),this),this[t(4463)]())}addNode(t){const e=n;if(t.cell)return void console[e(4447)](e(1640),t,this);this._proximityNodes[e(1757)](t);const s=t.maxRange;s>this._nodeRange&&this[e(1407)](s),t.onRegistered(this),this[e(3901)]&&t[e(2698)](this[e(2258)])}[n(3469)](t){const e=n,s=this._proximityNodes,i=s.indexOf(t);return i<0?(console.error(e(437),t,this),!1):(s[e(650)](i,1),t.maxRange===this[e(2092)]&&this.invalidateNodeRange(),this[e(2967)](t),this[e(443)](),!0)}[n(4463)](){const t=n,e=this[t(3936)],s=e[t(3171)];if(0!==s){for(let n=0;n<s;n++){const s=e[n];this[t(2967)](s)}e.splice(0,s),this[t(1407)](0),this.onNodeCollectionReduced()}}[n(2967)](t){t[n(763)]()}[n(347)](){const t=n;let e=0;const s=this[t(3936)],i=s[t(3171)];for(let n=0;n<i;n++){const i=s[n][t(2460)];i<=e||(e=i)}this[t(1407)](e)}[n(3006)](t){const e=n,s=this[e(2258)];return!(this[e(3901)]&&s[e(439)]===t.cellDistance&&s[e(3684)]===t.isInView||(s.cellDistance=t[e(439)],s[e(3684)]=t.isInView,this[e(3999)](),0))}[n(1407)](t){const e=n;this[e(2092)]=t,this[e(1122)]=t*t}onNodeCollectionReduced(){var t;0===this._proximityNodes.length&&(null===(t=this.grid)||void 0===t||t.removeCellDirect(this))}[n(3999)](){const t=n,e=this.proximityState,s=this._proximityNodes,i=s[t(3171)];for(let n=0;n<i;n++)s[n][t(2698)](e)}[n(3090)](){const t=n;this[t(2258)][t(4326)](),this.onProximityChangedInternal()}}e[n(1766)]=_0x4f2318;class _0x165504{[n(4326)](){const t=n;this[t(1884)]&&console[t(4273)]("Disposing a cell that still has an init handle!",this),this[t(1884)]=void 0}}},1224:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e.ProximityScanCache=void 0;const i=s(3875);e[n(689)]=class _0x110779{constructor(){const t=n;this[t(2673)]=new(i[t(1866)]),this[t(4326)]()}clear(){const t=n;this[t(4081)]=-1,this[t(2673)].clear()}}},4361:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(2713)]=void 0;const i=s(855),o=s(855);class _0x5abea3 extends o[n(3184)]{[n(362)](){const t=n,e=a[t(4118)][t(2216)][t(2056)];this[t(3152)]=this[t(2391)]*e,this[t(3974)]=this[t(3199)]*e}}e[n(2713)]=_0x5abea3,_0x5abea3.addAttributes([new(i[n(3024)])(n(937),{type:i.AttributeType[n(3836)]}),new(i[n(3024)])(n(2391),{type:i[n(4031)][n(1311)],default:10}),new(i[n(3024)])(n(3199),{type:i[n(4031)][n(1311)],default:20})]);const a=s(2851)},3875:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,s(3500),{value:!0}),e[s(1866)]=void 0,e[s(1866)]=class _0x56133f{constructor(){this[s(4326)]()}[s(4326)](){const t=s;this[t(439)]=4294967295,this[t(3684)]=!1}}},7204:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0});const i=s(6146),o=s(5371);s.g.gridTest=(t=-1)=>{const e=n,_0x40a0ca=t=>{const e=a0_0x520a;console[e(2045)](e(2682)+t[e(3773)]+e(2707));let s=Date[e(2448)]();for(let s=0;s<1;s++){const s=new t;for(let t=1e3;t>=0;t--)for(let n=1e3;n>=0;n--)s[e(1596)](t,n)}console[e(2045)](e(3846)+(Date[e(2448)]()-s)+e(1113));const n=new t;for(let t=0;t<100;t++)for(let e=0;e<100;e++)n.addCell(t,e);s=Date[e(2448)]();for(let t=0;t<1e3;t++)for(let t=0;t<100;t++)for(let s=0;s<100;s++)n[e(3173)](t,s);console[e(2045)]("- Individual cell getting test: "+(Date[e(2448)]()-s)+e(1113)),s=Date[e(2448)]();for(let t=0;t<1e5;t++){const t=[];if(n[e(1433)](50,50,50,50,t),2500!==t[e(3171)]){console[e(4447)](e(1110)+t[e(3171)]+".");break}}console.log(e(4440)+(Date[e(2448)]()-s)+e(1113))};t<0?(_0x40a0ca(i[e(2994)]),_0x40a0ca(o[e(2994)])):_0x40a0ca([i[e(2994)],o.Grid][t])},s.g.gridTest2=()=>{const t=n,e=new(o[t(2994)]);e[t(1596)](5,3),e[t(1596)](20,25),e.addCell(150,175),e.addCell(5e3,5e3),e.addCell(5e3,5e3),e.addCell(140,5e3),e[t(4323)](5,3),e[t(4323)](20,25),e.removeCell(150,175),e[t(4323)](5e3,5e3),e[t(4323)](5e3,5e3),e[t(4323)](140,5e3);for(let s=-150;s<10;s++)if(!(s>=-149&&s<=-146))for(let n=-150;n<10;n++)e[t(1596)](s,n);e[t(3522)][t(3739)](-149,-1)}},5371:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(3854)]=e.Column=e[n(2994)]=void 0;const i=s(4743),o=s(9609);class _0x533d06{constructor(t,e){const s=n;this[s(3522)]=new(i[s(4007)]),this[s(1118)]=t,this._onCellRemoved=e}get columns(){return this[n(3522)]}[n(1596)](t,e){const s=n,i=this[s(3522)];let o=i[s(3790)](t);o||(o=i[s(3367)](t),o[s(4158)]=this[s(1578)](o));const a=o[s(4158)],r=a[s(592)][s(3367)](e);if(!r)return null;const c=r[s(4158)]=this.getEmptyCell(a,r,t,e);return this._onCellAdded&&this[s(1118)](c),c}[n(3173)](t,e){const s=n,i=this._columns[s(3790)](t);if(!i)return null;const o=i[s(4158)].cells[s(3790)](e);return o?o[s(4158)]:null}[n(1433)](t,e,s,i,o){const a=n,r=this[a(3522)].findClosestNode(t,1);if(!r)return o;const c=t+s,h=e+i;let l=r;for(;l&&l.id<=c;){const t=l.value;l=l[a(456)];const s=t[a(592)][a(3739)](e,1);if(!s)continue;let n=s;for(;n&&n.id<=h;){const t=n[a(4158)];n=n[a(456)],o[a(1757)](t)}}return o}removeCell(t,e){const s=this[n(3173)](t,e);return s&&this.removeCellDirect(s)}removeCellDirect(t){const e=n,s=t[e(2527)];if(!s)return console[e(4447)]("Can't remove cell: cell not registered.",t),!1;const i=t[e(2470)],o=i.cells;if(!o[e(3469)](s))return console.error(e(3577),t),!1;if(this[e(4290)]&&this._onCellRemoved(t),this[e(4012)](t),0===o[e(3171)]){const t=i.node,s=this[e(3522)][e(3469)](t);s&&this[e(3012)](i),console.assert(s)}return!0}getEmptyColumn(t){const e=n,s=_0x533d06[e(1898)];let i=s[e(3206)]>0?s[e(2296)]():new _0xb09f0e;return i[e(4285)]=this,i[e(2527)]=t,i}getEmptyCell(t,e,s,i){const o=n,a=_0x533d06[o(2631)],r=a[o(3206)]>0?a.pop():new _0x28c7d5;return r[o(1876)](t,e,s,i),r}[n(3012)](t){const e=n;t[e(1081)](),_0x533d06._columnPool[e(1757)](t)}disposeCell(t){const e=n;t.dispose(),_0x533d06[e(2631)][e(1757)](t)}}e[n(2994)]=_0x533d06,_0x533d06[n(1898)]=new o.Stack,_0x533d06[n(2631)]=new o.Stack;class _0xb09f0e{constructor(){const t=n;this[t(592)]=new(i[t(4007)])}[n(1081)](){const t=n;this[t(592)][t(3171)]>0?console[t(4447)]("Can't dispose column because it still contains cells.",this):(this.grid=void 0,this.node=void 0)}}e.Column=_0xb09f0e;class _0x28c7d5{get x(){return this._x}get y(){return this._y}get[n(2470)](){return this._column}get[n(2527)](){return this[n(2110)]}[n(1876)](t,e,s,i){this[n(3234)]=t,this._x=s,this._y=i}[n(1081)](){this[n(3234)]=this._x=this._y=void 0}}e[n(3854)]=_0x28c7d5},4743:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e[n(316)]=e[n(4007)]=void 0;const i=s(9609);class _0x46b7f1{constructor(){const t=n;this[t(2303)]=new Map,this[t(2309)]=_0x353410,this[t(2783)]=this[t(691)](1)}get[n(3171)](){const t=n;return this[t(2783)][t(1552)]}get head(){return this[n(2783)].lowestLeaf}get[n(4461)](){const t=n;return this[t(2783)][t(2420)]}[n(3790)](t){const e=n;return this._leafNodesById[e(3155)](t)}addNode(t){const e=n;if(this[e(2303)][e(1374)](t))return null;const s=this[e(3739)](t),i=this[e(972)](t);if(!i)return null;if(s)if(s.id<t){const t=s[e(456)];s[e(456)]=i,i[e(456)]=t,i[e(1752)]=s,t&&(t[e(1752)]=i)}else{const t=s[e(1752)];s[e(1752)]=i,i[e(456)]=s,i[e(1752)]=t,t&&(t[e(456)]=i)}return this[e(2303)][e(2936)](t,i),i}addNodeInternal(t){const e=n;let s=t,i=this[e(2783)];for(;;){const n=s*i[e(1076)];if(Math.abs(n)>=10){let t=i[e(729)];t||(t=this.getEmptyNode(10*i.fraction),console[e(3015)](i===this[e(2783)]),i[e(3487)]>0?t[e(996)](i,0,0):this[e(4420)](i),this._root=t),i=t;continue}const o=n<0?Math.ceil(n):Math[e(2328)](n),a=Math[e(961)](o);a>0&&(s%=i[e(3947)]*a);const r=1===i[e(3947)];let c=0;const h=i[e(3487)];if(h>0){let t=-1,s=4294967295,n=-1,a=!1;const l=i[e(712)];for(let c=0;c<h;c++){const h=l[c];let d=h[e(3850)]-o;if(0===d){if(a=!0,r)return null;i=h;break}let u=Math[e(961)](d);u>=s||(t=c,s=u,n=Math[e(1680)](d))}if(a)continue;c=n<0?t+1:t}const l=r?this[e(3765)](t):this[e(691)](.1*i.fraction);if(!i.addChild(l,c,o))return console[e(4447)](e(2575),i),null;if(r)return l;i=l}}[n(3469)](t){const e=n;if(t[e(2069)]!==this)throw new Error(e(3225));let s=t[e(729)];if(!s||!s.removeChild(t))return!1;for(this._leafNodesById[e(1049)](t.id),t[e(1752)]&&(t[e(1752)][e(456)]=t[e(456)]),t[e(456)]&&(t[e(456)][e(1752)]=t[e(1752)]),this[e(1020)](t);s;){const t=s;if(s=t[e(729)],!s||t.totalChildren>0)break;s[e(1593)](t),this[e(4420)](t)}return!0}[n(691)](t){const e=n,s=_0x46b7f1[e(4333)],i=s[e(3206)]>0?s[e(2296)]():new _0x26d5e1(!1);return i[e(1876)](this,t),i}[n(3765)](t){const e=n,s=_0x46b7f1[e(3403)],i=s[e(3206)]>0?s[e(2296)]():new this._leafNodeConstructor;return i[e(1876)](this,t),i}[n(4420)](t){const e=n;t[e(1081)](),t instanceof _0x353410?console[e(4447)]("Tried to push a leaf node to the regular node pool.",t):_0x46b7f1[e(4333)].push(t)}[n(1020)](t){const e=n;t[e(1081)](),_0x46b7f1[e(3403)].push(t)}[n(748)](t){const e=n;return this[e(3655)](this[e(2783)],t)}[n(3655)](t,e){const s=n;if(t===e)return!0;if(0===t[s(3487)])return!1;const i=t[s(712)],o=i.length;for(let t=0;t<o;t++){const n=i[t];if(this[s(3655)](n,e))return!0}return!1}[n(3739)](t,e=0){const s=n;if(0===this.length)return;let i=this[s(2783)];if(e<=0&&t<i[s(1369)].id)return i.lowestLeaf;if(e>=0&&t>i.highestLeaf.id)return i.highestLeaf;for(;i;){if(1===i.fraction)return this.findClosestLeaf(i,t,e);i=this[s(623)](i,t,e)}return null}findClosestChild(t,e,s=0){const i=n,o=t[i(3487)];if(0===o)return null;const a=0!==s;let r,c,h=4294967295;const l=t.children;for(let t=0;t<o;t++){const n=l[t];let o=4294967295;const d=n[i(1321)],u=d[i(3171)];for(let t=0;t<u;t++){const n=d[t];if(!n)continue;const c=n.id-e;if(a&&0!==c&&Math[i(1680)](c)!==s)continue;const h=Math[i(961)](c);h>=o||(o=h,r=n)}o>=h||(c=n,h=o)}return c}[n(3316)](t,e,s=0){const i=n;if(1!==t[i(3947)])throw new Error(i(3034));const o=t.totalChildren;if(0===o)return null;const a=0!==s,r=t[i(712)];let c,h=4294967295;for(let t=0;t<o;t++){const n=r[t],o=n.id-e;if(0===o)return n;if(a&&Math[i(1680)](o)!==s)continue;const l=Math[i(961)](o);l>=h||(c=n,h=l)}return c}}e[n(4007)]=_0x46b7f1,_0x46b7f1[n(4333)]=new(i[n(3082)]),_0x46b7f1._leafNodePool=new i.Stack;class _0x26d5e1{constructor(t){const e=n;this[e(1552)]=0,this[e(3850)]=0,t||(this.extremeLeaves=Array(2))}get list(){return this[n(2521)]}get[n(3487)](){const t=n,e=this[t(712)];return e?e[t(3171)]:0}get[n(1369)](){return this[n(1321)][0]}get[n(2420)](){return this.extremeLeaves[1]}get[n(4178)](){return this.fraction<1}[n(1876)](t,e){const s=n;this[s(2521)]=t,this[s(3769)](e)}[n(3769)](t){const e=n;this[e(3947)]=t,this[e(1076)]=1/t}[n(2838)](t){const e=n;if(0===t)return;this.totalLeafs+=t;let s=this.parent;s&&s[e(2838)](t)}dispose(){const t=n;if(this[t(729)])return void console[t(4447)]("Can't dispose node because it's still parented.",this);if(this.totalChildren>0)return void console[t(4447)](t(306),this);this[t(2521)]=void 0,this.totalLeafs=0,this[t(3850)]=this[t(3947)]=this.fractionInverse=0;const e=this.extremeLeaves;e&&(e[0]=e[1]=void 0)}[n(996)](t,e,s){const i=n;return t[i(729)]?(console[i(4273)]("Can't add child node: the provided node is already parented.",t),!1):t[i(2069)]!==this[i(2521)]?(console[i(4273)](i(2166),t),!1):((this[i(712)]||(this[i(712)]=[])).splice(e,0,t),t.index=s,t[i(2563)](this),!0)}[n(1593)](t){const e=n;if(t[e(729)]!==this)return console.warn(e(1061),t),!1;console.assert(t[e(2521)]===this[e(2521)]);const s=this.children;if(!s)return!1;const i=s[e(2614)](t);return!(i<0||(s.splice(i,1),t[e(2563)](null),0))}setParent(t){const e=n;if(t===this.parent)return void console[e(4273)](e(1695),this);const s=this.parent;s&&(s[e(2838)](-this[e(1552)]),s.invalidateExtremeLeaves()),this[e(729)]=t,t&&(console[e(3015)](t[e(2521)]===this[e(2521)]),t[e(2838)](this.totalLeafs),t.updateExtremeLeavesByChild(this))}[n(3556)](t){const e=n;if(t[e(729)]!==this)return void console[e(4273)](e(2002),t,this);if(t[e(4178)])return void this[e(2144)](t);const s=t[e(1321)];s[0]&&this[e(2788)](s[0],0,-1),s[1]&&this.updateExtremeLeaf(s[1],1,1)}[n(2144)](t){const e=n;this.updateExtremeLeaf(t,0,-1),this[e(2788)](t,1,1)}updateExtremeLeaf(t,e,s){const i=n,o=this[i(1321)],a=o[e];if(a&&Math[i(1680)](t.id-a.id)!==s)return;o[e]=t;const r=this[i(729)];r&&r[i(2788)](t,e,s)}[n(3996)](){const t=n,e=this[t(1321)];e[0]=e[1]=null;const s=this[t(712)];if(!s)return;const i=s[t(3171)];let o=!1,a=!1;if(1===this[t(3947)])for(let t=0;t<i;t++){const n=s[t],i=n.id;(!e[0]||i<e[0].id)&&(e[0]=n,o=!0),(!e[1]||i>e[1].id)&&(e[1]=n,a=!0)}else for(let n=0;n<i;n++){const i=s[n],r=i[t(1369)];r&&(!e[0]||r.id<e[0].id)&&(e[0]=r,o=!0);const c=i[t(2420)];c&&(!e[1]||c.id>e[1].id)&&(e[1]=c,a=!0)}const r=this[t(729)];r&&(o&&r.updateExtremeLeaf(e[0],0,-1),a&&r.updateExtremeLeaf(e[1],1,1))}}class _0x353410 extends _0x26d5e1{constructor(){super(!0)}[n(1876)](t,e){const s=n;super.configure(t,.1),this.id=e,this[s(1552)]=1}dispose(){const t=n;super.dispose(),this.id=this[t(4158)]=this[t(1752)]=this.next=void 0}}e[n(316)]=_0x353410},6821:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e.ProximityGroup=void 0;const i=s(855);class _0xbe9c42 extends i[n(3691)]{[n(2105)](){const t=n;this[t(3386)][t(362)]()}}e[n(4203)]=_0xbe9c42;const o=s(4361);_0xbe9c42[n(3311)](n(4203),[new(i[n(3024)])(n(3386),{customType:o[n(2713)]})])},7753:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e[n(2565)]=e[n(4030)]=e[n(2817)]=e[n(3113)]=void 0;const i=s(855),o=s(6821),a=s(3338),r=s(2851),c=s(4361),h=s(1065);class _0xa8b85d extends i[n(3691)]{constructor(){const t=n;super(...arguments),this._plugins=[],this[t(370)]=0,this._hasRegistered=!1,this.systemCache=new _0x46ad32}get[n(3127)](){return this[n(3583)]}get[n(2460)](){return this[n(370)]}[n(3311)](){const t=n;super.initialize(),this._plugins=[],this.on(h[t(3321)][t(3039)],this[t(1081)],this)}register(){const t=n;if(this[t(4151)])return;if(this._hasRegistered=!0,!this.entity[t(3471)])return;const e=this[t(3233)],s=e.length;if(0===s)return void console[t(4273)]('Proximity node "'+this[t(2954)].name+'" has no plugins.',this);for(let n=0;n<s;n++){const s=e[n];s.load();const i=s[t(3386)],o=Math[t(1417)](i.activationDistanceCells,i.deactivationDistanceCells);o>this[t(370)]&&(this._maxRange=o)}const i=r[t(4118)].instance;this._cell=i[t(3367)](this)}[n(3513)](t){const e=n;return this[e(3233)][e(1757)](t),!0}[n(1081)](){const t=n;r[t(4118)][t(2216)].removeNode(this),this[t(3583)]=void 0,this._hasRegistered=!1,this[t(3233)]=void 0,this._maxRange=0,this[t(3817)].clear()}[n(2698)](t){const e=n,s=this._plugins,i=s[e(3171)];for(let e=0;e<i;e++)s[e].onProximityChanged(t)}[n(1675)](t){this._cell=t}[n(763)](){this[n(3583)]=void 0}}e.ProximityNode=_0xa8b85d;class _0x46ad32{constructor(){this[n(2074)]=new a.Vec3}clear(){const t=n;this[t(1328)]&&console.warn(t(2816),this),this[t(1328)]=void 0,this[t(2074)].set(0,0,0)}}_0xa8b85d[n(3311)]("ProximityNode");class _0x1a873f extends i.Script{constructor(){const t=n;super(...arguments),this[t(1420)]=!0}get proximityNode(){return this[n(3029)]}get[n(3386)](){return this[n(781)]}get proximityGroup(){return this[n(1429)]}[n(3311)](){const t=n;super[t(3311)]();const e=this[t(2954)][t(3458)];let s=e.ProximityNode;s||(s=e.create(_0xa8b85d)),this[t(3029)]=s,s[t(3513)](this)}[n(1224)](){const t=n;this._proximityNode[t(3400)]()}load(){const t=n,e=this[t(1429)];e?this._proximitySettings=e[t(3386)]:this[t(781)][t(362)]()}[n(2698)](t){const e=n,s=this[e(781)],i=!s[e(937)]||t[e(3684)],o=t[e(439)];this[e(1420)]?(!i||o>s[e(3974)])&&this[e(1663)](!1):i&&o<=s[e(3152)]&&this[e(1663)](!0)}[n(1663)](t){const e=n;t!==this[e(1420)]&&(this[e(1420)]=t,t?this.onActivate():this[e(1279)]())}[n(1258)](){}onDeactivate(){}}e[n(2817)]=_0x1a873f,_0x1a873f[n(3311)]("ProximityNodePlugin",[new(i[n(3024)])(n(781),{customType:c[n(2713)]}),new i.Attribute(n(1429),{type:i.AttributeType.asset,scriptType:o.ProximityGroup})]);class _0x2780a4 extends _0x1a873f{[n(1398)](t){const e=n,s=this[e(705)],i=s[e(3171)];if(0!==i)for(let n=0;n<i;n++)s[n][e(3471)]=t;else this[e(2954)][e(3471)]=t}[n(1258)](){this[n(1398)](!0)}[n(1279)](){this[n(1398)](!1)}}e[n(4030)]=_0x2780a4,_0x2780a4[n(3311)]("ProximityToggler",[new(i[n(3024)])("_entities",{type:i[n(4031)][n(2954)],isArray:!0})]);class _0x34e88b extends _0x1a873f{[n(3245)](t){const e=n,s=this[e(705)],i=s[e(3171)];if(0!==i)for(let e=0;e<i;e++){const n=s[e];this.setEntityPhysicsEnabled(n,t)}else this.setEntityPhysicsEnabled(this[e(2954)],t)}[n(946)](t,e){const s=n,i=t[s(1954)];i&&(i[s(3471)]=e);const o=t[s(3698)];o&&(o.enabled=e)}onActivate(){this.setPhysicsEnabled(!0)}[n(1279)](){this[n(3245)](!1)}}e[n(2565)]=_0x34e88b,_0x34e88b.initialize(n(2565),[new(i[n(3024)])(n(705),{type:i[n(4031)][n(2954)],isArray:!0})])},2851:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(4118)]=void 0;const i=s(855),o=s(3338),a=s(6821),r=s(9609),c=s(8511),h=s(6244),l=s(1465),d=s(1813),u=s(822),p=s(6842),_=s(7457),m=s(6146);class _0x4d4ec5 extends u[n(3656)]{constructor(){const t=n;super(...arguments),this._dynamicNodes=new(p[t(2358)]),this._cellBuffers=new(r[t(3082)]),this[t(307)]=1,this._scanId=-1,this._lastScanTime=-255,this[t(2580)]=[],this[t(2043)]=new(p[t(2358)])}static get instance(){const t=n;return u[t(3656)][t(2922)](_0x4d4ec5)}[n(890)](){const t=n;this[t(2996)]=new(m[t(2994)])(_[t(1766)],this[t(2239)][t(4467)](this),this[t(4439)][t(4467)](this));const e=this[t(1756)];for(let s=0;s<5;s++)e[t(1757)]([]);_0x4d4ec5[t(4131)]=this[t(2056)]=1/this[t(1531)],this[t(2125)]()}[n(2125)](){const t=n,e=this._proximityGroups,s=e[t(3171)];for(let n=0;n<s;n++)e[n][t(2105)]()}[n(1339)](t){const e=n,s=l.TimeManager.unscaledTime;s-this._lastScanTime>=this[e(679)][e(2507)]&&(this[e(3885)]=s,this.invalidateDynamicNodes(),this[e(3329)]()),this[e(2941)][e(3471)]&&this[e(2275)]()}[n(3329)](){const t=n,e=this[t(679)],s=this[t(307)],i=2*s,a=++this._scanId,r=this.debugSettings,h=r.enabled,l=h&&r[t(4210)];h&&r[t(1603)]&&console[t(1829)](t(1150));const d=this[t(1756)],u=d[t(2296)]();u[t(650)](0,u.length);let p=0;const _=this[t(2996)],m=c[t(1209)][t(2216)][t(2653)],g=m[t(3171)];for(let n=0;n<g;n++){const c=m[n],l=c[t(2954)];if(!l[t(3471)])continue;if(h&&r[t(797)]){const e=r[t(2943)];if(!e||l!==e.entity)continue}const g=c.camera[t(1653)]+e[t(1236)],f=Math[t(4037)](g*o.math[t(2779)]),x=l[t(1344)](),y=l[t(1329)];y.y=0,y[t(3030)]();const v=_0x4d4ec5[t(1406)](x),w=v.x,b=v.y,S=d[t(2296)]();_[t(1433)](w-s,b-s,i,i,S);const C=S.length;for(let e=0;e<C;e++){const s=S[e],n=s.x-w,i=s.y-b,o=n*n+i*i,r=Math[t(2328)](Math[t(974)](o));if(r>s[t(3540)]){p++;continue}const c=s[t(1005)];c[t(4081)]!==a&&(u[t(1757)](s),c[t(4081)]=a);const h=c[t(2673)];r<h.cellDistance&&(h.cellDistance=r);let l=h.isInView||r<=2;if(!l){const t=1/r,e=n*t,s=i*t;l=y.x*e+y.z*s>=f}h[t(3684)]=l}S[t(650)](0,C),d[t(1757)](S)}h&&(r[t(1603)]&&console[t(648)]("proximity-scan"),l&&console.log(t(3150)+u[t(3171)]+t(2164)+p+" filtered out)."),r[t(1803)]&&console[t(1829)](t(3228)));const f=this[t(2580)],x=f.length;for(let e=0;e<x;e++){const s=f[e];s[t(1005)][t(4081)]!==a&&(s[t(3090)](),s[t(1005)][t(4326)]())}f[t(650)](0,x),d.push(f);const y=u[t(3171)];for(let e=0;e<y;e++){const s=u[e],n=s[t(1005)].scanResult;if(s[t(3006)](n)){const e=s[t(3817)].initHandle;if(e&&(this[t(2043)][t(3469)](e,!0),s[t(3817)].initHandle=void 0),l){const e=s[t(2258)];console.log(t(2225)+s.x+","+s.y+t(4366)+e[t(439)]+t(3398)+e[t(3684)])}}n[t(4326)]()}this[t(2580)]=u,h&&r[t(1803)]&&console[t(648)](t(3228)),this[t(1718)]()}[n(3479)](){const t=n,e=this[t(2996)];let s=this[t(586)][t(1941)];for(;s;){const n=s[t(4158)];s=s[t(456)];const i=n[t(3817)].lastPosition,o=n[t(2954)].getPosition();if(i[t(3971)](o))continue;i[t(3172)](o),_0x4d4ec5[t(1406)](o);const a=n[t(3127)];if(o.x===a.x&&o.y===a.y)continue;a[t(3469)](n);let r=e[t(3173)](o.x,o.y);r||(r=e[t(1596)](o.x,o.y)),r.addNode(n)}}onProximityScanCompleted(){const t=n,e=this[t(2043)];for(;e[t(3171)]>0;){const s=e[t(1941)],n=s[t(4158)];e.removeNode(s,!0),n[t(3817)][t(1884)]=void 0,n[t(3090)]()}}[n(3367)](t){const e=n;if(!this[e(3471)])return;const s=this[e(2941)];if(s[e(3471)]&&s.enableNodeTesting){const n=s[e(3667)];if(!n||t.entity!==n)return}const i=Math[e(2252)](t[e(2460)]);if(0===i)return void console[e(4273)]("Ignoring proximity node with a max range of 0.",t);i>this[e(307)]&&(this[e(307)]=i);const o=t.entity.getPosition(),a=_0x4d4ec5[e(1406)](o),r=this._grid;let c=r[e(3173)](a.x,a.y);return c||(c=r[e(1596)](a.x,a.y)),c[e(3367)](t),this[e(1875)](t,c),c}[n(3469)](t){const e=n,s=t[e(3127)];s&&(this[e(243)](t),s.removeNode(t))}static[n(1406)](t){const e=n,s=this[e(4131)];return t.x=Math.floor(t.x*s),t.y=Math[e(2328)](t.z*s),t.z=0,t}[n(2239)](t){const e=n;t[e(3817)].initHandle=this[e(2043)][e(876)](t)}[n(4439)](t){const e=n,s=t[e(3817)],i=s.initHandle;i&&(this[e(2043)][e(3469)](i,!0),s[e(1884)]=void 0)}[n(1875)](t,e){const s=n;if(t[s(2954)][s(1954)]){const e=t[s(3817)];e[s(1328)]=this._dynamicNodes[s(876)](t),e[s(2074)][s(3172)](t[s(2954)].getPosition())}const i=this[s(2941)];i[s(3471)]&&i[s(4210)]&&console.log(s(2225)+e.x+","+e.y+s(3310)+t.entity[s(3773)]+'"')}[n(243)](t){const e=n,s=t[e(3817)],i=s[e(1328)];i&&(this[e(586)][e(3469)](i,!0),s[e(1328)]=void 0)}[n(2275)](){const t=n;if(!this[t(2941)].drawCells)return;const e=this.app,s=_0x4d4ec5[t(3559)],i=this[t(1531)],a=new(o[t(2139)]),r=this._scanRadius,c=this[t(2996)],h=this[t(1756)][t(2296)]();c[t(1433)](-1e3,-1e3,2e3,2e3,h);const l=h[t(3171)];for(let n=0;n<l;n++){const c=h[n],l=s[t(2936)](c.x*i,0,c.y*i),u=s[t(2792)](l);let p;u.x+=i,u.y+=i,u.z+=i;const _=c[t(2258)];if(_[t(439)]>r)p=o.Color[t(828)];else{const e=d[t(3866)][t(2202)](0,r,_[t(439)]);p=a,p[t(372)](o[t(2139)][t(2582)],o[t(2139)][t(4096)],e)}e.drawWireAlignedBox(l,u,p,!0),s[t(3760)]()}h[t(650)](0,l),this[t(1756)].push(h)}}e[n(4118)]=_0x4d4ec5,_0x4d4ec5[n(3559)]=h[n(2395)][n(3155)]();class _0x4465a4 extends i[n(3184)]{}_0x4465a4[n(394)]([new i.Attribute(n(2507),{title:"Interval (seconds)",type:i.AttributeType.number,default:.2}),new(i[n(3024)])(n(1236),{title:n(2430),description:n(3204),type:i[n(4031)][n(1311)],default:0})]);class _0x36e250 extends i.SerializableStruct{}_0x36e250[n(394)]([new(i[n(3024)])("enabled",{type:i[n(4031)][n(3836)]}),new(i[n(3024)])(n(4248),{type:i.AttributeType[n(3836)]}),new(i[n(3024)])(n(964),{type:i[n(4031)][n(3836)]}),new i.Attribute("testNode",{type:i[n(4031)].entity}),new(i[n(3024)])(n(797),{type:i[n(4031)].boolean}),new(i[n(3024)])("testCamera",{componentType:o[n(2937)]}),new(i[n(3024)])(n(4210),{type:i.AttributeType.boolean}),new i.Attribute(n(1603),{type:i[n(4031)].boolean}),new(i[n(3024)])(n(1803),{type:i.AttributeType[n(3836)]})]),_0x4d4ec5[n(3311)]("ProximityService",[new i.Attribute("_cellSize",{type:i[n(4031)].number,default:20}),new(i[n(3024)])(n(1805),{type:i[n(4031)][n(3330)],scriptType:a[n(4203)],isArray:!0}),new i.Attribute(n(679),{customType:_0x4465a4}),new i.Attribute(n(2941),{customType:_0x36e250})])},8338:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(501)]=void 0;const i=s(822),o=s(8429),a=s(6943);class _0x9e94d extends i.Manager{get[n(3565)](){return this[n(2093)]}static get[n(2216)](){const t=n;return i[t(3656)][t(2922)](_0x9e94d)}[n(890)](){const t=n,e=this[t(2093)];for(const s of e)s[t(2105)]()}}e[n(501)]=_0x9e94d,_0x9e94d.initialize(n(501),[new(a[n(3024)])("_seasons",{type:a[n(4031)][n(3330)],scriptType:o[n(3242)],isArray:!0})])},8429:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(3242)]=void 0;const i=s(855);class _0x3a2882 extends i.Script{constructor(){const t=n;super(...arguments),this[t(1420)]=!1}get[n(2917)](){return this[n(1420)]}load(){const t=n,e=new Date,s=e[t(841)](),i=new Date(s+"-"+this[t(3239)]),o=new Date(s+"-"+this[t(3192)]);this._isActive=e>=i&&e<=o}}e.Season=_0x3a2882,_0x3a2882[n(3311)](n(3242),[new i.Attribute(n(881),{type:i[n(4031)][n(990)]}),new(i[n(3024)])(n(3239),{type:i[n(4031)][n(990)],default:"12-01"}),new i.Attribute("_to",{type:i[n(4031)][n(990)],default:n(2095)})])},6305:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e[n(2320)]=void 0;const i=s(855),o=s(8429);class _0x1cb103 extends i[n(3691)]{[n(1224)](){const t=n;let e=!1;const s=this[t(2093)],i=s[t(3171)];for(let n=0;n<i;n++){const i=s[n],o=i[t(910)][t(2917)];o&&(e=!0);const a=i[t(537)];this[t(1398)](a,o)}this[t(1398)](this._outOfSeason[t(537)],!e)}[n(1398)](t,e){const s=n,i=t[s(3171)];for(let n=0;n<i;n++){const i=t[n];i&&(i[s(3471)]=e)}}}e[n(2320)]=_0x1cb103;class _0x3195ca extends i.SerializableStruct{}_0x3195ca[n(394)]([new(i[n(3024)])(n(537),{type:i.AttributeType[n(2954)],isArray:!0})]);class _0x2e24cb extends i[n(3184)]{}_0x2e24cb[n(394)]([new(i[n(3024)])(n(910),{type:i[n(4031)][n(3330)],scriptType:o[n(3242)]}),new(i[n(3024)])("entities",{type:i[n(4031)][n(2954)],isArray:!0})]),_0x1cb103.initialize(n(2320),[new(i[n(3024)])(n(3724),{title:n(3258),customType:_0x3195ca}),new(i[n(3024)])(n(2093),{title:n(4163),customType:_0x2e24cb,isArray:!0})])},8723:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e[n(1054)]=void 0;const i=s(3338),o=s(855);class _0x113d8c extends o[n(3691)]{static get[n(2216)](){return this._instance}[n(3311)](){super[n(3311)](),_0x113d8c._instance=this}}e[n(1054)]=_0x113d8c,_0x113d8c[n(3311)](n(1054),[new(o[n(3024)])(n(2334),{title:n(775),componentType:i[n(2937)]}),new o.Attribute(n(1929),{title:"Split Camera (left)",componentType:i[n(2937)]}),new(o[n(3024)])(n(1152),{title:n(1298),componentType:i[n(2937)]})])},6711:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e[n(3214)]=void 0;const i=s(4618),o=s(2619),a=s(6486),r=s(6435),c=s(1869);class _0x454ef8 extends i[n(1119)]{postConstruct(){const t=n;super[t(2235)](),this[t(686)]()}[n(686)](){const t=n;if(a[t(3597)][t(2216)])return;const e=c.SceneManager.instance[t(2299)];e&&e[t(2403)]===o[t(2130)][t(2669)]&&r.GameSessionManager[t(2216)][t(4085)]()}onSceneChanged(t){const e=n;super[e(3978)](t),this[e(686)]()}}e.CcGameModeManager=_0x454ef8,_0x454ef8[n(3311)](n(3214))},8044:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(1665)]=void 0;const i=s(5257),o=s(6244),a=s(6943);class _0x5d583c extends i[n(3534)]{get[n(2778)](){const t=n;return this.entity[t(712)][t(3171)]}[n(644)](t){const e=n,s=this[e(2923)][e(712)],i=s[e(3171)];return t>=0&&t<i?s[t]:void 0}[n(3223)](t){const e=n;let s,i=4294967295;const a=this[e(2923)][e(712)],r=a[e(3171)];for(let n=0;n<r;n++){const r=a[n],c=o[e(2822)].lengthSq(r.getPosition(),t);c>=i||(i=c,s=r)}return s}}e.CcGameModeWorldSettings=_0x5d583c,_0x5d583c[n(3311)](n(1665),[new(a[n(3024)])(n(2923),{type:a.AttributeType.entity})])},2009:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e[n(1289)]=void 0;const i=s(855),o=s(8067),a=s(1068),r=s(4950),c=s(7760),h=s(7600),l=s(7963),d=s(329),u=s(2014),p=s(3435),_=s(3136),m=s(8044),g=s(3338);class _0x51b0db extends o[n(278)]{constructor(){const t=n;super(...arguments),this[t(2294)]=3e3,this.pawnDestroyDelay=5e3,this[t(1239)]=new(a[t(1990)])}[n(3488)](){const t=n;super.construct(),this[t(2928)][t(3731)](new(u[t(546)]))}[n(2235)](){const t=n;super[t(2235)]();const e=_.WorldSettings[t(2216)];this[t(3569)]=e[t(598)](m.CcGameModeWorldSettings)}[n(2306)](t){const e=n;super[e(2306)](t),t[e(327)](l.CcMessageType[e(3351)],d[e(3437)],this[e(3300)][e(4467)](this))}[n(2883)](t){const e=n;if(this.respawnHandler)try{if(this[e(334)](t))return}catch(t){console[e(4447)](t)}if(t._isRespawning)return;const s=t[e(3393)];if(!s){const s=this[e(3569)][e(644)](0);return void this[e(2374)](t,s.getPosition(),s[e(1955)]())}const i=this[e(3569)][e(3223)](s.entity[e(1344)]());s instanceof c[e(710)]&&s[e(4116)](),setTimeout((()=>s[e(2954)][e(3039)]()),this[e(951)]),t._isRespawning=!0,setTimeout((()=>{const s=e;t[s(3509)]=!1,h[s(1232)][s(2216)].players[s(2614)](t)<0||this.spawnPawn(t,i[s(1344)](),i[s(1955)]())}),this[e(2294)])}[n(2374)](t,e,s){const i=n,o=this[i(825)];o?(e||(e=g.Vec3[i(1853)]),s||(s=g.Quat.IDENTITY),p[i(466)].instantiateScript(o,void 0,e,s)[i(3856)](t),this[i(1239)][i(2356)](t)):console[i(4273)]("Can't spawn pawn for player: no pawn template defined.")}onPlayerAddedInternal(t){const e=n;super[e(1124)](t),this[e(2883)](t)}onPlayerRemovedInternal(t){const e=n;super.onPlayerRemovedInternal(t);const s=t[e(3393)];s&&s.entity[e(3039)]()}[n(3300)](t){const e=n,s=t[e(2977)],i=t[e(3376)],o=s[e(2753)],a=h.PlayerRoom[e(2216)][e(250)](i,o);a?this[e(2883)](a):console[e(4273)]("Can't respawn player "+o+e(2190)+i[e(4263)]+e(1942))}}e[n(1289)]=_0x51b0db,_0x51b0db[n(3311)]("CcGameMode",[new(i[n(3024)])("pawnTemplate",{type:i[n(4031)][n(3330)],scriptType:r[n(4432)]})])},768:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(1872)]=void 0;const i=s(5737),o=s(7600),a=s(5171),r=s(3112),c=s(1986),h=s(8067),l=s(8463),d=s(6943),u=s(9799),p=s(7760),_=s(7409),m=s(329),g=s(7963),f=s(8367),x=s(2330),y=s(3296),v=s(8723),w=s(2770),b=s(3338);class _0x5eac93 extends i[n(1999)]{constructor(){const t=n;super(...arguments),this[t(3294)]=!1,this[t(2719)]=new _0x4a1a29}static get[n(2216)](){const t=n;return i[t(1999)][t(2216)]}[n(2235)](){const t=n;super[t(2235)](),this[t(396)](),this[t(3939)](!1,!0),u[t(4455)][t(2216)][t(2770)](!0)}[n(396)](){const t=n,e=y[t(3326)].instance,s=this.hudSettings,i=this._hudInstances,o=e[t(940)];i[t(3982)]=o[t(2530)](s[t(1083)]),i[t(3960)]=o[t(2530)](s[t(3862)]),i.multiplayer=o[t(2530)](s[t(2150)]),i.mobile=o[t(2530)](s[t(2711)]),this[t(3758)]()}[n(3758)](){const t=n,e=b[t(4083)][t(4318)],s=this[t(3294)],i=this[t(2719)];i[t(3960)].entity[t(3471)]=!e&&!s,i[t(272)][t(2954)][t(3471)]=!e&&s,i[t(4318)][t(2954)].enabled=e}setPlayerInputEnabled(t){const e=n,s=a.InputManager[e(2216)][e(3132)];for(let n=0;n<s[e(3171)];n++)s[n][e(3371)]=t}[n(3884)](t){const e=n,s=_[e(1965)][e(1753)](m[e(3437)]);s[e(1876)](t[e(3197)]),this[e(1404)][e(3303)][e(2230)](g[e(2175)][e(3351)],s,f.NetworkChannel[e(1251)])}invalidatePlayerObjective(t){const e=n;t[e(3964)]&&(t[e(2849)][e(2949)]||this[e(2004)][e(1903)][e(3171)])}setMultiplayerEnabled(t,e=!1){const s=n;(e||t!==this[s(3294)])&&(this[s(3294)]=t,this.onLocalMultiplayerToggled())}[n(3892)](t){const e=n;if(this[e(3294)])return super[e(3892)](t);const s=a[e(2577)][e(2216)][e(3132)];0!=s[e(3171)]?t[e(2217)](s[0]):console.warn(e(1348))}[n(875)](){const t=n,e=c.Client.instance;if(!e||e.session.isOnline)return;const s=o[t(1232)][t(2216)],i=this[t(3294)];if(i){if(s[t(1903)][t(3171)]>=2)return;const e=a[t(2577)][t(2216)].users;if(e[t(3171)]<2)return;const n=e[1];s[t(2217)](n)}else{const e=h[t(278)][t(2216)];for(;s[t(1903)].length>1;)e[t(2987)](s[t(1903)][1])}const l=v[t(1054)].instance;l[t(2334)][t(2954)].enabled=!i,l[t(1929)].entity.enabled=i,l[t(1152)].entity.enabled=i,a[t(2577)][t(2216)][t(3778)](i),r[t(2174)].instance[t(1419)](i),this[t(3758)]()}[n(1124)](t){const e=n;if(super.onPlayerAddedInternal(t),t[e(3964)]){const s=t.controller,n=v[e(1054)][e(2216)],i=t.localId;if(0===i?(s[e(1730)](n[e(2334)]),s[e(1730)](n[e(1929)])):s.addCamera(n.splitCameraRight),s[e(1040)][e(324)](this[e(301)],this),s[e(704)][e(324)](this[e(2540)],this),!s[e(2949)]&&t.localId>0){const t=this[e(2004)][e(1903)][0][e(2849)];s.setObjective(t[e(2949)])}const o=this._hudInstances;0===i?(o[e(3960)][e(2434)](t),o[e(272)].p1Hud[e(2434)](t),o[e(4318)][e(2434)](t)):1===i&&o[e(272)].p2Hud[e(2434)](t)}}onPlayerRemovedInternal(t){const e=n;if(super[e(1454)](t),t[e(3964)]){const s=t[e(2849)];s[e(1040)].removeListener(this[e(301)],this),s.onPossessionChanged[e(3491)](this[e(2540)],this);const n=t.localId,i=this[e(2719)];0===n?(i[e(3960)][e(2434)](void 0),i[e(272)][e(2726)][e(2434)](void 0),i[e(4318)][e(2434)](void 0)):1===n&&i[e(272)][e(611)][e(2434)](void 0)}}onLocalPlayerPawnPossessionChanged(t,e,s){const i=n;if(s&&s instanceof p.Vehicle){s[i(922)].removeListener(this[i(2352)]);const t=u[i(4455)][i(2216)];t.showAd(!1,(()=>{t[i(2770)](!0)}))}e&&e instanceof p[i(710)]&&e[i(3190)]&&e[i(922)].addListener(this[i(2352)],this)}[n(2352)](t){const e=n;t.onDeath[e(3491)](this[e(2352)],this),u[e(4455)].instance[e(2770)](!1)}}e.CcGameState=_0x5eac93;class _0x4a1a29{}class _0x31f7bd extends l.SerializableStruct{}_0x31f7bd[n(394)]([new d.Attribute(n(1083),{type:d.AttributeType[n(3330)],scriptType:x[n(2322)]}),new(d[n(3024)])(n(3862),{title:n(1006),type:d[n(4031)][n(3330)],scriptType:x[n(2322)]}),new(d[n(3024)])("multiplayerHud",{type:d[n(4031)][n(3330)],scriptType:w[n(2219)]}),new(d[n(3024)])(n(2711),{title:"Mobile HUD",type:d[n(4031)][n(3330)],scriptType:x[n(2322)]})]),_0x5eac93[n(3311)](n(1872),[new(d[n(3024)])("hudSettings",{customType:_0x31f7bd})])},7963:(t,e)=>{const s=a0_0x520a;Object.defineProperty(e,s(3500),{value:!0}),e[s(2175)]=void 0,function(t){const e=s;t[t.respawn=201]=e(3351)}(e[s(2175)]||(e[s(2175)]={}))},329:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(3437)]=void 0;const i=s(6065);class _0x3ab675 extends i[n(2952)]{constructor(){super(...arguments),this._localId=0}get[n(2753)](){return this[n(2679)]}[n(1876)](t){const e=n;this._localId=t[e(2753)]}[n(2064)](t){return t.writeByte(this._localId),!0}[n(582)](t){const e=n;this._localId=t[e(2574)]()}dispose(){}}e[n(3437)]=_0x3ab675},6933:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(2666)]=void 0;const i=s(2908),o=s(7740),a=s(1068),r=s(768),c=s(1050),h=s(2255);class _0x356b50 extends i[n(533)]{constructor(){const t=n;super(...arguments),this._cameras=[],this.onObjectiveChanged=new(a[t(1990)])}get[n(2949)](){return this[n(4446)]}[n(2654)](t){const e=n;super[e(2654)](t),t.bindAction(e(3432),o[e(3083)][e(1392)],this[e(3351)],this),t.bindAction(e(2265),o[e(3083)][e(1392)],this.onEscapePressed,this)}[n(1730)](t){const e=n,s=this[e(1749)];s.indexOf(t)>=0?console[e(4273)](e(1868),t):s[e(1757)](t)}[n(2399)](){const t=n,e=this[t(1749)];for(let s=0;s<e[t(3171)];s++){const n=e[s];if(n[t(2954)][t(3471)])return n}}[n(1635)](){const t=n,e=this[t(3393)],s=this._cameras;for(let n=0;n<s[t(3171)];n++)s[n].entity[t(3458)][t(1129)][t(1442)]=e?e[t(2954)]:void 0}setObjective(t){const e=n;t!==this[e(4446)]&&(this[e(4446)]=t,this[e(1040)][e(2356)](this))}respawn(){const t=n;r[t(1872)][t(2216)][t(3884)](this)}[n(2616)](){const t=n;c[t(1667)][t(2216)].showMenu(h[t(3560)])}[n(3220)](t,e){const s=n;super[s(3220)](t,e),this[s(1635)]()}}e[n(2666)]=_0x356b50,_0x356b50[n(3311)](n(2666))},5877:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(1057)]=void 0;const i=s(8578);class _0x449d6e extends i[n(3631)]{}e[n(1057)]=_0x449d6e,_0x449d6e[n(3311)](n(1057))},5842:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,"__esModule",{value:!0}),e[n(1100)]=void 0;const i=s(4883),o=s(8294);class _0x320b7c extends i[n(3615)]{constructor(){const t=n;super(t(1330)),this[t(3731)](this[t(3990)]=new(o[t(1793)]))}[n(1790)](t){}[n(2105)](t){}}e.EventsModule=_0x320b7c},6525:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(3666)]=void 0;const i=s(8256),o=s(1068),a=s(7956),r=s(1465);e[n(3666)]=class _0x48a2b9{constructor(t){const e=n;this[e(1985)]=[],this[e(1072)]=[],this[e(654)]=-1,this[e(2414)]=5,this[e(470)]=new o.DelegateP2,this[e(2650)]=new(o[e(1990)]),this[e(2695)]=new(o[e(1990)]),this[e(632)](t[e(1292)])}[n(632)](t){const e=n,s=this[e(1985)],o=t[e(3171)];for(let n=0;n<o;n++){const o=t[n],r=o.entryTrigger.entity,c=a.EntityUtils[e(3211)](r,i.RaceEntryTrigger);c[e(3708)]=o,c[e(3182)][e(324)](this[e(3541)],this),c[e(510)].addListener(this[e(1340)],this),s[e(1757)](c)}}[n(4046)](t){const e=n,s=this[e(1985)],i=s[e(3171)];for(let n=0;n<i;n++)s[n][e(2954)][e(3471)]=t}update(){const t=n,e=this[t(1072)];if(0===e[t(3171)])return;if(r[t(289)][t(751)](r[t(630)].scaled)<this[t(654)])return;const s=e[0][t(3708)];e.splice(0,e[t(3171)]),this[t(2695)][t(2356)](s)}resetStartTime(){const t=n;this[t(654)]=r[t(289)].getTime(r.TimeSpace.scaled)+this.countdownDuration}[n(3541)](t){const e=n,s=this[e(1072)],i=0===s[e(3171)];s[e(1757)](t),i&&(this[e(4193)](),this[e(470)][e(2356)](t[e(3708)],this._startTime))}[n(1340)](t){const e=n,s=this[e(1072)],i=s[e(2614)](t);i<0||(s[e(650)](i,1),0===i&&(this[e(2650)][e(2356)](t[e(3708)]),s[e(3171)]>0&&(this[e(4193)](),this[e(470)][e(2356)](s[0].race,this[e(654)]))))}}},8256:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(3933)]=void 0;const i=s(855),o=s(1068),a=s(6909),r=s(1065),c=s(4950),h=s(7956);class _0x32454d extends i[n(3691)]{constructor(){const t=n;super(...arguments),this[t(4380)]=[],this[t(3182)]=new(o[t(1990)]),this[t(510)]=new(o[t(1990)])}initialize(){const t=n;super[t(3311)](),this.on(r[t(3321)].destroy,this[t(846)],this),this.on(r[t(3321)].disable,this.onDisabled,this);const e=this[t(2954)][t(3698)];e.on(a[t(1791)][t(412)],this.onTriggerEnter,this),e.on(a[t(1791)].leave,this[t(2762)],this)}[n(846)](){const t=n,e=this[t(2954)][t(3698)];e[t(1377)](a[t(1791)].enter,this[t(1017)],this),e[t(1377)](a.TriggerEventType.leave,this.onTriggerLeave,this)}[n(3517)](){const t=n,e=this._targets;for(let s=0;s<e[t(3171)];s++){const n=e[s];n&&n[t(729)]||(e.splice(s,1),s--,this[t(1755)]())}}[n(1017)](t){const e=n;if(!h[e(1904)].getScriptInParent(t,c[e(4432)]))return;const s=this._targets;s.indexOf(t)>=0||(s[e(1757)](t),1===s[e(3171)]&&this[e(3182)][e(2356)](this))}[n(2762)](t){const e=n;if(!h[e(1904)][e(1560)](t,c[e(4432)]))return;const s=this[e(4380)],i=s.indexOf(t);i<0||(s[e(650)](i,1),this[e(1755)]())}[n(1755)](){const t=n;0===this._targets[t(3171)]&&this[t(510)][t(2356)](this)}onDisabled(){const t=n,e=this[t(4380)][t(3171)];this[t(4380)].splice(0,e),e>0&&this[t(1755)]()}}e[n(3933)]=_0x32454d,_0x32454d.initialize(n(3933))},2014:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(546)]=void 0;const i=s(6525),o=s(2380),a=s(2009),r=s(8294),c=s(9366),h=s(993),l=s(1068),d=s(8067),u=s(2256),p=s(1050),_=s(9855);class _0xb2a711 extends d[n(1834)]{constructor(){const t=n;super(...arguments),this[t(2811)]=[],this[t(1292)]=this._races,this.onRaceStartPending=new(l[t(2503)]),this[t(2650)]=new(l[t(1990)]),this.onRaceStarted=new l.DelegateP1,this[t(2519)]=new(l[t(1990)])}get[n(4234)](){return this[n(1111)]}[n(3311)](){const t=n;a.CcGameMode[t(2216)].onPlayerRespawned[t(324)](this[t(2343)],this);const e=_[t(2712)][t(2216)];e.getRaces(this[t(2811)]),e[t(1009)][t(324)]((e=>this._races[t(1757)](e)))}[n(3088)](){const t=n;_0xb2a711.instance=this;const e=this[t(4251)]=new(i[t(3666)])(this);e[t(470)][t(324)](this.onRaceStartPendingInternal,this),e[t(2650)][t(324)](this[t(1250)],this),e.onRaceStart[t(324)](this[t(408)],this)}[n(1339)](t){this._raceEntryObserver.update()}stop(){_0xb2a711[n(2216)]===this&&(_0xb2a711.instance=void 0)}startRace(t){this[n(869)](t)}[n(3626)](){this[n(869)](void 0)}[n(2343)](){const t=n,e=this[t(1111)];e&&(this[t(3626)](),this[t(408)](e))}[n(869)](t){const e=n;if(t===this._currentRace)return;const s=this[e(1111)];s&&(s[e(2950)].removeListener(this[e(3626)],this),s.stop(),this[e(1111)]=void 0,this[e(3743)](s)),this[e(1111)]=t,this._raceEntryObserver.setTriggersEnabled(!this[e(1111)]),t&&(t[e(2950)][e(324)](this[e(3626)],this),t[e(3088)](),this[e(564)](t))}[n(1090)](t){const e=n;t[e(3594)]&&p[e(1667)][e(2216)][e(3251)](o.RaceResultMenu)[e(2921)](t)}[n(3525)](t,e){const s=n;this[s(470)][s(2356)](t,e)}[n(1250)](t){this.onRaceStartCancelled.safeInvoke(t)}[n(564)](t){const e=n;a.CcGameMode[e(2216)][e(334)]=t=>this[e(900)](t),this[e(1216)][e(2356)](t)}[n(3743)](t){const e=n;a[e(1289)].instance.respawnHandler=void 0,this[e(2519)][e(2356)](t);const s=t[e(2196)];s[e(3594)]&&(r[e(1793)].instance[e(2026)](t.id)[e(1877)](s[e(1829)]),u[e(488)][e(2216)].triggerSave(),c[e(1167)][e(2216)][e(2112)](h.CurrencyType[e(489)],s[e(741)]+s[e(2246)]),this.showRaceResults(s))}onRespawnRequested(t){const e=n;return!!t[e(3393)]&&(this[e(2343)](),!0)}}e[n(546)]=_0xb2a711,s.g[n(546)]=_0xb2a711},8294:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(3366)]=e[n(1793)]=void 0;const i=s(4883),o=s(5094);class _0x3d1c7f extends i[n(3615)]{constructor(){const t=n;super(t(3990)),this[t(723)]=[],this._recordsHashed=new Map,_0x3d1c7f[t(446)]||(_0x3d1c7f[t(446)]=this)}static get[n(2216)](){return this[n(446)]}[n(2026)](t){const e=n;let s=this._recordsHashed[e(3155)](t);return s||(s=new _0x549889(t),this.addRecord(s)),s}[n(2980)](t){const e=n,s=t[e(1809)];if(this[e(1402)][e(1374)](s))return console[e(4273)]("Can't add race record: already added.",t),!1;this[e(723)][e(1757)](t),this[e(1402)][e(2936)](s,t)}[n(1790)](t){const e=n,s=t[e(2392)]=[],i=this[e(723)],o=i[e(3171)];for(let t=0;t<o;t++){const n={};i[t][e(1790)](n),s[e(1757)](n)}}[n(2105)](t){const e=n,s=t.records;if(!s||!Array.isArray(s))return;const i=s[e(3171)];for(let t=0;t<i;t++){const n=s[t],i=_0x549889[e(2105)](n);this.addRecord(i)}}}e[n(1793)]=_0x3d1c7f;class _0x549889{constructor(t){const e=n;this[e(1294)]=-1,this[e(2183)]=[],this[e(810)]=0,this[e(4206)]=t}get[n(1809)](){return this._raceId}get[n(3157)](){return this[n(1294)]>=0}get bestTime(){return this._bestTime}get[n(2794)](){const t=n;return o.TimeUtils.formatPlayTime(this[t(1294)])}[n(1877)](t){const e=n;(this[e(1294)]<0||t<this[e(1294)])&&(this[e(1294)]=t),this[e(810)]++;const s=this[e(2183)];s[e(650)](0,0,t),s[e(3171)]>3&&s[e(650)](3,s[e(3171)]-3)}[n(1790)](t){const e=n;t[e(1809)]=this[e(4206)],t[e(1655)]=this[e(1294)],t[e(2183)]=this[e(2183)],t[e(810)]=this.completions}load(t){const e=n;this._raceId=t[e(1809)],this[e(1294)]=t[e(1655)],this[e(2183)]=t.lastTimes,this.completions=t.completions}static[n(2105)](t){const e=n,s=new _0x549889(-1);return s[e(2105)](t),s}}e[n(3366)]=_0x549889},9855:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(2712)]=void 0;const i=s(1068);class _0x28fac5{constructor(){const t=n;this[t(2811)]=new Set,this.onRaceAdded=new(i[t(1990)])}static get[n(2216)](){const t=n;return this[t(446)]||(this[t(446)]=new _0x28fac5)}addRace(t){const e=n;this._races[e(1374)](t)||(this[e(2811)][e(1565)](t),this[e(1009)][e(2356)](t))}getRaces(t){const e=n,s=this[e(2811)];for(const n of s)t[e(1757)](n);return t}}e[n(2712)]=_0x28fac5},4348:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(2319)]=e[n(440)]=e.Race=void 0;const i=s(855),o=s(3338),a=s(8294),r=s(1068),c=s(7600),h=s(768),l=s(1465),d=s(6244),u=s(9855);class _0x49af18 extends i[n(3691)]{constructor(){const t=n;super(...arguments),this[t(1806)]=!1,this[t(1242)]=0,this[t(432)]=!1,this[t(1045)]=-1,this[t(3787)]=new _0x20f9d7(this),this[t(515)]=Array(4),this.checkpointAdvanceDistance=8,this[t(3460)]=new(o[t(1561)])(1,1,1),this[t(793)]=new o.Vec3(.5,.5,1),this[t(715)]=10,this.exitDistance=350,this[t(4303)]=10,this[t(3261)]=new(r[t(2503)]),this.onStopped=new r.DelegateP2}get id(){return this._id}get[n(1257)](){return this[n(1806)]}get[n(1630)](){return this[n(1242)]}get[n(1829)](){const t=n;return this[t(3787)][t(1829)]}get[n(2891)](){const t=n;return this._results.hasStarted&&!this._results[t(3279)]}get[n(2196)](){return this[n(3787)]}get[n(1387)](){const t=n;return this[t(1095)][t(712)]}[n(3311)](){const t=n;super[t(3311)](),this.setCheckpointIndex(0),this.disableCheckpoints(),u[t(2712)][t(2216)].addRace(this)}update(t){const e=n;this.isInProgress&&(this[e(2895)](),this[e(3886)](t),this.updateCheckpoints(t))}[n(3247)](t){const e=n;t!==this._isCountingDown&&(this[e(1806)]=t,this[e(2771)](!t),t&&(this[e(432)]=!1,this._driveStartTime=l[e(289)][e(751)](l[e(630)].scaled)+3,this[e(2107)](this[e(779)])))}[n(2895)](){const t=n;this._isCountingDown&&(l[t(289)].getTime(l[t(630)].scaled)<this[t(1242)]||(this[t(3247)](!1),this[t(288)]()))}[n(3088)](){const t=n;if(this.isInProgress)return;(this[t(3787)]=new _0x20f9d7(this))[t(1879)]=!0;const e=c[t(1232)][t(2216)];e.onPlayerAdded.addListener(this.onPlayerAdded,this),e.onPlayerRemoved[t(324)](this.onPlayerRemoved,this);const s=e[t(1903)],i=this._playerStates;for(let e=0;e<i.length;e++)i[e]=e<s[t(3171)]?new _0x3e64ca(s[e]):void 0;this[t(3247)](!0)}[n(288)](){const t=n;this[t(432)]||(this._hasStartedDriving=!0,this[t(2784)](0))}stop(){const t=n;if(!this[t(2891)])return;const e=c.PlayerRoom.instance;e[t(3726)].removeListener(this[t(3726)],this),e[t(3031)][t(3491)](this.onPlayerRemoved,this),this[t(3787)][t(3279)]=!0,this[t(3247)](!1),this[t(732)](),this[t(1860)](void 0),Object[t(268)](this[t(3787)]),this[t(2950)][t(2356)](this,this[t(3787)])}[n(4437)](){const t=n;if(!this[t(432)])return;const e=this[t(3787)];e[t(3594)]=!0,e[t(741)]=this[t(741)],e[t(2246)]=0;const s=a[t(1793)][t(2216)][t(2026)](this.id);s[t(3157)]&&e[t(1829)]<s[t(1655)]&&(e.bonusStarReward=this[t(1364)]),this.stop()}[n(3886)](t){const e=n;if(!this[e(432)]||this[e(3787)][e(3279)])return;this._results[e(1829)]+=t;const s=c[e(1232)][e(2216)].players[e(3171)],i=this._playerStates;for(let t=0;t<s;t++){const s=i[t];s&&this[e(1012)](s)}}[n(673)](t){const e=n,s=this[e(2638)];this.updateCheckpointScale(s,this[e(3460)],t);const i=this[e(3685)];i&&this[e(1633)](i,this[e(793)],t)}[n(1633)](t,e,s){const i=n,o=t.getLocalScale();d[i(2822)][i(4274)](o,e)||(o[i(372)](o,e,s*this._checkpointScaleSpeed),t.setLocalScale(o))}[n(2784)](t,e=!0){const s=n;if(t<0||t>=this[s(1387)].length)return;this._currentCheckpoint&&(this[s(2638)][s(3471)]=!1),this[s(1045)]=t;const i=this[s(2638)]=this[s(1387)][t];i.enabled=e,e&&this[s(2891)]&&this[s(1860)](i);const a=t+1;if(a<this.checkpoints.length){const t=this[s(3685)]=this[s(1387)][a];t[s(3009)](o[s(1561)][s(1853)]),t[s(3471)]=!0}else this[s(3685)]=void 0}[n(4280)](){const t=n;this._currentCheckpointIndex!==this[t(1387)].length-1?this[t(2784)](this[t(1045)]+1):this[t(4437)]()}disableCheckpoints(){const t=n,e=this.checkpoints;for(let s=0;s<e.length;s++)e[s][t(3471)]=!1}updatePlayerStates(t){const e=n;if(!t[e(4457)](this[e(2638)]))return;const s=t[e(3553)];s<=this[e(2200)]&&this[e(4280)]();const i=s>this.exitDistance;t[e(2441)]!==i&&(t[e(1717)]=i?l[e(289)][e(1829)]:-1,this[e(3261)][e(2356)](t[e(3265)],i)),i&&l[e(289)][e(1829)]-t[e(1717)]>this[e(4303)]&&this[e(2785)]()}[n(2107)](t){const e=n,s=c[e(1232)][e(2216)][e(1903)],i=2*(s.length-1)*-.5;for(let n=0;n<s[e(3171)];n++){const a=s[n].pawn;if(!a)continue;const r=(new o.Vec3)[e(3172)](t[e(1344)]()),c=(new(o[e(1561)])).copy(t[e(1027)])[e(830)](i+2*n);r[e(1565)](c);const h=t[e(1955)](),l=a[e(2954)][e(1954)];l.teleport(r,h),l.linearVelocity=o[e(1561)][e(1853)],l[e(1424)]=o[e(1561)][e(1853)]}}[n(4140)](t){const e=n,s=c.PlayerRoom[e(2216)][e(1903)];let i=4294967295;for(let n=0;n<s[e(3171)];n++){const o=s[n][e(3393)];if(!o)continue;const a=o.entity.getPosition(),r=d[e(2822)][e(4269)](a,t);r>=i||(i=r)}return Math[e(974)](i)}setPlayersObjective(t){const e=n,s=c[e(1232)][e(2216)].localPlayers;for(let n=0;n<s[e(3171)];n++)s[n][e(2849)][e(3062)](t)}setPlayerInputEnabled(t){const e=n;h[e(1872)].instance[e(2771)](t)}onPlayerAdded(t){const e=n;this[e(515)][t[e(2753)]]=new _0x3e64ca(t)}onPlayerRemoved(t){const e=n;this._playerStates[t[e(2753)]]=void 0}}e[n(3070)]=_0x49af18,_0x49af18[n(3311)](n(3070),[new(i[n(3024)])(n(3954),{type:i[n(4031)][n(1311)]}),new i.Attribute(n(3773),{type:i[n(4031)].string}),new i.Attribute("starReward",{type:i[n(4031)].number,default:50}),new(i[n(3024)])(n(1364),{type:i[n(4031)][n(1311)],default:50}),new(i[n(3024)])(n(779),{type:i[n(4031)][n(2954)]}),new i.Attribute("entryTrigger",{componentType:o.CollisionComponent}),new(i[n(3024)])(n(1095),{title:"Checkpoints",type:i[n(4031)].entity})]);class _0x20f9d7{constructor(t){const e=n;this.hasStarted=!1,this[e(3279)]=!1,this[e(3594)]=!1,this[e(1829)]=0,this[e(741)]=0,this.bonusStarReward=0,this[e(3708)]=t}}e[n(440)]=_0x20f9d7;class _0x3e64ca{constructor(t){const e=n;this[e(1717)]=-1,this[e(3553)]=0,this[e(3265)]=t}get[n(2441)](){return this[n(1717)]>=0}updateCheckpointDistance(t){const e=n,s=this[e(3265)][e(3393)];if(!s)return!1;const i=t.getPosition();return i[e(2266)](s[e(2954)][e(1344)]()),this.distanceToCheckpoint=i.length(),!0}}e[n(2319)]=_0x3e64ca},3553:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0});const i=s(855),o=s(3847),a=s(2014),r=s(2478),c=s(3338),h=s(8294),l=s(196),d=s(9386);class _0x2e716c extends d[n(1457)]{postConstruct(){const t=n;var e;super[t(2235)](),null===(e=this[t(1670)])||void 0===e||e.on(l[t(2899)][t(280)],this.onStopRacePressed,this),this.setEnabled(!1),this[t(2636)]()}[n(3821)](){const t=n,e=a.RaceModule.instance;e&&this[t(869)](e.currentRace)}[n(869)](t){const e=n;t!==this._race&&(this[e(1799)]&&this[e(2519)](this[e(1799)]),this[e(1799)]=t,this[e(1799)]&&this[e(1216)](this._race))}lateTick(t){const e=n;if(!this[e(1799)])return;const s=this[e(1799)].time;this[e(4188)].setTime(s,!1)}[n(1117)](t){this[n(909)].enabled=t}[n(2636)](){const t=n;super[t(2636)]();const e=a[t(546)][t(2216)];e[t(470)].addListener(this[t(470)],this),e[t(2650)].addListener(this[t(2650)],this),e.onRaceStarted[t(324)](this[t(3821)],this),e[t(2519)].addListener(this[t(3821)],this),this[t(3821)]()}onDisable(){const t=n;super[t(2708)]();const e=a[t(546)][t(2216)];e[t(470)][t(3491)](this.onRaceStartPending,this),e[t(2650)][t(3491)](this.onRaceStartCancelled,this),e[t(1216)][t(3491)](this[t(3821)],this),e[t(2519)][t(3491)](this[t(3821)],this),this.countdownDisplay[t(3760)](),this.setRace(void 0)}[n(470)](t,e){const s=n;this[s(2487)].show(e,s(1114)+t[s(3773)]+" in","")}[n(2650)](){this[n(2487)].reset()}[n(1216)](t){const e=n;t[e(3261)][e(324)](this[e(3261)],this);const s=h[e(1793)][e(2216)][e(2026)](t.id);this[e(1117)](!0),this[e(3998)][e(1138)](s[e(1655)],!0),this.currentTimeDisplay[e(1138)](0,!0),t.isCountingDown&&this[e(2487)][e(2921)](t[e(1630)])}[n(2519)](t){const e=n;t[e(3261)][e(3491)](this[e(3261)],this),this[e(2487)].reset(),this[e(1117)](!1),this[e(1775)].enabled=!1}onPlayerLeavingTrackChanged(t,e){const s=n;t===this[s(3265)]&&(this.leavingTrackRoot[s(3471)]=e)}onStopRacePressed(){this[n(1799)]&&this._race.stop()}}_0x2e716c[n(3311)](n(312),[new(i[n(3024)])(n(909),{type:i[n(4031)][n(2954)]}),new i.Attribute(n(2487),{scriptType:o.HudCountdownDisplay}),new(i[n(3024)])("bestTimeDisplay",{scriptType:r[n(3899)]}),new i.Attribute(n(4188),{scriptType:r[n(3899)]}),new i.Attribute(n(1775),{type:i[n(4031)][n(2954)]}),new i.Attribute(n(1670),{componentType:c[n(530)]})])},191:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,"__esModule",{value:!0}),e[n(1055)]=void 0;const i=s(1690),o=s(2014),a=s(8294),r=s(855),c=s(3338),h=s(196);class _0x2627be extends i[n(3608)]{[n(3488)](){const t=n;super[t(3488)](),this[t(1323)].on(h[t(2899)].click,this[t(3388)],this)}postConstruct(){const t=n;super[t(2235)]();const e=o[t(546)][t(2216)][t(1292)],s=this[t(4092)];for(let n=0;n<e.length;n++){const i=e[n],o=s[n];o.raceNameText.text=i[t(3773)],o.playButton.on(h[t(2899)][t(280)],(()=>this[t(2579)](i)))}this[t(4367)]()}[n(4367)](){const t=n,e=o[t(546)][t(2216)].races,s=a[t(1793)][t(2216)],i=this[t(4092)];for(let n=0;n<e[t(3171)];n++){const o=e[n],a=i[n],r=s[t(2026)](o.id);a[t(987)][t(3678)]=r.bestTimeFormatted}}[n(2579)](t){const e=n;o.RaceModule.instance[e(408)](t),this.close()}[n(2636)](){const t=n;super[t(2636)](),this[t(4367)]()}}e[n(1055)]=_0x2627be;class _0x516ae8 extends r.SerializableStruct{}_0x516ae8.addAttributes([new(r[n(3024)])(n(3336),{componentType:c[n(1814)]}),new(r[n(3024)])(n(987),{componentType:c.ElementComponent}),new(r[n(3024)])(n(3430),{componentType:c.ButtonComponent})]),_0x2627be[n(3311)](n(1055),[new(r[n(3024)])("_closeButton",{componentType:c[n(530)]}),new r.Attribute(n(4092),{customType:_0x516ae8,isArray:!0})])},2380:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(4148)]=void 0;const i=s(855),o=s(3338),a=s(5094),r=s(2014),c=s(8294),h=s(9799),l=s(9366),d=s(993),u=s(196),p=s(1690);class _0x5ee9b8 extends p[n(3608)]{[n(3488)](){const t=n;super[t(3488)](),this[t(3395)].on(u[t(2899)][t(280)],this[t(3508)],this),this._continueButton.on(u[t(2899)][t(280)],this.close,this),this[t(1629)].on(u.ButtonEventType.click,this[t(2751)],this),this[t(2909)][t(3749)].on(u[t(2899)][t(280)],this[t(1262)],this)}[n(2921)](t){const e=n;this[e(3787)]=t,this[e(2954)][e(3471)]=!0,this[e(1629)][e(2954)][e(3471)]=!0,this._rewardPromptSettings[e(693)][e(3471)]=!1;const s=t[e(3708)],i=c[e(1793)][e(2216)][e(2026)](s.id);this[e(1343)][e(3678)]=s.name,this._bestTimeText.text=e(930)+a[e(1099)][e(896)](i[e(1655)]),this[e(3461)].text=e(2e3)+a.TimeUtils[e(896)](t[e(1829)]);const o=Math[e(1417)](Math[e(1599)](t[e(741)]),0);this[e(4478)][e(3678)]=o.toString();const r=Math[e(1417)](Math[e(1599)](t[e(2246)]),0),h=r>0;this[e(4368)][e(2954)][e(3471)]=h,h&&(this[e(4368)].text="+ "+r+e(1796))}[n(4363)](t){const e=n,s=this[e(2909)];s[e(693)][e(3471)]=!0,s.bodyText.text=t}[n(3388)](){const t=n;super.close(),this[t(3787)]=void 0}[n(3508)](){const t=n,e=this[t(3787)][t(3708)];r[t(546)][t(2216)][t(408)](e),this[t(3388)]()}[n(2751)](){const t=n;this[t(1629)].entity.enabled=!1;const e=this._results;h[t(4455)].instance.showAd(!0,(s=>{const n=t;if(s){const t=e[n(741)]+e.bonusStarReward;l[n(1167)].instance.addAmount(d[n(1062)][n(489)],t),this[n(4363)]("+"+t+n(3942))}}))}[n(1262)](){const t=n;this[t(2909)][t(693)][t(3471)]=!1}onContinuePressed(t){const e=n;t[e(405)](),this[e(3388)]()}}e[n(4148)]=_0x5ee9b8;class _0x2e55ea extends i.SerializableStruct{}_0x2e55ea.addAttributes([new(i[n(3024)])(n(693),{type:i[n(4031)][n(2954)]}),new(i[n(3024)])("bodyText",{componentType:o[n(1814)]}),new(i[n(3024)])(n(3749),{componentType:o[n(530)]})]),_0x5ee9b8[n(3311)]("RaceResultMenu",[new i.Attribute("_raceNameText",{componentType:o[n(1814)]}),new(i[n(3024)])(n(2226),{componentType:o[n(1814)]}),new i.Attribute("_finishTimeText",{componentType:o[n(1814)]}),new(i[n(3024)])(n(4478),{componentType:o[n(1814)]}),new i.Attribute(n(4368),{componentType:o[n(1814)]}),new(i[n(3024)])("_retryButton",{componentType:o[n(530)]}),new(i[n(3024)])(n(2968),{componentType:o[n(530)]}),new(i[n(3024)])("_increaseRewardButton",{componentType:o[n(530)]}),new(i[n(3024)])("_rewardPromptSettings",{customType:_0x2e55ea})])},7479:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(2172)]=void 0;const i=s(9542),o=s(5171),a=s(2285),r=s(7072),c=s(47),h=s(3338);class _0x317b83 extends o[n(2577)]{constructor(){const t=n;super(...arguments),this[t(2347)]=[]}[n(890)](){const t=n;super[t(890)]();const e=new(i[t(358)]),s=e[t(2868)]("player");s[t(2111)](t(3449)),s.addAction(t(3195)),s[t(2111)]("handbrake"),s[t(2111)](t(3351));const o=c[t(1711)].instance[t(338)],a=e[t(2868)]("ui");o.continue=a.addAction("continue"),o.back=a.addAction("back"),this[t(305)](e[t(2792)](),!0,{gameplay:{throttleUp:[h[t(1672)],h.KEY_UP],throttleDown:[h.KEY_S,h[t(3374)]],steerLeft:[h[t(442)],h[t(576)]],steerRight:[h[t(1132)],h[t(1036)]],handbrake:[h.KEY_SPACE],respawn:[h.KEY_R]},ui:{continue:[h[t(559)]],back:[h[t(2461)]]}}),this[t(305)](e[t(2792)](),!1,{gameplay:{throttleUp:[h[t(2267)]],throttleDown:[h[t(3374)]],steerLeft:[h[t(576)]],steerRight:[h.KEY_RIGHT],handbrake:[h[t(624)]],respawn:[h[t(2984)]]}})}[n(305)](t,e,s){const i=n,o=t[i(2531)](i(3496)),c=t[i(2531)]("player/steer"),h=t[i(2531)](i(336)),l=t.getAction(i(3432)),d=t[i(2531)](i(871)),u=t[i(2531)](i(2265)),p=t[i(3835)](i(2793),r[i(929)],!0),_=s.gameplay;this[i(3895)](p,o,_[i(2524)],1),this[i(3895)](p,o,_[i(1597)],-1),this[i(3895)](p,c,_[i(337)],-1),this[i(3895)](p,c,_.steerRight,1),this[i(3895)](p,h,_[i(833)],1),this.bindAction(p,l,_.respawn,1);const m=s.ui;m&&(this[i(3895)](p,d,m[i(767)],1),this[i(3895)](p,u,m[i(3607)],1));const g=t.addControlScheme("ui",a[i(3502)],!0);g.addBinding(o,(t=>t[i(2622)](o))),g[i(3468)](c,(t=>t[i(2622)](c))),g.addBinding(l,(t=>t[i(2622)](l)));const f=this.createUser(t),x=this[i(4376)](r[i(929)]);if(f[i(2349)](x),e){const t=this[i(4376)](a[i(3502)]);f.addDevice(t)}}[n(3895)](t,e,s,i){const o=n;for(let n=0;n<s[o(3171)];n++){const a=s[n],r=t[o(3468)](e,(t=>t[o(2316)](a)?i:0));n>0&&this._singleplayerOnlyBindings[o(1757)](r)}}[n(3778)](t){const e=n,s=this[e(2347)];for(let n=0;n<s.length;n++)s[n][e(3471)]=!t}}e[n(2172)]=_0x317b83,_0x317b83[n(3311)](n(2172))},9470:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(1276)]=void 0;const i=s(855),o=s(822);class _0x209893 extends o[n(3656)]{constructor(){const t=n;super(...arguments),this[t(1411)]=!1,this[t(3776)]=t(2393),this[t(1725)]=t(1522),this[t(1253)]="km",this[t(1205)]="mi"}get[n(3940)](){const t=n;return this[t(1411)]?this[t(1725)]:this[t(3776)]}get[n(678)](){const t=n;return this._isImperial?this[t(1205)]:this[t(1253)]}static get[n(2216)](){const t=n;return o.Manager[t(2922)](_0x209893)}[n(890)](){const t=n;if(super[t(890)](),this[t(1256)])this[t(1411)]=!0;else{const e=Intl[t(573)]()[t(3445)]()[t(539)];this._isImperial=e[t(2192)](t(1637))}}localizeSpeed(t){return t*(this[n(1411)]?2.23693629:3.6)}[n(3101)](t){return t*(this._isImperial?62137e-8:.001)}}e[n(1276)]=_0x209893,_0x209893[n(3311)]("LocalizationManager",[new(i[n(3024)])(n(1256),{type:i[n(4031)].boolean})])},500:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e[n(1521)]=void 0;const i=s(855),o=s(6899);class _0x251de4 extends i[n(3691)]{postInitialize(){const t=n,e=this.entity;let s=e[t(3698)];s||(s=e[t(3189)](t(3698)));const i=this.entity[t(1530)];o[t(1133)][t(2216)][t(3709)](s,i)}}e[n(1521)]=_0x251de4,_0x251de4[n(3311)]("CollisionMeshGenerator")},6899:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(1133)]=void 0;const i=s(822),o=s(3338),a=s(7045),r=s(6020),c=s(6943),h=s(1465),l=s(1068);class _0x4c8ec1 extends i[n(3656)]{constructor(){const t=n;super(...arguments),this[t(1778)]=new(r[t(386)]),this[t(2880)]=new(l[t(1990)]),this[t(640)]=new(l[t(299)])}static get instance(){return i.Manager.getInstanceByType(_0x4c8ec1)}[n(890)](){const t=n;this[t(2965)]=this[t(4474)].systems[t(3698)],this[t(2536)]()}resetStartDelay(){const t=n;this._startTime=h.TimeManager[t(2128)]}[n(1339)](t){const e=n;h[e(289)].unscaledTime-this[e(654)]<this[e(3611)]||(this[e(3235)]||this[e(4028)]())&&this[e(389)](this[e(3235)],Math.round(t*this[e(1277)]))}createCollisionMesh(t,e){const s=n,i=new _0xc25ec4(t,e,this[s(2965)]._triMeshCache);i[s(498)]=this[s(3341)].bind(this),this[s(1778)][s(1951)](i)}[n(4028)](){const t=n;this._task=void 0;const e=this[t(1778)];return 0!==e[t(3171)]&&((this[t(3235)]=e[t(1112)]())[t(3088)](),!0)}[n(389)](t,e){const s=n,i=t[s(1261)],o=i[0],a=i[1],r=i[2],c=t[s(2242)],h=t[s(3343)][s(1486)][0][s(2057)],l=t[s(2545)],d=t[s(461)],u=t[s(1840)],p=t.numTriangles,_=Math[s(3802)](p,t[s(2011)]+e);let m,g,f,x;for(m=t[s(2011)];m<_;m++)g=u[h+3*m]*l,f=u[h+3*m+1]*l,x=u[h+3*m+2]*l,o[s(4229)](d[g],d[g+1],d[g+2]),a[s(4229)](d[f],d[f+1],d[f+2]),r[s(4229)](d[x],d[x+1],d[x+2]),c[s(411)](o,a,r,!0);this[s(3235)].triangleIndex=m,_===p&&t[s(4051)]()}[n(3978)](t){const e=n;super[e(3978)](t),this[e(2536)]()}onTaskFinishedInternal(t){const e=n;console[e(3015)](t===this[e(3235)]),this[e(2880)].safeInvoke(t[e(557)]),this[e(4028)]()||this[e(3424)]()}onTasksFinishedInternal(){const t=n;this[t(640)][t(2356)]()}}e.CollisionMeshService=_0x4c8ec1;class _0xc25ec4{constructor(t,e,s){const i=n;this[i(1013)]=-1,this[i(3510)]=!1,this[i(1261)]=[],this[i(557)]=t,this[i(2034)]=e,this.meshInstances=e[i(768)],this.triMeshCache=s}get[n(3343)](){const t=n;return this[t(768)][this[t(1013)]][t(3343)]}start(){const t=n;this._hasStarted?console[t(4447)](t(3734),this):(this[t(3510)]=!0,this.vectors.push(new(a[t(1776)]),new(a[t(1776)]),new a.btVector3),this[t(1840)]=[],this[t(1013)]=-1,this.advanceMesh())}[n(4437)](){const t=n,e=this[t(1261)];for(let s=0;s<e[t(3171)];s++)a[t(3813)].destroy(e[s]);this[t(1261)]=void 0,this.indices=void 0;const s=this[t(557)];s[t(947)]=this[t(2034)].asset,s[t(2403)]=t(3343),this[t(498)]&&this[t(498)](this)}[n(4051)](){const t=n,e=this.meshInstances;this[t(1013)]>=0&&(this[t(1723)][e[this._meshIndex][t(3343)].id]=this[t(2242)]);const s=this[t(1723)];for(;;){if(++this[t(1013)]>=e[t(3171)])return void this.finish();const n=e[this[t(1013)]][t(3343)];if(!s[n.id]){this.prepareForMesh(n);break}}}[n(1275)](t){const e=n,s=t[e(4334)],i=s.getFormat()[e(3033)],r=i[e(3171)];for(let t=0;t<r;t++){const n=i[t];if(n.name===o.SEMANTIC_POSITION){this[e(461)]=new Float32Array(s[e(2253)](),n[e(3387)]),this[e(2545)]=n.stride/4;break}}const c=this[e(1840)];c[e(650)](c[e(3171)]),t[e(4033)](c),this[e(4351)]=t[e(1486)][0][e(3206)]/3,this[e(2011)]=0,this[e(2242)]=new(a[e(4191)])}}_0x4c8ec1[n(3311)](n(1133),[new(c[n(3024)])("_generationStartDelay",{type:c[n(4031)][n(1311)],default:3}),new(c[n(3024)])(n(1277),{type:c[n(4031)][n(1311)],default:1e4})])},6942:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(1178)]=void 0;const i=s(2256),o=s(9630);class _0x47945a extends i[n(488)]{constructor(){const t=n;super(...arguments),this[t(2931)]=0}[n(2235)](){const t=n;super[t(2235)](),this[t(2931)]=Date[t(2448)]()+1e4}[n(1339)](){const t=n;super[t(1339)](),Date[t(2448)]()-this._lastSaveTime<_0x47945a[t(532)]||this.saveAccounts()}createAccount(t,e){return new(o[n(2546)])(t,e)}[n(3348)](){const t=n;super[t(3348)](),this[t(2931)]=Date[t(2448)]()}}e[n(1178)]=_0x47945a,_0x47945a[n(532)]=3e4,_0x47945a[n(3311)](n(1178))},9630:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e[n(2546)]=void 0;const i=s(9366),o=s(4796),a=s(5842),r=s(7762);class _0xe51e0b extends r[n(2482)]{constructor(t,e){const s=n;super(t,e),this[s(3731)](this[s(3880)]=new i.CurrencyModule),this[s(3731)](this[s(1330)]=new(a[s(1100)])),this[s(3731)](this[s(4023)]=new(o[s(3481)]))}}e.CcAccount=_0xe51e0b},5019:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,"__esModule",{value:!0}),e.CcCurrencyType=void 0,function(t){const e=s;t[t[e(942)]=0]=e(942),t[t[e(3087)]=1]=e(3087)}(e.CcCurrencyType||(e[s(1907)]={}))},9366:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e.CurrencyModule=void 0;const i=s(4883),o=s(1068);class _0x1937ef extends i[n(3615)]{constructor(){const t=n;super(t(3880)),this[t(1469)]=Array(2),this[t(1463)]=new(o[t(2503)]),_0x1937ef[t(446)]||(_0x1937ef[t(446)]=this);const e=this[t(1469)];for(let s=0;s<e[t(3171)];s++)e[s]=0}static get instance(){return this[n(446)]}[n(2194)](t){return this._amounts[t]}[n(2151)](t,e){const s=n;e<0||e===this._amounts[t]||(this[s(1469)][t]=e,this[s(1463)][s(2356)](t,e))}[n(2112)](t,e){const s=n;e<=0||this[s(2151)](t,this[s(1469)][t]+e)}save(t){const e=n;t[e(1728)]=this[e(1469)]}load(t){const e=n;this[e(1469)]=t[e(1728)]}}e[n(1167)]=_0x1937ef},993:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,"__esModule",{value:!0}),e.CurrencyType=void 0,function(t){const e=s;t[t[e(489)]=0]=e(489),t[t[e(1208)]=1]=e(1208)}(e[s(1062)]||(e[s(1062)]={}))},2496:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,s(3500),{value:!0}),e[s(2016)]=void 0,function(t){const e=s;t[t[e(3880)]=0]="currency",t[t.ad=1]="ad",t[t.free=2]=e(822)}(e[s(2016)]||(e[s(2016)]={}))},203:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,s(3500),{value:!0}),e[s(1031)]=void 0,e[s(1031)]=class _0x2042fb{constructor(t=-1,e=-1,n=0,i){const o=s;this.method=t,this[o(3880)]=e,this[o(2477)]=n,Number[o(4388)](i)||(i=Date[o(2448)]()),this[o(2508)]=i}save(t){Object.assign(t,this)}[s(2105)](t){Object[s(1777)](this,t)}}},3995:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(3772)]=void 0;const i=s(855),o=s(5019),a=s(3338),r=s(2256);class _0x36f12d extends i.Behavior{[n(3488)](){const t=n,e=r.AccountManager[t(2216)],s=e.mainAccount;s?this.onAccountReady(s):e[t(1007)][t(324)](this[t(1007)],this)}updateUi(){const t=n;if(!this._currencyModule)return;const e=this[t(4087)][t(2194)](this[t(469)]);this._amountText[t(3678)]=e.toString()}setCurrencyListeningEnabled(t){const e=n,s=this[e(4087)];s&&(s[e(1463)][e(1741)](this.onAmountChanged,this,t),t&&this[e(3471)]&&this.updateUi())}[n(2636)](){this[n(540)](!0)}[n(2708)](){this.setCurrencyListeningEnabled(!1)}[n(2617)](){const t=n;r.AccountManager[t(2216)].onAccountReady[t(3491)](this[t(1007)],this)}[n(1463)](t){t===this._currencyType&&this.updateUi()}[n(1007)](t){const e=n;0===t[e(3850)]&&(r[e(488)].instance[e(1007)].removeListener(this[e(1007)],this),this[e(4087)]=t.currency,this[e(3471)]&&this.setCurrencyListeningEnabled(!0))}}e.CurrencyDisplay=_0x36f12d,_0x36f12d[n(3311)](n(3772),[new i.Attribute("_currencyType",{enum:o.CcCurrencyType,default:o[n(1907)][n(942)]}),new(i[n(3024)])("_amountText",{componentType:a[n(1814)]})])},1919:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e.GarageManager=void 0;const i=s(5529),o=s(2123),a=s(822),r=s(6943),c=s(1402);class _0x2dcc74 extends a[n(3656)]{constructor(){const t=n;super(...arguments),this._vehicleBodies=[],this[t(4327)]=new Map,this._vehiclePartsById=new Map,this[t(1919)]=this[t(4277)]}static get[n(2216)](){const t=n;return a[t(3656)][t(2922)](_0x2dcc74)}[n(890)](){const t=n;super[t(890)](),this[t(615)](),this[t(3628)]()}[n(615)](){const t=n,e=this._vehicleBodies,s=this[t(4327)],i=this[t(953)],a=i.length;for(let n=0;n<a;n++){const a=i[n],r=c[t(3604)][t(3590)](a,o[t(2312)]);r&&(e[t(1757)](r),s[t(2936)](r.id,r))}}loadVehicleParts(){const t=n,e=this[t(1305)],s=this[t(2782)],i=e.length;for(let t=0;t<i;t++){const n=e[t];s.set(n.id,n)}}getVehicleBody(t){const e=n;return this._vehicleBodiesById[e(3155)](t)}[n(1828)](t){return this[n(2782)].get(t)}}e[n(1169)]=_0x2dcc74,_0x2dcc74[n(3311)](n(1169),[new r.Attribute("_vehicleBodyEntities",{title:n(2677),type:r.AttributeType[n(3330)],isArray:!0}),new(r[n(3024)])(n(1305),{type:r.AttributeType[n(3330)],scriptType:i[n(1355)],isArray:!0})])},4796:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(3481)]=void 0;const i=s(4883),o=s(3606),a=s(912),r=s(2123),c=s(1919),h=s(2496);class _0x31e9c3 extends i[n(3615)]{constructor(){const t=n;super(t(4023)),this[t(3281)]=new a.VehicleStats,this[t(247)]=[],this[t(982)]=new Map,this[t(509)]=this[t(247)],_0x31e9c3[t(446)]||(_0x31e9c3[t(446)]=this)}get[n(664)](){return this._selectedVehicle}get[n(3788)](){return this._selectedVehicle.vehicle}static get[n(2216)](){return _0x31e9c3._instance}addVehicle(t,e){const s=n,i=new(o[s(955)])(t,e);return this[s(2986)](i),i}[n(2986)](t){const e=n,s=t[e(2964)].id;this[e(982)][e(1374)](s)?console[e(4447)](e(3426)+s+e(1669),s):(this._vehicles[e(1757)](t),this[e(982)][e(2936)](s,t))}getVehicleRecord(t){const e=n,s=t instanceof r[e(2312)]?t.id:t;return this[e(982)].get(s)}[n(3702)](t){return!!this[n(2611)](t)}[n(2432)](t){const e=n,s=t instanceof r[e(2312)]?t.id:t,i=this[e(982)][e(3155)](s);i?this[e(818)]=i:console.warn(e(1748),t,this)}[n(2869)](){const t=n;super.onLoaded();const e=c.GarageManager.instance.vehicleBodies,s=e[t(3171)];for(let n=0;n<s;n++){const s=e[n];s[t(1743)].method!==h.PaymentMethod[t(822)]||this[t(982)][t(1374)](s.id)||this[t(3752)](s)}this._selectedVehicle||(this._selectedVehicle=this[t(247)][0])}[n(1790)](t){const e=n;this[e(3281)][e(1790)](t[e(3281)]={}),this.saveVehicles(t)}[n(3231)](t){const e=n,s=this._vehicles,i=s[e(3171)];if(0===i)return;const o=t[e(509)]=[];for(let t=0;t<i;t++){const n=s[t],i={};try{n.save(i)}catch(t){console[e(4447)]("Failed to serialize vehicle "+n+": ",t);continue}o[e(1757)](i)}t[e(3788)]=this[e(247)][e(2614)](this[e(818)])}[n(2105)](t){const e=n;this[e(3281)].load(t[e(3281)]),this[e(4317)](t)}[n(4317)](t){const e=n,s=t.vehicles;if(!s||!Array.isArray(s)||0===s[e(3171)])return;const i=s[e(3171)];for(let t=0;t<i;t++){const n=s[t],i=o[e(955)][e(2105)](n);i?this.addVehicleRecord(i):console[e(4273)](e(2648)+t+".")}let a=t[e(3788)];Number[e(1241)](a)||(a=0),this[e(818)]=this[e(247)][a]}}e[n(3481)]=_0x31e9c3},2255:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e.GarageMenu=void 0;const i=s(855),o=s(1919),a=s(4796),r=s(7760),c=s(9630),h=s(2256),l=s(3338),d=s(2496),u=s(993),p=s(203),_=s(6452),m=s(9799),g=s(9366),f=s(1690),x=s(196),y=s(7600),v=s(1402),w=s(1813),b=s(8429);class _0x22bd8c extends f.CcMenu{constructor(){const t=n;super(...arguments),this[t(4020)]=-1,this[t(3573)]=!1,this[t(3475)]=new _0x18c401}get[n(4398)](){return this[n(247)][this._vehicleIndex]}[n(3488)](){const t=n;super[t(3488)]();const e=this._vehicleStageTemplate;this._vehicleStage=v.TemplateUtils.instantiateScript(e,void 0,new(l[t(1561)])(1e3,1e3,1e3)),this[t(247)]=o[t(1169)].instance[t(1919)],this._closeButton.on(x.ButtonEventType[t(280)],this[t(3388)],this),this._leftButton.on(x[t(2899)][t(280)],this[t(2155)],this),this[t(4122)].on(x[t(2899)][t(280)],this[t(1496)],this),this[t(1816)].on(x.ButtonEventType[t(280)],this[t(2432)],this),this[t(1726)].on(x[t(2899)][t(280)],this.unlockVehicle,this),this[t(1413)].on(x[t(2899)][t(280)],this[t(2989)],this),this[t(382)].on(x.ButtonEventType[t(280)],this.showCurrencyAd,this)}[n(2235)](){const t=n;super.postConstruct(),this[t(4020)]<0&&this[t(3841)]()}[n(610)](){const t=n;super.deconstruct(),this._vehicleStage[t(2954)][t(3039)]()}[n(1339)](t){this[n(3573)]&&this.updateUi()}[n(2709)](){const t=n;this._isUiDirty=!1;const e=this.vehicleTemplate;this[t(2878)][t(3678)]=this._vehicleInstance[t(3773)];const s=a[t(3481)][t(2216)];this[t(1816)][t(2954)][t(3471)]=e!==s[t(3788)];const i=s[t(3702)](e);if(this[t(1549)].entity[t(3471)]=!i,this[t(1726)][t(2954)][t(3471)]=!i,this[t(2590)][t(3471)]=!i,this[t(3653)][t(3471)]=!1,this[t(695)].enabled=!1,this[t(2668)][t(3471)]=!1,!i){const s=e[t(1743)];switch(this[t(725)](e)){case d[t(2016)].currency:this[t(1549)].text=s.cost[t(3690)](),this[t(2668)][t(3471)]=s.currencyType===u[t(1062)][t(489)],this[t(695)][t(3471)]=s[t(4329)]===u[t(1062)][t(1208)];break;case d[t(2016)].ad:this[t(1549)][t(3678)]=t(1992),this[t(3653)][t(3471)]=!0}}this[t(3651)][t(4442)][t(653)][t(2785)]("0");const o=s.getVehicleRecord(e);this[t(1692)][t(2375)](o)}[n(725)](t){const e=n;return 17===t.id&&this[e(1510)][e(2917)]?d.PaymentMethod.ad:t[e(1743)][e(2584)]}setVehicleIndex(t){const e=n,s=this[e(247)];t===this[e(4020)]||t<0||t>s[e(3171)]-1||(this[e(4020)]=t,this[e(4400)](),this[e(2709)]())}[n(3841)](){const t=n,e=a[t(3481)][t(2216)][t(3788)],s=this[t(247)],i=Math[t(1417)](s[t(2614)](e),0);this[t(2147)](i)}[n(2432)](){const t=n;a[t(3481)][t(2216)][t(2432)](this[t(4398)]),h[t(488)].instance.triggerSave(),this.updateExistingVehicleInstances(),this[t(2709)]()}[n(4400)](){const t=n;this[t(3651)]&&(this._vehicleInstance[t(2954)].destroy(),this[t(3651)]=void 0);const e=this[t(4398)],s=this[t(3651)]=v.TemplateUtils[t(1804)](e,this[t(3290)].vehicleRoot);s.entity[t(1504)](l.Vec3.ZERO),s.entity[t(3471)]=!0}[n(3456)](t=-1){const e=n,s=this[e(4398)],i=c[e(2546)][e(3867)],o=i[e(4023)];if(o[e(3702)](s))return;const a=s[e(1743)];switch(t>=0?t:this[e(725)](s)){case d[e(2016)][e(3880)]:{const t=i[e(3880)],n=a[e(4329)],r=a[e(2477)];let c=t[e(2194)](n);if(c<r)return;c-=r,t.setAmount(n,c);const h=new p.PurchaseInfo(d[e(2016)][e(3880)],n,r);o[e(3752)](s,h),this.onVehicleUnlocked();break}case d[e(2016)].ad:m[e(4455)][e(2216)][e(3808)](!0,(t=>{const n=e;if(t){const t=new p.PurchaseInfo(d[n(2016)].ad);o[n(3752)](s,t),this[n(3858)]()}}));break;case d[e(2016)][e(822)]:{const t=new p.PurchaseInfo(d.PaymentMethod.free);o[e(3752)](s,t),this[e(3858)]();break}}}[n(2961)](){const t=n,e=y[t(1232)][t(2216)][t(1903)];for(let s=0;s<e[t(3171)];s++){const n=e[s];if(!n[t(3964)])continue;const i=n[t(3393)];i&&i instanceof r[t(710)]&&i[t(3328)]()}}[n(2037)](t){const e=n,s=this[e(3475)];s[e(3471)]=!0,s[e(545)]=t,this[e(3380)]()}[n(651)](){const t=n,e=this[t(3475)];e.enabled=!0,e[t(545)]=void 0,this[t(3380)]()}[n(4257)](){const t=n;m[t(4455)].instance.showAd(!0,(e=>{const s=t;e&&(g.CurrencyModule.instance[s(2112)](u[s(1062)].primary,750),this[s(3291)](s(4336)))}))}[n(3291)](t){const e=n;this._unlockedRoot[e(3471)]=!0,this[e(784)].text=t}[n(3380)](){const t=n,e=this[t(3475)];if(!e[t(3471)])return;e[t(3471)]=!1;const s=e[t(545)];if(s){const e=this[t(247)][t(2614)](s);e>=0&&(this.setVehicleIndex(e),this[t(3456)](d[t(2016)].ad))}else this.showCurrencyAd()}[n(2636)](){const t=n;super[t(2636)](),this[t(3380)]()}[n(3858)](){const t=n;this[t(3291)](this.vehicleTemplate[t(3773)]),this[t(2432)](),h[t(488)][t(2216)].triggerSave()}onLeftButtonPressed(){const t=n;this[t(2147)](w[t(3866)][t(2932)](this[t(4020)]-1,this[t(247)][t(3171)]))}[n(1496)](){const t=n;this[t(2147)](w[t(3866)][t(2932)](this[t(4020)]+1,this[t(247)][t(3171)]))}[n(2989)](){const t=n;this[t(3661)][t(3471)]=!1}}e[n(3560)]=_0x22bd8c;class _0x3a3a6c extends i[n(1559)]{}_0x3a3a6c[n(3311)]("VehicleStage",[new(i[n(3024)])("vehicleRoot",{type:i[n(4031)].entity})]);class _0x18c401{constructor(){this[n(3471)]=!1}}_0x22bd8c[n(3311)](n(3560),[new(i[n(3024)])(n(1323),{componentType:l[n(530)]}),new(i[n(3024)])(n(2878),{componentType:l[n(1814)]}),new i.Attribute(n(1692),{scriptType:_[n(2255)]}),new i.Attribute("_lockedRoot",{type:i[n(4031)].entity}),new(i[n(3024)])(n(3661),{type:i[n(4031)][n(2954)]}),new(i[n(3024)])("_unlockedVehicleNameText",{componentType:l[n(1814)]}),new i.Attribute(n(387),{type:i[n(4031)][n(3330)],scriptType:_0x3a3a6c}),new(i[n(3024)])(n(1703),{componentType:l.ElementComponent}),new i.Attribute("_rightButton",{componentType:l[n(1814)]}),new(i[n(3024)])(n(1726),{componentType:l[n(1814)]}),new(i[n(3024)])(n(1816),{componentType:l[n(1814)]}),new(i[n(3024)])("_closeUnlockedPromptButton",{componentType:l[n(1814)]}),new(i[n(3024)])(n(382),{componentType:l[n(1814)]}),new(i[n(3024)])(n(1549),{componentType:l.ElementComponent}),new(i[n(3024)])("_wrenchIcon",{type:i[n(4031)][n(2954)]}),new i.Attribute(n(2668),{type:i[n(4031)][n(2954)]}),new(i[n(3024)])(n(3653),{type:i[n(4031)][n(2954)]}),new(i[n(3024)])(n(1510),{type:i.AttributeType.asset,scriptType:b[n(3242)]})])},6452:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(2255)]=void 0;const i=s(3338),o=s(9470),a=s(855),r=s(1465),c=s(7956);class _0x394d4c extends a.Script{constructor(){const t=n;super(...arguments),this[t(1547)]=[],this[t(1056)]=-1,this[t(2060)]=1}initialize(){const t=n;super.initialize(),this._statPanelTemplate[t(2954)].enabled=!1;const e=o[t(1276)][t(2216)];this[t(4115)](t(447)),this[t(4115)](t(1570)+e[t(678)]+")"),this[t(4115)]("Air Time (hrs)"),this.addStat(t(1724)+e[t(678)]+")"),this[t(4115)](t(4404)+e[t(3940)]+")")}[n(2375)](t){const e=n;this[e(2962)]=t,this[e(2709)]()}[n(3517)](t){const e=n;r[e(289)][e(2613)]-this[e(1056)]<this[e(2060)]||this[e(2709)]()}[n(2709)](){const t=n;this[t(1056)]=r.TimeManager[t(2613)];const e=this[t(2962)];if(this._root[t(3471)]=!!e,!e)return;const s=o[t(1276)][t(2216)],i=this[t(1547)],a=e.stats;i[0][t(2755)](_0x394d4c[t(2173)](a[t(3897)]));const c=s.localizeDistance(a[t(3254)]);i[1][t(2755)](c[t(390)](2)),i[2][t(2755)](_0x394d4c[t(2173)](a.airTime));const h=s[t(3101)](a[t(3259)]);i[3].updateValue(h[t(390)](2));const l=s[t(3022)](a[t(4339)]);i[4][t(2755)](l[t(390)](2))}static[n(2173)](t){const e=n,s=this._timeSpanCache;return s[e(1138)](t),Math[e(2328)](s[e(661)])[e(3690)]()[e(1191)](2,"0")+":"+Math[e(2328)](s[e(565)])[e(3690)]()[e(1191)](2,"0")}[n(4115)](t,e=""){const s=n,i=this[s(4292)],o=i[s(2954)][s(729)],a=c[s(1904)][s(1498)](i,o,o[s(1344)](),o[s(1955)]());a[s(2954)].enabled=!0,a[s(1876)](t,e),this[s(1547)].push(a)}}e[n(2255)]=_0x394d4c,_0x394d4c[n(3268)]=new r.TimeSpan;class _0x36857a extends a[n(3691)]{configure(t,e){const s=n;this[s(1313)][s(3678)]=t,this[s(2755)](e)}[n(2755)](t){const e=n;this[e(1702)][e(3678)]=t}}_0x36857a.initialize(n(1843),[new(a[n(3024)])(n(1313),{componentType:i[n(1814)]}),new(a[n(3024)])(n(1702),{componentType:i[n(1814)]})]),_0x394d4c[n(3311)](n(2255),[new(a[n(3024)])(n(2783),{type:a.AttributeType.entity}),new a.Attribute("_statPanelTemplate",{scriptType:_0x36857a})])},2123:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e.Pricing=e[n(2312)]=void 0;const i=s(855),o=s(7769),a=s(3338),r=s(5529),c=s(2496),h=s(993),l=s(5019);class _0xb7fc96 extends i[n(3691)]{get id(){return this[n(3954)]}get[n(3773)](){return this[n(881)]}get pricing(){return this[n(4142)]}get[n(2170)](){return this._partSettings}get soundSettings(){return this._soundSettings}get wheels(){return this._partSettings.wheelAnchors}}e[n(2312)]=_0xb7fc96;class _0x5380d2 extends i[n(3184)]{}e.Pricing=_0x5380d2,_0x5380d2[n(394)]([new(i[n(3024)])(n(2584),{enum:c[n(2016)],default:c[n(2016)][n(3880)]}),new(i[n(3024)])(n(4329),{enum:l.CcCurrencyType,default:h[n(1062)][n(489)]}),new i.Attribute(n(2477),{type:i[n(4031)][n(1311)]})]);class _0x11d51e extends i.SerializableStruct{}_0x11d51e[n(394)]([new(i[n(3024)])(n(785),{type:i[n(4031)][n(2954)],isArray:!0}),new i.Attribute("partAnchors",{scriptType:o.VehiclePartAnchor,isArray:!0}),new(i[n(3024)])("defaultParts",{type:i.AttributeType[n(3330)],scriptType:r[n(1355)],isArray:!0})]);class _0xdeddbb extends i[n(3184)]{}_0xdeddbb[n(394)]([new(i[n(3024)])(n(653),{componentType:a[n(1024)]}),new(i[n(3024)])("enginePitchRange",{type:i[n(4031)][n(4174)],default:new(a[n(1772)])(.9,1.1)}),new(i[n(3024)])("hornSound",{componentType:a[n(1024)]}),new(i[n(3024)])(n(3212),{type:i[n(4031)].vec2,default:new(a[n(1772)])(.9,1.1)})]),_0xb7fc96.initialize(n(2312),[new i.Attribute(n(3954),{type:i.AttributeType[n(1311)]}),new(i[n(3024)])(n(881),{type:i.AttributeType[n(990)]}),new(i[n(3024)])(n(4142),{customType:_0x5380d2}),new(i[n(3024)])(n(381),{customType:_0x11d51e}),new(i[n(3024)])("_soundSettings",{customType:_0xdeddbb})])},8502:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,"__esModule",{value:!0}),e.VehicleConfig=void 0;const i=s(7650);class _0x264199{constructor(t,e){const s=a0_0x520a;this[s(2281)]=Array(10),this[s(3972)]=[],this[s(1690)]=this[s(3972)],this[s(3773)]=t||s(517),this.vehicleRecord=e}[n(2758)](t){const e=n,s=this._parts,i=s[e(3171)];for(let t=0;t<i;t++)s[t]}addPart(t){const e=n,s=new(i[e(2104)])(this,t);this[e(450)](s)}[n(450)](t){const e=n,s=t[e(2179)][e(2806)];this[e(3196)](s),this[e(2281)][s.id]=t,this._parts[e(1757)](t),this[e(3680)](t)}removePartConfig(t){const e=n,s=this[e(2281)][t.id];if(!s)return;this[e(2281)][t.id]=void 0;const i=this[e(3972)],o=i[e(2614)](s);o>=0&&i[e(650)](o,1),this[e(4464)](s)}save(t){const e=n;t[e(3773)]=this[e(3773)],this.saveParts(t)}saveParts(t){const e=n,s=t[e(1690)]=[],i=this[e(3972)],o=i.length;for(let t=0;t<o;t++){const n={};i[t][e(1790)](n),s[e(1757)](n)}}load(t){return this[n(3773)]=t.name,this.loadParts(t)}loadParts(t){const e=n,s=t.parts;if(!s||!Array.isArray(s))return!1;const o=s[e(3171)];for(let t=0;t<o;t++){const n=s[t],o=i[e(2104)].load(this,n);o&&this[e(450)](o)}return!0}static[n(2105)](t){const e=n,s=new _0x264199(void 0);return s[e(2105)](t)?s:void 0}[n(3680)](t){}[n(4464)](t){}}e[n(2542)]=_0x264199},7769:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,"__esModule",{value:!0}),e[n(2592)]=void 0;const i=s(855),o=s(4944);class _0x19b6e9 extends i[n(3691)]{get category(){return this._category}}e[n(2592)]=_0x19b6e9,_0x19b6e9.initialize("VehiclePartAnchor",[new(i[n(3024)])(n(4074),{type:i[n(4031)][n(3330)],scriptType:o[n(1170)]})])},4944:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(1170)]=void 0;const i=s(855);class _0x32d741 extends i[n(3691)]{get id(){return this[n(3954)]}get name(){return this._name}}e.VehiclePartCategory=_0x32d741,_0x32d741.initialize(n(1170),[new(i[n(3024)])("_id",{type:i[n(4031)].number}),new(i[n(3024)])("_name",{type:i.AttributeType[n(990)]})])},7650:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e.VehiclePartConfigStubImpl=e[n(4091)]=e[n(2104)]=void 0;const i=s(1919);class _0xfd614d{constructor(t,e){const s=n;this[s(680)]=t,this[s(1010)]=e,this[s(4056)]=e[s(242)]()}get[n(2179)](){return this[n(1010)]}[n(2758)](t){const e=n;this[e(4056)][e(2758)](t)}save(t){const e=n;t[e(2935)]=this[e(1010)].id,this[e(4056)].save(t[e(1686)]={})}[n(2105)](t){const e=n,s=i[e(1169)][e(2216)],o=t[e(2935)];if(!(this._partTemplate=s[e(1828)](o)))return console[e(4273)]("Vehicle part config couldn't load unknown part with ID "+o+".",this),!1;try{this._configImplementation[e(2105)](t.config)}catch(t){return console[e(4447)](e(3055),t,this),!1}return!0}static[n(2105)](t,e){const s=n,i=new _0xfd614d(t,void 0);return i[s(2105)](e),i}}e[n(2104)]=_0xfd614d;class _0x28b82b{}e.VehiclePartConfigImplementation=_0x28b82b,e[n(2231)]=class _0x3efe78 extends _0x28b82b{[n(2758)](t){}[n(2105)](t){}[n(1790)](t){}}},7658:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e[n(3625)]=void 0;const i=s(1919),o=s(203);class _0x2c3766{constructor(t,e){this.partTemplate=t,this.purchaseInfo=e}[n(1790)](t){const e=n;t[e(2935)]=this[e(2179)].id,this[e(2683)][e(1790)](t[e(2683)]={})}load(t){const e=n,s=t[e(2935)],o=i[e(1169)][e(2216)];return(this[e(2179)]=o[e(1828)](s))?(this[e(2683)][e(2105)](t[e(2683)]),!0):(console.error(e(3391)+s+"."),!1)}static[n(2105)](t){const e=n,s=new _0x2c3766(void 0,new(o[e(1031)]));return s[e(2105)](t)?s:void 0}}e.VehiclePartRecord=_0x2c3766},5529:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(1355)]=void 0;const i=s(855),o=s(4944),a=s(7650);class _0x2bf0d0 extends i[n(3691)]{get id(){return this[n(3954)]}get category(){return this._category}get[n(3773)](){return this[n(881)]}get[n(1686)](){return this[n(718)]}[n(2999)](t){this._config=t,t.apply(this)}[n(242)](){return new(a[n(2231)])}}e[n(1355)]=_0x2bf0d0,_0x2bf0d0[n(3311)](n(1386),[new(i[n(3024)])("_id",{type:i[n(4031)].number}),new(i[n(3024)])("_category",{type:i[n(4031)][n(3330)],scriptType:o.VehiclePartCategory}),new i.Attribute(n(881),{type:i[n(4031)].string})])},3606:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e[n(955)]=void 0;const i=s(912),o=s(8502),a=s(1919),r=s(203),c=s(7658);class _0x429213{constructor(t,e){const s=n;this.stats=new i.VehicleStats,this._configs=[],this[s(526)]=this[s(2763)],this[s(3972)]=[],this[s(2131)]=new Map,this[s(1690)]=this[s(3972)],this[s(298)]=t,this[s(2683)]=e}get[n(2964)](){return this[n(298)]}[n(3108)](t){const e=n,s=this[e(2763)];s[e(2614)](t)>=0?console[e(4447)]("Can't add vehicle config: already added.",t,this):s[e(1757)](t)}[n(1524)](t,e){const s=n,i=new(c[s(3625)])(t,e);return this[s(1127)](i)?i:void 0}[n(1127)](t){const e=n;return this._partsById[e(1374)](t[e(2179)].id)?(console.warn("Can't add vehicle part record: already added.",t,this),!1):(this[e(3972)][e(1757)](t),this._partsById[e(2936)](t[e(2179)].id,t),!0)}[n(1790)](t){const e=n;var s;t[e(2661)]=this[e(298)].id,null===(s=this[e(2683)])||void 0===s||s[e(1790)](t[e(2683)]={}),this[e(3281)][e(1790)](t[e(3281)]={}),this.saveConfigs(t),this[e(4195)](t)}[n(485)](t){const e=n,s=this[e(2763)],i=s[e(3171)],o=t[e(526)]=[];for(let t=0;t<i;t++){const n={};s[t].save(n),o[e(1757)](n)}}[n(4195)](t){const e=n,s=t[e(1690)]=[],i=this._parts,o=i[e(3171)];for(let t=0;t<o;t++){const n={};i[t][e(1790)](n),s[e(1757)](n)}}[n(2105)](t){const e=n,s=t[e(2661)],i=a[e(1169)][e(2216)];if(!(this[e(298)]=i[e(2913)](s)))return console.error(e(1221)+s+"."),!1;const o=t[e(2683)];return o&&(this[e(2683)]=new r.PurchaseInfo)[e(2105)](o),this[e(3281)][e(2105)](t[e(3281)]),this[e(3803)](t),this[e(1976)](t),!0}[n(3803)](t){const e=n,s=t[e(526)],i=s[e(3171)];for(let t=0;t<i;t++){const n=s[t],i=o[e(2542)][e(2105)](n);i&&this[e(3108)](i)}}[n(1976)](t){const e=n,s=t.parts;if(!s||!Array[e(512)](s))return;const i=s[e(3171)];for(let t=0;t<i;t++){const n=s[t],i=c.VehiclePartRecord[e(2105)](n);i&&this[e(1127)](i)}}static[n(2105)](t){const e=n,s=new _0x429213(void 0,new r.PurchaseInfo);return s[e(2105)](t)?s:void 0}toString(){const t=n;return t(2023)+this[t(298)].id+")"}}e.VehicleRecord=_0x429213},912:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,s(3500),{value:!0}),e[s(1247)]=void 0,e[s(1247)]=class _0x323f2f{constructor(){const t=s;this[t(3897)]=0,this[t(3254)]=0,this[t(1600)]=0,this[t(3259)]=0,this[t(4339)]=0}save(t){Object[s(1777)](t,this)}[s(2105)](t){Object[s(1777)](this,t)}}},1694:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,s(3500),{value:!0}),e[s(3674)]=void 0,e[s(3674)]=class _0x152255{static[s(2991)](){const t=s;var n,i}}},9799:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e.PokiManager=void 0;const i=s(3338),o=s(1694),a=s(855),r=s(8145),c=s(5171),h=s(9325),l=s(822),d=s.g[n(4335)];function _0x4c8158(t){return n(3926)+t}class _0xf2407a extends l[n(3656)]{constructor(){const t=n;super(...arguments),this[t(1978)]=!1,this[t(2823)]=!1,this[t(3466)]=!1,this[t(1506)]=!1,this._hasFinishedLoading=!1}static get instance(){return l[n(3656)].getInstanceByType(_0xf2407a)}get[n(2142)](){return this[n(2823)]}get isShowingAd(){return this[n(1506)]}[n(890)](){const t=n;super.awake();const e=this._sdk=r[t(1461)][t(4365)]||!d?new _0x3b71b1:new _0x38ffbe;try{e[t(249)]()[t(3111)]((()=>this[t(2381)](!1))).catch((()=>this[t(2381)](!0)))}catch(e){console[t(4273)]("Poki SDK init exception:",e)}e.setDebug(this[t(3981)])}[n(4294)](){const t=n;this[t(4053)]||(this._hasFinishedLoading=!0,this[t(1978)]&&(this[t(3462)].gameLoadingFinished(),this[t(594)]()))}[n(2770)](t){const e=n;t!==this[e(3466)]&&(this[e(3466)]=t,t?this[e(3462)][e(2963)]():this[e(3462)].gameplayStop(),console.log(_0x4c8158(this[e(3466)]?e(3327):"Gameplay stopped.")))}[n(3001)](t){const e=n;!this._hasInitialized||t<=0||(t=i[e(2930)].clamp(t,0,1),this[e(3462)][e(3980)](t),console[e(2045)](_0x4c8158(e(2314)+t+").")))}[n(3808)](t,e){const s=n;return this[s(1978)]?this[s(1506)]?(console.warn(_0x4c8158(s(1306))),void e(!1)):(this[s(812)](t),void(t?this._sdk[s(1674)]().then((t=>this[s(2423)](t,e)))[s(335)]((()=>this[s(2423)](!1,e))):this[s(3462)][s(1984)]().then((()=>this.onAdClosedInternal(!this[s(2823)],e))).catch((()=>this[s(2423)](!1,e))))):(console[s(4273)](_0x4c8158(s(534))),void e(!1))}[n(826)](){setTimeout((()=>{const t=a0_0x520a;o.PokiExtensions[t(2991)]()}),100)}[n(812)](t){const e=n;this._isShowingAd=!0,console[e(2045)](_0x4c8158(e(1857)+t+")..."));const s=c[e(2577)][e(2216)];s&&(s[e(3371)]=!1),this[e(4474)][e(3352)][e(2383)][e(2791)]=0,this[e(4474)][e(3837)]=0}[n(2423)](t,e){const s=n;this[s(1506)]=!1,console[s(2045)](_0x4c8158("Ad closed (was successful: "+t+")"));const i=c[s(2577)][s(2216)];i&&(i[s(3371)]=!0);const o=h[s(1093)][s(2216)];null==o||o[s(246)](),this[s(4474)][s(3837)]=1;try{e(t)}catch(t){console[s(4447)](t)}}[n(2381)](t){const e=n;console[e(2045)](_0x4c8158(e(3217))),this[e(1978)]=!0,this[e(2823)]=t,this[e(4053)]&&(this._sdk.gameLoadingFinished(),this[e(594)]()),this[e(3466)]&&this[e(3462)][e(2963)](),r[e(1461)][e(4365)]||this[e(826)]()}[n(594)](){const t=n;console.log(_0x4c8158(t(2718)))}}e.PokiManager=_0xf2407a,_0xf2407a[n(3311)](n(4455),[new(a[n(3024)])("enableDebugging",{type:a.AttributeType.boolean})]);class _0x179e8c{}class _0x38ffbe extends _0x179e8c{[n(249)](){return d[n(249)]()}[n(2776)](t){d.setDebug(t)}[n(1551)](){d[n(1551)]()}gameLoadingFinished(){d.gameLoadingFinished()}[n(2963)](){d[n(2963)]()}[n(2904)](){d.gameplayStop()}[n(1984)](){return d.commercialBreak()}[n(1674)](){return d[n(1674)]()}[n(3980)](t){d[n(3980)](t)}}class _0x3b71b1 extends _0x179e8c{[n(249)](){const t=n;return console.log("Initializing Poki SDK stub."),Promise[t(612)](void 0)}[n(2776)](t){}[n(1551)](){}[n(3486)](){}[n(2963)](){}gameplayStop(){}[n(1984)](){return Promise[n(612)](void 0)}rewardedBreak(){return Promise.resolve(!0)}[n(3980)](t){}}},4583:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0});const i=s(2009),o=s(1919),a=s(4796),r=s(9630),c=s(8294),h=s(9799),l=s(1690),d=s(8067),u=s(2256),p=s(4950),_=s(9325),m=s(1869),g=s(6899);s.g.GameMode=d.GameMode,s.g[n(1289)]=i[n(1289)],s.g[n(4432)]=p[n(4432)],s.g[n(1169)]=o[n(1169)],s.g[n(3481)]=a[n(3481)],s.g[n(2546)]=r[n(2546)],s.g[n(488)]=u[n(488)],s.g[n(1093)]=_[n(1093)],s.g[n(1793)]=c.RaceRecordRegistry,s.g[n(4455)]=h[n(4455)],s.g[n(361)]=l[n(3608)],s.g[n(932)]=m[n(932)],s.g[n(1133)]=g[n(1133)]},1090:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(2088)]=void 0;const i=s(855);class _0x42a099 extends i.Script{get enableInput(){return this[n(2211)]}}e[n(2088)]=_0x42a099,_0x42a099[n(3311)](n(2088),[new(i[n(3024)])("_enableInput",{title:n(3313),type:i.AttributeType[n(3836)]})])},1690:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,"__esModule",{value:!0}),e[n(3608)]=void 0;const i=s(7740),o=s(1594);class _0x250835 extends o[n(361)]{[n(2235)](){this[n(2636)]()}[n(2636)](){const t=n;super[t(2636)](),this[t(1474)](t(871),i.InputEventType[t(1392)],this.onContinuePressed,this)}[n(839)](t){}}e[n(3608)]=_0x250835,_0x250835.initialize(n(3608))},3112:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,"__esModule",{value:!0}),e[n(2174)]=void 0;const i=s(3338),o=s(47),a=s(822);class _0x5d8c65 extends o[n(1711)]{static get[n(2216)](){const t=n;return a[t(3656)][t(2922)](_0x5d8c65)}awake(){const t=n;super[t(890)](),this._originalMouseEventHandler=i[t(3953)].prototype._onElementMouseEvent}[n(1419)](t){const e=n;i[e(3953)].prototype._onElementMouseEvent=t?_0x5d8c65[e(1223)]:this._originalMouseEventHandler}}e[n(2174)]=_0x5d8c65,_0x5d8c65[n(1223)]=function(t,e){const s=n,o=this[s(4402)],a=this._lastY;let r;const c=this[s(441)];this[s(441)]=null;const h=this[s(4474)][s(3352)][s(3490)][s(1425)];let l;for(let t=h[s(3171)]-1;t>=0;t--){l=h[t];const e=l[s(2954)][s(3458)];if(e){const t=e[s(2088)];if(t&&!t[s(3543)])continue}if(r=this[s(2587)](l,o,a),r)break}r&&(this._fireEvent(t,new(i[s(2786)])(e,r,l,o,a,this[s(4402)],this[s(1624)])),this._hoveredElement=r,s(549)===t&&(this[s(3349)]=r)),c!==this[s(441)]&&(c&&this[s(4416)]("mouseleave",new(i[s(2786)])(e,c,l,o,a,this[s(4402)],this._lastY)),this[s(441)]&&this[s(4416)]("mouseenter",new i.ElementMouseEvent(e,this[s(441)],l,o,a,this[s(4402)],this[s(1624)]))),s(1720)===t&&this[s(3349)]&&(this[s(3349)]===this._hoveredElement?(this._pressedElement=null,this[s(3019)]&&this[s(3019)][this._hoveredElement[s(2954)].getGuid()]||this[s(4416)]("click",new(i[s(2786)])(e,this._hoveredElement,l,o,a,this._lastX,this._lastY))):this[s(3349)]=null)},_0x5d8c65[n(3311)](n(2174))},3252:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(3774)]=void 0;const i=s(855),o=s(3745),a=s(3338),r=s(196),c=s(9799),h=s(2256),l=s(9325);class _0x2f0dd8 extends i.Script{initialize(){const t=n;super[t(3311)](),this[t(3722)].on(r[t(2899)][t(280)],this[t(4458)],this)}[n(1224)](){this[n(3457)]()}[n(3457)](){const t=n,e=l[t(1093)][t(2216)][t(1448)](this._category)>0;this[t(595)].enabled=e,this._disabledRoot[t(3471)]=!e}onClicked(){const t=n;if(c[t(4455)][t(2216)][t(568)])return;const e=l.AudioManager[t(2216)],s=e[t(1448)](this[t(4074)]);e[t(2729)](this[t(4074)],s>0?0:100),this.invalidateUi(),h.AccountManager[t(2216)][t(3459)]()}}e.AudioToggle=_0x2f0dd8,_0x2f0dd8.initialize(n(3774),[new(i[n(3024)])(n(4074),{enum:o[n(4132)]}),new(i[n(3024)])(n(3722),{componentType:a[n(530)]}),new(i[n(3024)])(n(595),{type:i.AttributeType[n(2954)]}),new(i[n(3024)])(n(567),{type:i[n(4031)][n(2954)]})])},5e3:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(2759)]=void 0;const i=s(855),o=s(3338),a=s(3338);class _0x48826e extends i.Behavior{constructor(){const t=n;super(...arguments),this[t(2606)]=0}construct(){const t=n;this[t(894)]=this[t(2954)][t(3490)],this[t(794)]()}[n(1339)](){const t=n;this[t(796)]&&++this[t(2606)]>4&&(this.entity[t(3471)]=!1)}[n(794)](){const t=n;var e,s;null===(e=this._texture)||void 0===e||e.destroy(),null===(s=this[t(805)])||void 0===s||s[t(3039)]();const i=this[t(4474)][t(1931)],r=this._renderResolution,c=new(o[t(3636)])(i,{width:r.x,height:r.y,format:a[t(2586)],mipmaps:!0,minFilter:a[t(1179)],magFilter:a.FILTER_LINEAR}),h=new(o[t(1967)])({depth:!0,flipY:!0,samples:2,colorBuffer:c});this._texture=c,this._renderTarget=h,this[t(894)][t(2754)]=h,this[t(4025)](this[t(253)])}[n(4025)](t){const e=n,s=this[e(1189)],i=s[e(3171)];for(let n=0;n<i;n++){const i=s[n];if(!i)continue;const o=i[e(2209)];o&&(o[e(2379)]=t)}}[n(2617)](){const t=n;var e,s;null===(e=this[t(253)])||void 0===e||e[t(3039)](),null===(s=this[t(805)])||void 0===s||s[t(3039)](),this.applyTexture(null)}}e.CameraToElementRenderer=_0x48826e,_0x48826e[n(3311)](n(2759),[new(i[n(3024)])(n(3250),{type:i[n(4031)].vec2,default:new(o[n(1772)])(512,512)}),new(i[n(3024)])("_renderOnce",{type:i[n(4031)][n(3836)]}),new(i[n(3024)])(n(1189),{componentType:o[n(1814)],isArray:!0})])},2478:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,"__esModule",{value:!0}),e[n(3899)]=void 0;const i=s(855),o=s(3338),a=s(5094);class _0x5177d5 extends i.Script{constructor(){const t=n;super(...arguments),this._time=0,this[t(3789)]=.01}[n(1138)](t,e){const s=n;!e&&Math[s(961)](t-this[s(1102)])<this.minimumTimeStep||(this[s(1102)]=t,this[s(4454)]())}updateText(){const t=n;this._timeTextElement[t(3678)]=a[t(1099)].formatPlayTime(this._time)}}e.TimeDisplay=_0x5177d5,_0x5177d5[n(3311)](n(3899),[new i.Attribute(n(2837),{componentType:o.ElementComponent}),new i.Attribute(n(3789),{type:i[n(4031)][n(1311)],default:.01})])},3285:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0});const i=s(3338),o=s(855),a=s(196),r=s(768),c=s(1050),h=s(2255),l=s(191),d=s(2330);class _0x4e6f91 extends d[n(2322)]{postConstruct(){const t=n;var e,s,i,o;super.postConstruct(),null===(e=this[t(2598)])||void 0===e||e.on(a[t(2899)][t(280)],this[t(2812)],this),null===(s=this[t(1283)])||void 0===s||s.on(a.ButtonEventType[t(280)],(()=>this[t(2579)]())),null===(i=this._singleplayerButton)||void 0===i||i.on(a[t(2899)].click,(()=>this.setMultiplayerEnabled(!1))),null===(o=this[t(1219)])||void 0===o||o.on(a[t(2899)][t(280)],(()=>this[t(3939)](!0)))}[n(3939)](t){const e=n;r[e(1872)].instance[e(3939)](t)}onMainMenuButtonClicked(){const t=n;c[t(1667)][t(2216)][t(3251)](h[t(3560)])}onRaceButtonClicked(){const t=n;c.CcMenuManager[t(2216)][t(3251)](l.RaceMenu)}}_0x4e6f91[n(3311)](n(2532),[new(o[n(3024)])(n(2598),{componentType:i[n(530)]}),new(o[n(3024)])("_raceButton",{componentType:i.ButtonComponent}),new(o[n(3024)])("_singleplayerButton",{componentType:i[n(530)]}),new(o[n(3024)])("_multiplayerButton",{componentType:i[n(530)]})])},3847:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e[n(1443)]=void 0;const i=s(855),o=s(3338),a=s(1465),r=s(6244);class _0x272ca9 extends i[n(3691)]{constructor(){const t=n;super(...arguments),this._isShowing=!1,this[t(1265)]=0,this._currentSecond=0,this[t(1536)]=""}[n(3311)](){super[n(3311)](),this.reset()}update(t){const e=n;this[e(889)]&&(this.updateCountdown(),this[e(1121)](t))}[n(2895)](){const t=n,e=a[t(289)][t(751)](a[t(630)].scaled),s=this[t(1265)]-e;if(s<-1)return void this[t(3760)]();const i=Math[t(2252)](s);i!==this._currentSecond&&(this[t(1689)]=i,this[t(4186)](s<0?this[t(1536)]:i[t(3690)]()))}[n(1121)](t){const e=n,s=this[e(4139)],i=this[e(2837)][e(2954)],o=i.getLocalScale();r[e(2822)][e(4274)](o,s)||(o[e(372)](o,s,t*this.scaleSpeed),i[e(3009)](o))}[n(2921)](t,e,s){const i=n;this.reset(),this._targetTime=t,this[i(889)]=!0,this[i(1536)]=s||this[i(4466)],e&&(this[i(2115)][i(3678)]=e),this[i(3517)](0)}setTimeText(t){const e=n;this[e(2837)][e(3678)]=t,this[e(2918)](t)}[n(3760)](){const t=n;this[t(1689)]=this[t(1265)]=-1,this._headerTextElement[t(3678)]="",this[t(1536)]="",this._isShowing=!1,this[t(4186)]("")}onTimeTextChanged(t){const e=n;0!==t[e(3171)]&&this._timeTextElement[e(2954)][e(3009)](this.popInScale)}}e.HudCountdownDisplay=_0x272ca9,_0x272ca9[n(3311)](n(1443),[new(i[n(3024)])(n(2837),{title:n(2912),componentType:o[n(1814)]}),new(i[n(3024)])("_headerTextElement",{title:"Header Text",componentType:o[n(1814)]}),new(i[n(3024)])(n(4466),{type:i.AttributeType[n(990)],default:n(2331)}),new(i[n(3024)])(n(4139),{type:i[n(4031)][n(2304)],default:new(o[n(1561)])(1,1,1)}),new i.Attribute(n(1080),{type:i[n(4031)].vec3,default:new(o[n(1561)])(2,2,2)}),new i.Attribute(n(817),{type:i[n(4031)][n(1311)],default:10})])},3496:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e[n(1069)]=void 0;const i=s(855),o=s(3338),a=s(1846),r=s(8145);class _0x548103 extends i[n(1559)]{[n(2235)](){const t=n;this[t(2954)][t(3471)]=r[t(1461)][t(4365)],this.invalidateFps()}[n(1339)](t){this[n(1731)]()}invalidateFps(){const t=n,e=a[t(1361)].instance[t(2541)];this[t(1320)][t(3678)]=e+" FPS"}}e.HudFpsCounter=_0x548103,_0x548103[n(3311)]("HudFpsCounter",[new(i[n(3024)])("_fpsText",{componentType:o[n(1814)]})])},724:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(3365)]=void 0;const i=s(855),o=s(9630),a=s(872),r=s(8597),c=s(2255);class _0x507a91 extends i[n(1559)]{[n(2235)](){const t=n;o[t(2546)][t(3867)][t(4385)][t(3155)](_0x507a91[t(2832)])?this[t(4443)]():a[t(525)][t(2047)](r[t(957)][t(2135)])[t(1434)][t(324)](this[t(1434)],this)}hide(){const t=n;this[t(2954)][t(3039)]()}[n(610)](){const t=n;a[t(525)][t(2047)](r.LifeTime[t(2135)])[t(1434)][t(3491)](this[t(1434)],this)}onMenuStacked(t){const e=n;t instanceof c[e(3560)]&&(o.CcAccount[e(3867)][e(4385)][e(2936)](_0x507a91[e(2832)],!0),this[e(4443)]())}}e.HudGarageButtonHint=_0x507a91,_0x507a91[n(2832)]=n(1973),_0x507a91[n(3311)](n(3365))},6577:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0});const i=s(3338),o=s(855),a=s(3145),r=s(2269);class _0x2e3d81 extends a[n(2480)]{construct(){const t=n;super[t(3488)](),this._cachedStructs=[new(i[t(1561)]),new i.Quat,new(i[t(2894)]),new(i[t(2894)])]}[n(1339)](t){const e=n,s=this[e(1867)](t);s!==this[e(909)][e(3471)]&&(this[e(909)][e(3471)]=s)}tryPoint(t){const e=n,s=this[e(3265)];if(!s)return!1;const o=s.controller,a=o.objective;if(!a)return!1;const c=o[e(2399)]();if(!c)return!1;const h=this[e(1393)][0][e(3172)](a.getPosition());h[e(2266)](c[e(2954)][e(1344)]()),h[e(3030)]();const l=r[e(393)][e(3551)](h,i.Vec3.UP,this[e(1393)][1]),d=r.QuatUtils.lookRotation(c[e(2954)][e(1329)],i[e(1561)].UP,this[e(1393)][2]);l.mul2(d[e(1367)](),l);const u=this[e(1288)][e(414)](),p=this[e(1393)][3];return p[e(3081)](u,l,t*this[e(3865)]),this[e(1288)][e(262)](p),!0}}_0x2e3d81[n(3311)](n(1234),[new(o[n(3024)])(n(909),{type:o.AttributeType.entity}),new(o[n(3024)])(n(1288),{type:o[n(4031)][n(2954)]}),new(o[n(3024)])(n(3865),{type:o[n(4031)][n(1311)],default:8})])},6567:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e[n(897)]=e.HudRewardedAdDisplay=void 0;const i=s(855),o=s(3338),a=s(1919),r=s(4796),c=s(2496),h=s(2255),l=s(2123),d=s(1068),u=s(196),p=s(1465),_=s(1050),m=s(8429);class _0x3dc42b extends i[n(3691)]{constructor(){const t=n;super(...arguments),this[t(1821)]=0,this[t(2560)]=!1}[n(1224)](){const t=n,e=this[t(2007)];for(let s=0;s<e.length;s++){const n=e[s];n[t(2954)][t(3471)]=!1,n[t(791)].addListener(this[t(985)],this),n.onDismissed.addListener(this.onPanelDismissed,this)}this[t(1821)]=_0x3dc42b.initialShowDelay,0===e[t(3171)]&&(this[t(3471)]=!1)}update(){const t=n;this[t(2560)]||p[t(289)][t(2613)]-this[t(1821)]<_0x3dc42b.showInterval||this[t(4445)]()}[n(4445)](){const t=n;let e=0;const s=[];for(let n=0;n<this._panels[t(3171)];n++){const i=this._panels[n];i[t(2705)]()&&(s[t(1757)](i),e+=i.showChanceWeight)}if(0===s[t(3171)])return void(this[t(3471)]=!1);const i=o[t(2930)][t(4261)](0,e);let a=0;for(let e=0;e<s[t(3171)];e++){const n=s[e];if(!((a+=n[t(4348)])<i))return this[t(2560)]=!0,void(n.entity.enabled=!0)}this[t(3471)]=!1}onPanelClosed(){const t=n;this._panelCloseTime=p[t(289)][t(2613)],this._isShowingPanel=!1}[n(2696)](){this[n(3471)]=!1}}e[n(3664)]=_0x3dc42b,_0x3dc42b.initialShowDelay=30,_0x3dc42b[n(3075)]=120;class _0x4d4a38 extends i.Script{constructor(){const t=n;super(...arguments),this.onDismissed=new(d[t(1990)]),this[t(791)]=new(d[t(1990)])}[n(3311)](){const t=n;super[t(3311)](),this[t(3814)].on(u.ButtonEventType[t(280)],this.showAd,this),this[t(1579)].on(u[t(2899)][t(280)],this[t(1964)],this)}getVehicles(){const t=n,e=[];if(this._vehicles&&this[t(247)][t(3171)]>0)e[t(1757)](...this._vehicles);else{const s=a.GarageManager[t(2216)][t(1919)];for(let n=0;n<s[t(3171)];n++){const i=s[n];i[t(1743)][t(2584)]===c[t(2016)].ad&&e[t(1757)](i)}}return e}[n(2705)](){const t=n;if(this._season&&!this[t(2906)][t(2917)])return!1;switch(this[t(777)]){case g.currency:return!0;case g[t(2964)]:const e=r[t(3481)][t(2216)],s=this[t(3861)](),n=s.length;for(let i=0;i<n;i++){const n=s[i];if(!e[t(3702)](n))return this._vehicleBody=n,!0}}}[n(3388)](){const t=n;this[t(2954)].enabled=!1,this[t(791)][t(2356)](this)}[n(3808)](){const t=n,e=_.CcMenuManager.instance[t(3251)](h[t(3560)]);switch(this[t(777)]){case g[t(3880)]:e.setCurrencyAdRedirection();break;case g[t(2964)]:e[t(2037)](this._vehicleBody)}this.close()}[n(1964)](){const t=n;this[t(3388)](),this[t(1648)][t(2356)](this)}}var g;e[n(897)]=_0x4d4a38,function(t){const e=n;t[t[e(3880)]=0]=e(3880),t[t[e(2964)]=1]=e(2964)}(g||(g={})),_0x4d4a38.initialize(n(897),[new(i[n(3024)])(n(4348),{type:i[n(4031)][n(1311)],default:1}),new i.Attribute(n(3814),{componentType:o.ButtonComponent}),new i.Attribute(n(1579),{componentType:o[n(530)]}),new(i[n(3024)])(n(777),{enum:g}),new(i[n(3024)])(n(247),{type:i[n(4031)].asset,scriptType:l[n(2312)],isArray:!0}),new i.Attribute("_season",{type:i[n(4031)][n(3330)],scriptType:m[n(3242)]})]),_0x3dc42b[n(3311)](n(3664),[new i.Attribute("_panels",{scriptType:_0x4d4a38,isArray:!0})])},9120:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e[n(774)]=void 0;const i=s(855),o=s(3338),a=s(9470),r=s(3145),c=s(1813);class _0x40262b extends r[n(2480)]{constructor(){const t=n;super(...arguments),this[t(847)]=-1}postConstruct(){const t=n;this[t(847)]=-1;const e=a[t(1276)][t(2216)];this[t(364)].text=e[t(3940)]}[n(1339)](t){const e=n,s=this[e(4039)];if(!s)return;const i=a.LocalizationManager.instance[e(3022)](s[e(3630)]),r=Math[e(961)](i),h=Date[e(2448)]();if(h-this._lastTextRefresh>100){let t=Math[e(1599)](r)[e(3690)]();i<-.5&&(t+=e(2466)),this[e(388)].text=t,this._lastTextRefresh=h}const l=this[e(3908)],d=c[e(3866)].inverseLerp(0,this[e(3057)],r),u=o[e(2930)][e(372)](l.x,l.y,d);this[e(709)][e(4350)](0,0,u)}[n(4010)](t,e){const s=n;super[s(4010)](t,e),this[s(4039)]=t}}e[n(774)]=_0x40262b,_0x40262b[n(3311)](n(774),[new(i[n(3024)])(n(364),{componentType:o.ElementComponent}),new i.Attribute(n(388),{componentType:o.ElementComponent}),new i.Attribute(n(709),{type:i[n(4031)].entity}),new i.Attribute(n(3908),{title:n(609),type:i[n(4031)][n(4174)],default:new(o[n(1772)])(0,-280.66)}),new i.Attribute(n(3057),{title:n(3673),type:i[n(4031)][n(1311)],default:210})])},9898:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0});const i=s(855),o=s(8411);class _0x4e8ce6 extends i.Script{initialize(){const t=n;super.initialize();const e=this[t(766)];e.on("enable",(()=>this[t(1117)](!0))),e.on(t(1700),(()=>this.setEnabled(!1))),this.setEnabled(e[t(2954)][t(3471)])}setEnabled(t){const e=n;this.entity[e(3471)]=t}}_0x4e8ce6.initialize(n(3314),[new(i[n(3024)])(n(766),{scriptType:o[n(1489)]})])},2770:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,"__esModule",{value:!0}),e[n(2219)]=void 0;const i=s(2330),o=s(6943);class _0x2ca7f0 extends i[n(2322)]{}e.MultiplayerHud=_0x2ca7f0,_0x2ca7f0[n(3311)](n(2219),[new(o[n(3024)])(n(2726),{scriptType:i[n(2322)]}),new o.Attribute(n(611),{scriptType:i[n(2322)]})])},1050:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(1667)]=void 0;const i=s(822),o=s(872),a=s(8597),r=s(3296),c=s(9799),h=s(2014);class _0x27c384 extends i.Manager{static get instance(){const t=n;return i.Manager[t(2922)](_0x27c384)}[n(3251)](t){const e=n,s=o[e(525)][e(2047)](a[e(957)][e(2135)]);if(s.menus[e(3171)]>0)return null;c[e(4455)][e(2216)][e(2770)](!1),r[e(3326)][e(2216)][e(4429)](!1);const i=s[e(3183)](t);return i.onClosed[e(324)](this[e(1144)],this),i}[n(1144)](){const t=n;r[t(3326)].instance[t(4429)](!0);const e=c[t(4455)][t(2216)];h[t(546)][t(2216)][t(4234)]?e.setGameplayActive(!0):e[t(3808)](!1,(()=>{e[t(2770)](!0)}))}}e.CcMenuManager=_0x27c384,_0x27c384[n(3311)](n(1667))},5094:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e[n(1099)]=void 0;const i=s(3338),o=s(1465);class _0x32adbf{static[n(896)](t){const e=n;if(t<0)return this._invalidPlayTimeString;const s=this._timeSpanCache;return s[e(1138)](t),String(Math[e(2328)](s[e(3526)]))[e(1191)](2,"0")+":"+String(s[e(3781)])[e(1191)](2,"0")+":"+String(Math[e(2328)](i.math[e(3464)](s[e(1212)]/10,0,99)))[e(1191)](2,"0")}}e[n(1099)]=_0x32adbf,_0x32adbf._invalidPlayTimeString=n(3601),_0x32adbf[n(3268)]=new(o[n(2437)])},8145:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,"__esModule",{value:!0}),e.Application=void 0;const i=s(6849),o=s(6943),a=s(822),r=s(3346),c=s(3338),h=s(1869),l=s(1402),d=s(8597),u=s(1465),p=s(7956),_=s(5547),m=s(8230),g=s(5500),f=s(1042),x=s(3338);class _0x3cc0c4 extends i[n(3691)]{static get[n(4365)](){const t=n;return f[t(3036)][t(4365)]}static get[n(2844)](){const t=n;return f[t(3036)][t(2844)]}static set assetId(t){_0x3cc0c4[n(2628)]=t}static get instance(){const t=n;if(_0x3cc0c4[t(446)])return _0x3cc0c4[t(446)];const e=c[t(1461)][t(4307)]();if(!e)return void console[t(4447)](t(3473));const s=_0x3cc0c4[t(2628)];if(!s)return void console[t(4447)]("No core asset ID has been configured.");const i=e[t(832)][t(3155)](s);if(!i)return void console[t(4447)](t(636)+s+".");const o=h[t(932)].getRoot(d[t(957)][t(1409)]);return l[t(3604)][t(3452)](i,o),_0x3cc0c4[t(446)]}initialize(){const t=n;if(super[t(3311)](),_0x3cc0c4[t(446)]){if(_0x3cc0c4[t(446)]===this)return;return console[t(4447)]("Found another instance of "+_0x3cc0c4.name+t(4243)),void this[t(2954)].destroy()}_0x3cc0c4[t(446)]=this,console.log(t(1499)+_0x3cc0c4[t(3086)]),this[t(3721)]=h[t(932)].getRoot(d[t(957)][t(1409)]),this[t(1991)](),this[t(2485)](),h[t(932)][t(2216)][t(3306)][t(324)](this[t(2780)],this)}loadPrerequisites(){const t=n;this.addScript(m.TickSystem),this[t(3211)](_.BehaviorSystem),this[t(3211)](u[t(289)]),this[t(3211)](r[t(2512)])}loadManagers(){const t=n,e=new Map,s=this._managerTemplates,i=s[t(3171)];for(let n=0;n<i;n++){const i=s[n],o=i[t(3414)];e[t(2936)](o,i)}const o=new Map,r=a[t(3656)].typeInfos,h=r[t(3171)];for(let s=0;s<h;s++){const n=r[s],i=o[t(3155)](n[t(3549)]);if(!i){o[t(2936)](n[t(3549)],n);continue}let a,c;i[t(3256)]>=n.depth?(a=n[t(2403)],c=i[t(2403)]):(a=i[t(2403)],c=n.type,o[t(2936)](n[t(3549)],n)),e[t(1374)](a)&&(console[t(4273)]('Ignoring init of manager "'+a.name+t(2121)+c.name+'".'),e.delete(a))}const d=new c.Entity(t(3516),this[t(4474)]);this[t(3721)][t(996)](d);const u=this[t(3922)]=new Map;for(const s of o[t(4364)]()){const n=s.type;let i;const o=e[t(3155)](n);if(o)i=l[t(3604)][t(1804)](o,d);else{const e=new(c[t(3040)])(n[t(3773)],this[t(4474)]);i=p[t(1904)].addScript(e,n),d[t(996)](e)}u[t(2936)](s[t(3549)],i)}this[t(3298)]((t=>t.fireAwake()))}[n(3298)](t){const e=n,s=this._managers.values();let i=s[e(456)]();for(;!i.done;){const n=i[e(4158)];try{t(n)}catch(t){console[e(4447)](t)}i=s[e(456)]()}}getManager(t){const e=n;return this._managers[e(3155)](t)}getComponentSystem(t){const e=n,s=this[e(4474)].systems[e(2069)],i=s[e(3171)];for(let e=0;e<i;e++){const n=s[e];if(n instanceof t)return n}return null}[n(2780)](t){const e=n;t[e(2920)][e(324)](this[e(368)],this)}onPostSceneChange(t){const e=n;t[e(2089)]===g[e(3997)][e(2419)]&&this.invokeOnManagers((s=>s[e(597)](t[e(2076)])))}}e[n(1461)]=_0x3cc0c4,_0x3cc0c4[n(3086)]=n(681),_0x3cc0c4[n(3311)](n(1461),[new(o[n(3024)])(n(255),{title:n(1715),type:o[n(4031)][n(3330)],scriptType:a.Manager,isArray:!0})]);class _0x3f9c8a extends x[n(2664)]{[n(3311)](){_0x3cc0c4[n(2216)]}}x[n(4444)](_0x3f9c8a,n(433))},6612:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e[n(970)]=void 0;const i=s(855),o=s(3338),a=s(3745);class _0x16c06e extends i[n(3691)]{get[n(2806)](){return this[n(4074)]}get[n(3773)](){return this._name}set[n(3773)](t){this[n(881)]=t}get[n(1445)](){return this[n(3373)]}set[n(1445)](t){this._volumeRange=t}get[n(2743)](){return this._defaultVolume}configure(t,e,s,i){const o=n;this[o(4074)]=t,this[o(881)]=e,this._volumeRange=s,this[o(755)]=i}}e.AudioCategorySettings=_0x16c06e,_0x16c06e[n(3311)](n(970),[new i.Attribute("_category",{enum:a[n(4132)]}),new(i[n(3024)])(n(881),{type:i[n(4031)][n(990)]}),new(i[n(3024)])(n(3373),{type:i[n(4031)][n(4174)],default:new o.Vec2(0,1)}),new(i[n(3024)])(n(755),{type:i[n(4031)][n(1311)],default:1})])},3745:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,s(3500),{value:!0}),e[s(4132)]=void 0,function(t){const e=s;t[t.global=0]=e(4026),t[t[e(1071)]=1]=e(1071),t[t.fx=2]="fx",t[t[e(1815)]=3]=e(1815)}(e[s(4132)]||(e[s(4132)]={}))},9325:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(1093)]=void 0;const i=s(855),o=s(6612),a=s(3745),r=s(3338),c=s(2256),h=s(822),l=s(6842),d=s(7956),u=s(7762);class _0x520e0a extends h[n(3656)]{constructor(){const t=n;super(...arguments),this[t(3097)]=new Map,this._categorySettings=[],this[t(3415)]=new Map}static get instance(){return h[n(3656)].getInstanceByType(_0x520e0a)}[n(890)](){this[n(1459)]()}[n(2235)](){const t=n,e=c[t(488)][t(2216)];e[t(1007)].addListener(this[t(1007)],this);const s=e[t(860)];s&&this.onAccountReady(s)}loadCategorySettings(){const t=n,e=this._categorySettings,s=this[t(3415)];for(let n=0;n<e[t(3171)];n++){const i=e[n];if(!i)continue;const o=i[t(2806)];s[t(1374)](o)&&console[t(4273)]("Overwriting conflicting audio category settings for category "+o+"."),s.set(o,i)}for(const n in a.AudioCategory){const i=a.AudioCategory[n];if(!Number[t(1241)](i)||s[t(1374)](i))continue;const c=new(r[t(3040)]),h=d[t(1904)][t(3211)](c,o[t(970)]);h[t(1876)](i,n,new(r[t(1772)])(0,1),1),e.push(h),s[t(2936)](i,h)}}[n(343)](){const t=n,e=u[t(2482)][t(3867)];return null==e?void 0:e[t(4385)][t(2715)]}getCategorySettings(t){const e=n,s=this[e(3415)].get(t);if(!s)throw new Error(e(1671)+t+".");return s}[n(2729)](t,e,s=!1){const i=n,o=this[i(343)]();if(!o)return;const c=this[i(3334)](t),h=c[i(1445)];if(e=r[i(2930)][i(3464)](e,h.x,h.y),!s&&e===o[i(1448)](t,c[i(2743)]))return;o[i(2729)](t,e),t===a.AudioCategory[i(4026)]&&(this.app[i(3352)][i(2383)][i(2791)]=e);const l=this[i(3097)][i(3155)](t);if(l){let t=l.first;for(;t;){const s=t[i(4158)];t=t[i(456)];try{s[i(4101)](e)}catch(t){console[i(4447)](t)}}}}[n(1448)](t){const e=n,s=this[e(3334)](t),i=this[e(343)]();if(!i)return s[e(2743)];const o=i.getVolume(t,s[e(2743)]),a=s.volumeRange;return r[e(2930)][e(3464)](o,a.x,a.y)}[n(246)](){const t=n,e=this[t(343)]();if(!e)return;const s=this[t(3289)];for(let n=0;n<s[t(3171)];n++){const i=s[n],o=i[t(2806)];this.setVolume(o,e.getVolume(o,i.defaultVolume),!0)}}[n(2394)](t,e){const s=n;if(t.volumeListenerNode)return console.warn(s(3878),t),!1;let i=this._volumeListeners[s(3155)](e);return i||(i=new(l[s(2358)]),this._volumeListeners.set(e,i)),t[s(2934)]=i[s(876)](t),!0}[n(2187)](t){const e=n,s=t[e(2934)];return s?(t[e(2934)]=void 0,s[e(2069)][e(3469)](s,!0),!0):(console[e(4273)](e(4415),t),!1)}[n(1007)](t){const e=n;0===t[e(3850)]&&this[e(246)]()}}e[n(1093)]=_0x520e0a,_0x520e0a[n(3311)](n(1093),[new(i[n(3024)])(n(3289),{type:i[n(4031)][n(3330)],scriptType:o[n(970)],isArray:!0})])},9054:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(713)]=void 0;const i=s(4883);class _0x343a38 extends i[n(3615)]{constructor(){super(n(2715)),this._volumes=new Map}[n(1448)](t,e){const s=n;return this[s(1989)][s(1374)](t)?this[s(1989)][s(3155)](t):e}[n(2729)](t,e){const s=n,i=this[s(1989)];return!(i[s(1374)](t)&&i[s(3155)](t)===e||(i[s(2936)](t,e),0))}save(t){const e=t.volumes={};for(const t of this._volumes)e[t[0]]=t[1]}load(t){const e=n,s=t[e(1982)],i=this[e(1989)];for(const t in s){const n=Number[e(1961)](t),o=s[t];i[e(2936)](n,o)}}}e.AudioSettingsModule=_0x343a38},6947:(t,e)=>{const s=a0_0x520a;Object.defineProperty(e,s(3500),{value:!0})},5263:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(3412)]=void 0;const i=s(855),o=s(3745),a=s(9325),r=s(1065),c=s(1813);class _0x23c639 extends i[n(3691)]{get[n(2806)](){return this[n(4074)]}[n(3311)](){const t=n;super.initialize();const e=this[t(1427)]=this[t(2954)].sound;this[t(2333)]=e.volume,this.on(r[t(3321)][t(3753)],this.onEnable,this),this.on(r.ScriptEventType[t(1700)],this[t(2708)],this),this[t(2636)]()}[n(3324)](){const t=n,e=this[t(4074)];if(e===o[t(4132)][t(4026)])return;const s=a[t(1093)][t(2216)][t(1448)](e);this[t(2186)](s)}updateVolumeDirect(t){const e=n;this[e(1427)][e(2791)]=c[e(3866)][e(1158)](this._unscaledVolume*t)}[n(2636)](){const t=n;a[t(1093)].instance[t(2394)](this,this._category),this[t(3324)]()}[n(2708)](){const t=n;a[t(1093)][t(2216)][t(2187)](this)}[n(4101)](t){this[n(2186)](t)}}e[n(3412)]=_0x23c639,_0x23c639.initialize(n(3412),[new(i[n(3024)])("_category",{enum:o[n(4132)],title:"Category"})])},9517:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e[n(4038)]=void 0;const i=s(855);class _0x42cde4 extends i[n(1559)]{static get[n(2216)](){return this[n(446)]}get camera(){return this[n(894)]}construct(){const t=n;_0x42cde4[t(446)]=this,this[t(894)]=this[t(2954)][t(3490)]}[n(1621)](t){this[n(1800)]=t}[n(2861)](t){const e=n;if(!this._virtualCamera)return;this._virtualCamera[e(1697)](t);const s=this[e(1800)][e(2244)],i=s.pose;this[e(2954)][e(4345)](i[e(639)]),this.entity.setRotation(i.rotation);const o=this[e(894)];o[e(1653)]=s[e(1653)],o.orthoHeight=s[e(2439)]}}e[n(4038)]=_0x42cde4,_0x42cde4[n(3311)](n(4038))},5792:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e.CameraHandle=void 0;const i=s(855),o=s(8511);class _0xc24765 extends i.Behavior{get[n(3490)](){return this[n(894)]}construct(){const t=n;super[t(3488)](),(this[t(894)]=this[t(2954)][t(3490)])||console[t(4273)](t(1432),this)}[n(2235)](){const t=n;this[t(894)]&&o[t(1209)][t(2216)][t(642)](this)}}e[n(3712)]=_0xc24765,_0xc24765.initialize(n(3712))},8511:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(1209)]=void 0;const i=s(822),o=s(5792),a=s(7956),r=s(1869),c=s(1068);class _0x1d9b98 extends i.Manager{constructor(){const t=n;super(...arguments),this[t(2040)]=[],this[t(2653)]=this[t(2040)],this[t(701)]=new(c[t(1990)])}get[n(2334)](){return this[n(1682)]}get[n(1426)](){return this._mainCameraHandle}static get[n(2216)](){const t=n;return i[t(3656)][t(2922)](_0x1d9b98)}[n(890)](){this[n(313)]()}addCameraHandle(t){const e=n;return!(this[e(2040)][e(2614)](t)>=0)&&(this[e(2040)].push(t),t.entity.tags.has(_0x1d9b98[e(3226)])&&this[e(4165)](t),!0)}[n(313)](){const t=n;let e;try{const s=this[t(4474)].root[t(2757)](_0x1d9b98[t(3226)]);if(0===s[t(3171)]){const e=r.SceneManager.instance.currentScene;return void console[t(4273)](t(628)+e[t(3773)]+'".')}const n=s[0];if(!n.camera)return void console[t(4273)](t(687),n);e=a[t(1904)][t(3590)](n,o[t(3712)])||a[t(1904)].addScript(n,o[t(3712)]),this.addCameraHandle(e)}finally{e||this[t(4165)](void 0)}}[n(4165)](t){const e=n;t!==this[e(3683)]&&(this[e(3683)]=t,this[e(1682)]=null==t?void 0:t[e(2954)][e(3490)],this[e(701)][e(2356)](t))}[n(3978)](t){const e=n;super[e(3978)](t),this[e(313)]()}}e[n(1209)]=_0x1d9b98,_0x1d9b98[n(3226)]=n(775),_0x1d9b98[n(3311)]("CameraManager")},1912:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(1217)]=void 0;const i=s(7086);e[n(1217)]=class _0x22fbf8{constructor(t){const e=n;this[e(1043)]=t,this.fov=90,this.orthoHeight=1,this[e(3299)]=new(i[e(2789)])(t.entity)}[n(3172)](t){const e=n;if(!t)throw new Error(e(428));this.pose[e(3172)](t[e(3299)]),this.fov=t[e(1653)],this[e(2439)]=t[e(2439)]}}},1810:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,"__esModule",{value:!0}),e[n(4320)]=void 0;const i=s(8418),o=s(7086),a=s(3338),r=s(855);class _0x55c4ab extends i.VirtualCamera{constructor(){const t=n;super(...arguments),this[t(4435)]=(new(a[t(2894)]))[t(3345)](0,180,0)}[n(3488)](){const t=n;super[t(3488)](),this[t(2404)]=new(o[t(2789)])(this[t(2954)])}[n(1697)](t){const e=n,s=this[e(2954)],i=this._pose;i[e(639)][e(3172)](s[e(1344)]());const o=s.getRotation();i.rotation.copy(o),i[e(479)].mul(this[e(4435)]);const a=this[e(2244)];a[e(3299)][e(3172)](i),a[e(1653)]=this[e(1653)]}}e.StaticCamera=_0x55c4ab,_0x55c4ab.initialize(n(4320),[new(r[n(3024)])(n(1653),{title:"Field of view",type:r[n(4031)].number,default:90})])},8418:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e.VirtualCamera=void 0;const i=s(855),o=s(9517),a=s(1912),r=s(7086),c=s(3338);class _0x1484b0 extends i[n(1559)]{get cameraController(){return this[n(2345)]}get cameraProperties(){return this[n(2619)]}construct(){const t=n;this._cameraProperties=new(a[t(1217)])(this)}postConstruct(){const t=n;this[t(2345)]=o[t(4038)][t(2216)],this._cameraController?(this._cameraController[t(1621)](this),this[t(2241)]()):console[t(4273)](t(2310))}deconstruct(){}[n(1697)](t){}[n(4264)](t,e){const s=n,i=this[s(2619)].pose;t instanceof r[s(2789)]?i.copy(t):(i.position[s(3172)](t),i[s(479)][s(3172)](e||c.Quat[s(2992)][s(2792)]()))}onControllerSet(){}}e[n(4383)]=_0x1484b0,_0x1484b0[n(3311)](n(4383))},5462:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e[n(4331)]=void 0;const i=s(3338),o=s(7956),a=s(1402),r=s(5162),c=s(6943),h=s(1042);class _0x2229ac{constructor(t){const e=n;this[e(3110)]=[],this.attributes=this._attributes,this[e(1906)]=t}add(t){const e=n;this._attributes.push(t);const s=this[e(1906)];s[e(495)]instanceof i.ScriptType&&s[e(675)][e(1565)](t.serializedName,t[e(3619)]())}addRange(t){const e=n;for(let s of t)this[e(1565)](s)}[n(2792)](t){const e=n,s=new _0x2229ac(t),i=this[e(3110)],o=i[e(3171)];for(let t=0;t<o;t++){const n=i[t];s[e(1565)](n)}return s}[n(2882)](t,e=!1){const s=n,i=this._attributes,o=i[s(3171)],a=h[s(3036)][s(4365)];for(let n=0;n<o;n++){const o=i[n];if(_0x2229ac[s(3056)](t,o),a&&!e&&o[s(360)]!==o.name){const e="attr:"+o[s(360)];t[s(4431)](e)||t.on(e,(()=>{_0x2229ac[s(3056)](t,o)}))}}}static[n(3056)](t,e){const s=n;e[s(886)]&&_0x2229ac[s(2940)](t,e),e.customType&&_0x2229ac.processCustomTypeAttribute(t,e)}static[n(2940)](t,e){const s=n,i=t[e[s(360)]];if(!e[s(512)])return void(t[e[s(3773)]]=_0x2229ac[s(3114)](e,i));let o=t[e[s(3773)]];o?o[s(650)](0,o.length):o=[];const a=i[s(3171)];for(let t=0;t<a;t++){const n=_0x2229ac.resolveAttributeProperty(e,i[t]);o[s(1757)](n)}t[e[s(3773)]]=o}static resolveAttributeProperty(t,e){const s=n;if(!e)return null;const i=t[s(1782)]===c.AssetType[s(2087)],r=t.componentType;if(r)return i?(console.error(s(235)+r[s(3773)]+s(1318)+e[s(3773)]+s(333)),null):o[s(1904)].getComponent(e,r)||null;const h=t.scriptType;return h&&(i?a[s(3604)][s(3590)](e,h):o.EntityUtils[s(3590)](e,h))||null}static[n(1956)](t,e){const s=n;if(!e.customType)return;let i;const o=t[e[s(360)]];if(e[s(512)]){const n=this._customTypeInstanceBuffer;r[s(1125)][s(4326)](n),i=t[e[s(3773)]],i?(r[s(1125)].pushRange(n,i),r[s(1125)][s(4326)](i)):i=[];const a=o,c=n[s(3171)],h=a.length;for(let o=0;o<h;o++){const r=o<c?n[o]:void 0,h=this.processCustomAttributeEntry(t,a[o],e,r);i[s(1757)](h)}r.ArrayUtils[s(4326)](n)}else{const n=t[e[s(3773)]];i=this[s(1994)](t,o,e,n)}t[e[s(3773)]]=i}static[n(1994)](t,e,s,o){const a=n;if(!e)return null;const r=s[a(2714)];try{o||(o=r.prototype instanceof i[a(2664)]?new r({app:i[a(1461)][a(4307)](),entity:t[a(2954)],enabled:!1}):new r);for(const t in e)e.hasOwnProperty(t)&&(o[t]=e[t]);return r[a(2163)]()[a(2882)](o,!0),o}catch(t){return console.error(a(3891)+s.name+a(2261)+r[a(3773)]+".",r,t),null}}}e[n(4331)]=_0x2229ac,_0x2229ac._customTypeInstanceBuffer=[]},6943:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e[n(2543)]=e[n(4031)]=e.Attribute=void 0;const i=s(4919),o=s(5162),a=s(1042);class _0x307191{constructor(t,e){const s=n;this.scriptType=null,this[s(3773)]=t,Object[s(1777)](this,e),this[s(4304)](),this[s(4075)](),this[s(360)]||(this[s(360)]=this[s(3773)]),!this[s(263)]&&a.Environment[s(2844)]&&(this.title=_0x307191[s(4102)](this[s(3773)]))}get[n(886)](){const t=n;return!!this[t(3205)]||!!this[t(2864)]}static[n(4102)](t){const e=n,s=i[e(4452)].trimStart(t,["_"]);if(0===s[e(3171)])return t;const a=this[e(2761)];o.ArrayUtils[e(4326)](a);const r=i[e(4452)][e(820)](s,a);let c="";const h=r[e(3171)];for(let t=0;t<h;t++){t>0&&(c+=" ");const s=r[t];1!==s.length?(c+=s[0][e(3109)](),c+=s[e(1888)](1)):c+=s}return o[e(1125)][e(4326)](a),c}[n(4304)](){const t=n;if(!this[t(3773)])throw new Error(t(3610));if(this.serializedName===this[t(3773)])throw new Error(t(2083));if(void 0===this[t(2864)])throw Error('The scriptType of attribute "'+this[t(3773)]+t(1269))}[n(4075)](){const t=n;if(this[t(1002)])return void(this[t(2403)]=r[t(1311)]);if(this.customType){const e=this[t(2714)][t(2163)]();this[t(675)]=[...e.attributes],this[t(360)]||(this[t(360)]="__"+this[t(3773)])}const e=this[t(675)];if(!(e&&e[t(3171)]>0))return this[t(886)]?(this[t(360)]||(this[t(360)]="__"+this[t(3773)]),void(this[t(2403)]===r.asset?this[t(1782)]=c.template:(this[t(2403)]=r[t(2954)],this.assetType=void 0))):void 0;{this[t(2403)]=r[t(879)],this.schema=[];const s=e[t(3171)];for(let n=0;n<s;n++){const s=e[n];this[t(3605)].push(s.getArgs())}}}[n(3619)](){const t=n,e={type:this[t(2403)],name:this[t(360)]};if(this[t(263)]&&(e[t(263)]=this[t(263)]),this[t(3586)]&&(e[t(3586)]=this.description),this.assetType&&(e[t(1782)]=this[t(1782)]),void 0!==this.isArray&&(e[t(1972)]=this[t(512)]),this[t(3605)]&&(e[t(3605)]=this.schema),Number[t(4388)](this[t(3802)])&&(e[t(3802)]=this[t(3802)]),Number[t(4388)](this[t(1417)])&&(e[t(1417)]=this[t(1417)]),this[t(1002)]){const s=_0x307191[t(1280)](this[t(1002)]);s&&s[t(3171)]>0?e[t(1002)]=s:console[t(4273)](t(4392)+this.name+'".')}if(void 0!==this.default)switch(this[t(2403)]){case r[t(4174)]:const s=this.default;e.default=[s.x,s.y];break;case r[t(2304)]:const n=this[t(3660)];e[t(3660)]=[n.x,n.y,n.z];break;case r[t(1238)]:const i=this[t(3660)];e[t(3660)]=[i.x,i.y,i.z,i.w];break;default:e[t(3660)]=this[t(3660)]}return e}static[n(1280)](t){const e=n,s=[],i=Object.getOwnPropertyNames(t),o=i[e(3171)];for(let n=0;n<o;n++){const o=i[n],a=Number[e(1961)](o);if(Number.isInteger(a))continue;const r={};r[o]=t[o],s[e(1757)](r)}return s}}var r,c;e.Attribute=_0x307191,_0x307191._stringBuffer=[],function(t){const e=n;t[e(2954)]=e(2954),t[e(1311)]=e(1311),t.boolean="boolean",t.string="string",t.vec2="vec2",t.vec3="vec3",t.vec4=e(1238),t[e(1022)]="rgb",t[e(3330)]=e(3330),t.curve=e(4138),t[e(879)]=e(879)}(r=e[n(4031)]||(e.AttributeType={})),function(t){const e=n;t[e(2087)]="template",t.texture=e(2379),t.material=e(2829),t[e(2555)]=e(2555)}(c=e[n(2543)]||(e[n(2543)]={}))},3482:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e.BehaviorMethodNames=e[n(1770)]=e[n(2982)]=e.PostConstructNodeRegistry=e[n(291)]=void 0;const i=s(6842),o=(s(1465),s(5547));class _0x5e44f7{constructor(t){const s=n;this[s(2693)]=new(i[s(2358)]),this[s(966)]=new(i[s(2358)]),this[s(2969)]=[],this[s(3413)]=!1,this.allowInsertionsWhileLocked=!1,this.nodeType=t,this.nodeTypeName=a[this[s(3893)]],this.methodName=e.BehaviorMethodNames[t]}static[n(3488)](){const t=n,e=this[t(848)];e[a.main]=new _0x5e44f7(a[t(3867)]),e[a[t(2235)]]=new _0x4a9026,e[a.earlyTick]=new _0x16b79e(a[t(2167)]),e[a.tick]=new _0x16b79e(a[t(1339)]),e[a.lateTick]=new _0x16b79e(a.lateTick),e[a[t(1106)]]=new _0x16b79e(a.netTick)}static[n(2047)](t){return this[n(848)][t]}[n(3617)](t){const e=n;let s;return s=this[e(3413)]&&!this[e(2717)]?this._pendingAdditions.addItemLast(t):this[e(2693)][e(876)](t),s}[n(4338)](t){const e=n;if(!this._isLocked)return void this[e(2693)][e(3469)](t,!0);const s=this[e(2693)],i=t[e(2069)];i===s?t===this[e(836)]?this[e(2969)][e(1757)](t):s[e(3469)](t,!0):i===this[e(966)]?this[e(966)].removeNode(t,!0):o[e(504)][e(4447)](e(3063))}[n(2204)](t){const e=n;return t!==this[e(3413)]&&(this[e(3413)]=t,this[e(836)]=null,t||this[e(1569)](),!0)}onUnlocked(){const t=n,e=this[t(2693)],s=this[t(2969)],i=s.length;if(i>0){for(let n=0;n<i;n++){const i=s[n];e[t(3469)](i,!0)}s[t(650)](0,i)}const o=this._pendingAdditions;if(o.length>0)for(;o.length>0;){const s=o[t(1941)];o[t(3469)](s,!1),e.addNodeLast(s)}}}e[n(291)]=_0x5e44f7,_0x5e44f7[n(848)]=Array(5);class _0x4a9026 extends _0x5e44f7{constructor(){const t=n;super(a[t(2235)]),this[t(2717)]=!0}[n(2629)](){const t=n;if(!this[t(2204)](!0))return;const e=this[t(2693)];let s=e[t(1941)];for(;s;)this[t(836)]=s,s[t(4158)][t(523)][t(535)](),s=s[t(456)];this[t(836)]=null,this[t(2204)](!1),e[t(3171)]>0&&o.console[t(4447)](t(1646)+e.length+t(4417))}}e[n(2073)]=_0x4a9026;class _0x16b79e extends _0x5e44f7{[n(2629)](t){const e=n;if(!this.setLocked(!0))return;const s=this.methodName;let i=this[e(2693)][e(1941)];for(;i;){this[e(836)]=i;const n=i[e(4158)];if(n[e(3471)])try{n[s](t)}catch(t){o[e(504)][e(4447)](t)}else o[e(504)][e(4447)](e(3715)+s+":",n);i=i.next}this.currentEnumeratedNode=null,this[e(2204)](!1)}}var a;e[n(2982)]=_0x16b79e,function(t){const e=n;t[t[e(3867)]=0]=e(3867),t[t[e(2235)]=1]=e(2235),t[t[e(2167)]=2]=e(2167),t[t[e(1339)]=3]=e(1339),t[t.lateTick=4]=e(2861),t[t[e(1106)]=5]=e(1106),t[t[e(3488)]=6]="construct",t[t[e(610)]=7]=e(610)}(a=e[n(1770)]||(e.BehaviorNodeType={})),e.BehaviorMethodNames={},e.BehaviorMethodNames[a[n(3488)]]=n(3488),e[n(1500)][a[n(610)]]="deconstruct",e[n(1500)][a[n(2235)]]="postConstruct",e.BehaviorMethodNames[a[n(2167)]]=n(2167),e[n(1500)][a[n(1339)]]=n(1339),e.BehaviorMethodNames[a[n(2861)]]="lateTick",e[n(1500)][a[n(1106)]]=n(1106),Object[n(268)](e[n(1500)]),_0x5e44f7[n(3488)]()},6963:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e[n(2819)]=void 0;const i=s(4006),o=s(3482),a=s(5547);e.BehaviorSystemModule=class _0x2828c1{constructor(){const t=n;this[t(1784)]=Array(5),this[t(1761)]=0,this[t(893)]=0,this[t(2500)]=!1}[n(1876)](t){const e=n;this._behavior=t,t[e(523)]=this;const s=t[e(3414)].prototype;this[e(893)]=s[e(3278)],this[e(3367)](o[e(1770)].main);const i=t[e(3471)];this[e(647)](i),this[e(2741)](o[e(1770)][e(2235)],i),this[e(1412)]()}hasOverride(t){return(this[n(893)]&1<<t)>0}[n(1412)](){const t=n;if(!this[t(2154)](o[t(1770)][t(3488)]))return;const e=this[t(2409)];try{e[t(3488)]()}catch(s){e[t(3471)]=!1,a[t(504)][t(4447)](s)}}tryDeconstructBehavior(){const t=n;if(!this.hasOverride(o[t(1770)][t(610)]))return;const e=this[t(2409)];try{e[t(610)]()}catch(e){a[t(504)][t(4447)](e)}}[n(535)](){const t=n,e=this[t(2409)];if(this._hasPostConstructed)return a[t(504)][t(4447)](t(948),e),!1;if(!e[t(3471)])return a[t(504)][t(4447)](t(1101),e),!1;if(!this.hasNode(o[t(1770)].postConstruct))return a[t(504)][t(4447)](t(1268),e),!1;this[t(3469)](o[t(1770)][t(2235)]),this[t(2500)]=!0;try{e[t(2235)]()}catch(s){e[t(3471)]=!1,a.console.error(s)}return!0}[n(3915)](){const t=n;this[t(2154)](o.BehaviorNodeType[t(2235)])&&!this[t(2500)]&&(this.addNode(o[t(1770)][t(2235)]),this.tryPostConstructBehavior()),this[t(647)](!0)}[n(2581)](){const t=n;this[t(2741)](o[t(1770)][t(2235)],!1),this[t(647)](!1)}setTicksEnabled(t){const e=n;this[e(2741)](o[e(1770)][e(2167)],t),this.trySetNodeEnabled(o[e(1770)][e(1339)],t),this[e(2741)](o.BehaviorNodeType[e(2861)],t),this[e(2741)](o[e(1770)].netTick,t)}[n(1081)](){const t=n;this[t(2915)]();const e=this._nodes[t(3171)];for(let t=0;t<e;t++)this.removeNode(t);this[t(2409)]=null,this[t(1761)]=this[t(893)]=0,this._hasPostConstructed=!1}[n(3367)](t){const e=n;if(this.hasNode(t))return a[e(504)][e(4447)](e(1691)+t+" because a node already exists."),null;const s=o[e(291)][e(2047)](t)[e(3617)](this[e(2409)]);return this._nodes[t]=s,this._nodeMask|=1<<t,s}[n(3469)](t){const e=n;if(!this[e(986)](t))return;const s=this[e(1784)],i=s[t];s[t]=null,this[e(1761)]&=~(1<<t),o[e(291)][e(2047)](t)[e(4338)](i)}[n(3790)](t){return this[n(1784)][t]}[n(986)](t){return 0!=(this[n(1761)]&1<<t)}trySetNodeEnabled(t,e){const s=n;this.hasOverride(t)&&(e?this.addNode(t):this[s(3469)](t))}static[n(3287)](t){const e=n;this.validateMethodUsage(t,o.BehaviorNodeType[e(3488)],e(3311)),this[e(898)](t,o[e(1770)].postConstruct,e(1224)),this[e(898)](t,o[e(1770)][e(1339)],e(3517)),this[e(898)](t,o[e(1770)][e(2861)],e(3160));const s=t[e(495)];s.overrideMask=this.createOverrideMask(s)}static validateMethodUsage(t,e,s){const i=n;t[i(495)][i(983)](s)&&a[i(504)][i(4273)](i(4242)+t[i(3773)]+i(2467)+s+'"-method. Please override "'+o.BehaviorMethodNames[e]+i(4244))}static[n(899)](t){const e=n;let s=0;return s=this.modifyOverrideMask(t,s,o[e(1770)][e(3488)]),s=this[e(1352)](t,s,o[e(1770)][e(610)]),s=this.modifyOverrideMask(t,s,o[e(1770)].postConstruct),s=this[e(1352)](t,s,o[e(1770)][e(2167)]),s=this[e(1352)](t,s,o[e(1770)][e(1339)]),s=this.modifyOverrideMask(t,s,o[e(1770)][e(2861)]),s=this[e(1352)](t,s,o[e(1770)].netTick),s}static modifyOverrideMask(t,e,s){const a=n,r=o[a(1500)][s],c=i.Behavior[a(495)];return t[r]!==c[r]&&(e|=1<<s),e}}},5547:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e.BehaviorSystem=e[n(504)]=void 0;const i=s(9609),o=s(6849),a=s(6963),r=s(3482),c=s(5474),h=s(8230),l=s(3338);e[n(504)]=new c.Logger("Behavior");class _0x217b0a extends o.Script{constructor(){const t=n;super(...arguments),this[t(325)]=[]}initialize(){const t=n,e=this._tickTypeConversionTable=Array(10);e[h[t(357)][t(2167)]]=r.BehaviorNodeType[t(2167)],e[h.TickType[t(1339)]]=r[t(1770)].tick,e[h[t(357)][t(2861)]]=r.BehaviorNodeType[t(2861)],e[h.TickType[t(1106)]]=r[t(1770)][t(1106)];for(let e=0;e<h[t(2836)][t(3171)];e++){const s=h[t(2836)][e];new(h[t(674)])(s,(t=>this.tick(s,t)))[t(3400)]()}}static[n(3617)](t){const s=n;if(t.systemModule)return e[s(504)].error(s(3681)),!1;const i=this[s(453)];return(i[s(3206)]>0?i[s(2296)]():new(a[s(2819)]))[s(1876)](t),!0}static[n(4338)](t){const s=n,i=t[s(523)];return i?(i[s(1081)](),this[s(453)][s(1757)](i),!0):(e[s(504)][s(4447)]("Can't remove behavior: behavior not registered."),!1)}tick(t,e){const s=n,i=this._tickTypeConversionTable[t];void 0!==i&&(_0x217b0a[s(4111)](),r.BehaviorNodeRegistry.getInstance(i)[s(2629)](e)),t===h[s(357)][s(2818)]&&_0x217b0a[s(4111)]()}static[n(4111)](){const t=n;r[t(291)][t(2047)](r[t(1770)].postConstruct).performInvocations()}}e[n(2488)]=_0x217b0a,_0x217b0a._systemModulePool=new(i[n(3082)]),l.registerScript(_0x217b0a,n(2488))},4006:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e[n(1559)]=void 0;const i=s(3346),o=s(6842),a=s(1068),r=s(1065),c=s(1465),h=s(6849),l=s(5547),d=s(6963);class _0x1b0bcc extends h.Script{constructor(){const t=n;super(...arguments),this[t(3278)]=0,this[t(1176)]=new a.DelegateP1}static[n(4304)](){const t=n;h[t(3691)][t(4304)](),d[t(2819)].registerBehaviorClass(this)}[n(3311)](){const t=n;super.initialize(),this.on(r.ScriptEventType[t(3753)],this[t(4183)]),this.on(r[t(3321)].disable,this[t(2642)]),this.on(r[t(3321)][t(3039)],this.onDestroyInternal),l[t(2488)][t(3617)](this)}[n(3488)](){}deconstruct(){}[n(2235)](){}[n(2167)](t){}[n(1339)](t){}[n(2861)](t){}[n(1106)](t){}[n(4288)](t){const e=n;if(!this[e(3471)]||!this[e(2954)][e(3471)])return console[e(4447)](e(1543)+this[e(2954)].name+'".'),null;let s=this._coroutineModule;return s||(s=this[e(2498)]=_0x369371.getEmptyInstance(),s[e(1996)](!this[e(3471)])),s.startCoroutine(t)}stopCoroutine(t){t[n(2785)]()}[n(746)](){const t=n,e=this[t(2498)];e&&e[t(746)]()}[n(1375)](t){const e=n,s=this[e(2498)];s&&s[e(1996)](t)}[n(3039)](t){const e=n;if(Number[e(4388)](t)&&t>0){const s=this.destroyDelayed(t);this[e(4288)](s)}else this[e(2954)].script[e(3039)](this[e(3414)])}*[n(1563)](t){const e=n;yield new i.WaitInstruction(c[e(630)][e(2497)],t),this[e(3039)]()}[n(3695)](t){if(Number[n(4388)](t)&&t>0){const e=this.destroyEntityDelayed(t);this.startCoroutine(e)}else this.entity.destroy()}*[n(1564)](t){const e=n;yield new i.WaitInstruction(c[e(630)][e(2497)],t),this.destroyEntity()}[n(4219)](){const t=n;l[t(2488)][t(4338)](this);try{this[t(2617)]()}catch(e){console[t(4447)](e)}const e=this[t(2498)];e&&(e[t(1081)](),this[t(2498)]=null),this.onDestroyed[t(2356)](this)}onDestroy(){}onEnableInternal(){const t=n;this[t(1375)](!1);try{this[t(2636)]()}catch(e){console[t(4447)](e)}this.systemModule[t(3915)]()}[n(2636)](){}[n(2642)](){const t=n;this.setCoroutinesSleep(!0);try{this.onDisable()}catch(t){console.error(t)}this[t(523)][t(2581)]()}[n(2708)](){}}e[n(1559)]=_0x1b0bcc;class _0x369371{constructor(){const t=n;this[t(578)]=new(o[t(2358)]),this[t(3538)]=!1}[n(4288)](t){const e=n,s=_0x369371.getEmptyCoroutine(t);return this[e(2181)](s),i[e(2512)][e(2216)][e(4288)](s),s}static getEmptyInstance(){const t=n,e=this[t(2486)];return e[t(3171)]>0?e[t(2296)]():new _0x369371}static getEmptyCoroutine(t){const e=n,s=this[e(1865)];let o;return s.length>0?(o=s[e(2296)](),o[e(1876)](t)):o=new(i[e(2351)])(t),o}addCoroutine(t){const e=n;t[e(3816)]=this[e(3538)],t[e(2950)].addListener(this[e(1721)],this),t[e(2684)][e(324)](_0x369371[e(563)]);const s=this[e(578)],i=s[e(691)](t);t[e(1254)]=i,s.addNodeLast(i)}[n(746)](){const t=n;let e=this[t(578)][t(1941)];for(;e;){const s=e.next,n=e.value;n.isRunning&&n[t(2785)](),e=s}}[n(1081)](){const t=n;this[t(746)](),this._coroutines[t(4326)](!0),_0x369371[t(2486)][t(1757)](this)}[n(1721)](t){const e=n;t.onStopped[e(3491)](this[e(1721)],this);const s=t[e(1254)];s?(this[e(578)].removeNode(s,!0),t[e(1254)]=null):console[e(4447)](e(4450),t)}static[n(563)](t){const e=n;t[e(2684)].removeListener(_0x369371[e(563)]),_0x369371._coroutinePool[e(1757)](t)}setSleep(t){const e=n;if(t===this._isSleeping)return;this[e(3538)]=t;let s=this[e(578)].first;for(;s;)s.value.isSleeping=t,s=s[e(456)]}}_0x369371._modulePool=[],_0x369371[n(1865)]=[]},6849:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,"__esModule",{value:!0}),e[n(3691)]=void 0;const i=s(3338),o=s(7956),a=s(5462),r=s(3338);s.g[n(2184)]={};class _0x13451a extends i[n(2664)]{static get hasRegistered(){const t=n;return this.hasOwnProperty(this[t(1156)])}static set[n(3100)](t){const e=n;t?this[this[e(1156)]]=!0:delete this[this[e(1156)]]}static initialize(t,e=null){const s=n;this.register(t),e&&this[s(4227)].addRange(e)}static[n(3400)](t){const e=n;if(this[e(3100)])return void console[e(4273)](e(4036)+t+e(3307));this.validate(),t||(t=this[e(3773)]),r[e(4444)](this,t);const i=this[e(1360)];this[e(1360)]=i?i.clone(this):new(a[e(4331)])(this),this[e(3100)]=!0,s.g.som[this[e(3773)]]=this}static validate(){}initialize(){this[n(4423)]()}initializeTemplate(){this[n(4423)]()}[n(4423)](){const t=n;this.constructor.attributeModule[t(2882)](this)}static get[n(4227)](){const t=n;return this[t(3100)]?this[t(1360)]:(console[t(4273)](t(330)+this[t(3773)]+t(1193)),null)}static[n(2163)](){return this[n(4227)]}addScript(t){const e=n;return o.EntityUtils[e(3211)](this[e(2954)],t)}getScript(t){const e=n;return o.EntityUtils.getScript(this[e(2954)],t)}[n(2867)](t){const e=n;return o.EntityUtils[e(2867)](this[e(2954)],t)}[n(2792)](t=null,e=null,s=null){const i=n,a=o[i(1904)][i(2792)](this[i(2954)],t,e,s);return o[i(1904)].getScript(a,this.constructor)}}e.Script=_0x13451a,_0x13451a[n(1156)]=n(4151)},8463:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(3184)]=void 0;const i=s(5462);class _0x48b46b{static[n(2163)](){const t=n;return this[t(1322)](),this[this[t(2268)]]}static[n(1322)](){const t=n;if(this.hasOwnProperty(this[t(2268)]))return;let e=this[this[t(2268)]];this[this[t(2268)]]=e?e[t(2792)](this):new(i[t(4331)])(this)}static addAttribute(t){const e=n;this[e(2163)]()[e(1565)](t)}static[n(394)](t){const e=n,s=this[e(2163)]();for(const n of t)s[e(1565)](n)}}e[n(3184)]=_0x48b46b,_0x48b46b[n(2268)]=n(1360)},8230:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(674)]=e[n(884)]=e[n(2836)]=e[n(357)]=e.TickSystem=void 0;const i=s(6849),o=s(1465),a=s(6842),r=s(3338);class _0x5d7dad extends i[n(3691)]{[n(3311)](){const t=n,e=this[t(4474)];e.on(t(1575),this[t(2167)],this),e.on(t(3517),this[t(2818)],this)}earlyTick(t){const e=n;o[e(289)][e(1914)](t),_0x5d7dad[e(954)](c.earlyTick)}[n(3517)](t){const e=n;_0x5d7dad[e(954)](c[e(1339)])}[n(3160)](t){const e=n;_0x5d7dad[e(954)](c[e(2861)])}postTick(){const t=n;_0x5d7dad[t(954)](c[t(2818)])}static[n(954)](t){const e=n;_0x5fc7d7[e(3155)](t)[e(1339)]()}}var c;e[n(3010)]=_0x5d7dad,r[n(4444)](_0x5d7dad,n(3010)),function(t){const e=n;t[t[e(2167)]=0]=e(2167),t[t.tick=1]="tick",t[t[e(2861)]=2]=e(2861),t[t[e(1106)]=3]=e(1106),t[t[e(2818)]=4]=e(2818)}(c=e.TickType||(e[n(357)]={})),e[n(2836)]=[c.earlyTick,c.tick,c[n(2861)],c[n(1106)],c[n(2818)]];class _0x5fc7d7{constructor(t){const e=n;this._tickFunctions=new a.LinkedList,this._isExecutingTicks=!1,this[e(2969)]=[],this.tickType=t}static[n(3488)](){const t=n,s=this[t(848)];for(let n=0;n<e.TickTypes.length;n++){const i=e[t(2836)][n];s[i]=new _0x5fc7d7(i)}}static get(t){return this[n(848)][t]}addTickFunction(t){const e=n;t.registryNode||(t[e(1396)]=this[e(2525)][e(876)](t))}[n(2386)](t){const e=n,s=t[e(1396)];s&&(t[e(4171)]=!1,this[e(319)]?this._pendingRemovals[e(1757)](s):this[e(2525)][e(3469)](s,!0))}[n(1339)](){const t=n;if(this._isExecutingTicks)return void console[t(4447)](t(2840)+this[t(607)]+t(1370));this[t(319)]=!0;const e=o[t(289)][t(3648)],s=o[t(289)][t(3948)],i=this[t(2525)];let a=i[t(1941)];for(;a;){const n=a[t(4158)];if(a=a.next,!n[t(4171)])continue;const i=n.timeSpace,o=e[i],r=s[i];let c,h=o;const l=n[t(1162)];if(l>=0){const e=n[t(2507)];if(e>0){const s=o-l;if(s<e)continue;h-=s%e,c=o-n[t(3407)]}else c=r}else c=0;try{n[t(3407)]=o,n[t(1162)]=h,n[t(954)](c)}catch(e){console[t(4447)](e)}}this[t(319)]=!1;const r=this[t(2969)],c=r.length;for(let e=0;e<c;e++){const s=r[e];i[t(3469)](s,!0)}r[t(650)](0,c)}}e[n(884)]=_0x5fc7d7,_0x5fc7d7[n(848)]=Array(5),_0x5fc7d7.construct(),e[n(674)]=class _0x5898c1{constructor(t,e,s=o[n(630)][n(2497)]){const i=n;this[i(4171)]=!0,this.lastTick=-1,this[i(1162)]=-1,this[i(2507)]=0,this[i(607)]=t,this[i(3032)]=e,this[i(3658)]=s}get timeSpace(){return this[n(3658)]}set[n(1582)](t){const e=n;t!==this._timeSpace&&(this[e(3658)]=t,this.lastTick=this[e(1162)]=-1)}register(){const t=n;_0x5fc7d7[t(3155)](this[t(607)]).addTickFunction(this)}[n(3219)](){const t=n;_0x5fc7d7[t(3155)](this[t(607)]).removeTickFunction(this)}[n(954)](t){const e=n;try{this[e(3032)](t)}catch(t){console[e(4447)](t)}}}},3346:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(2351)]=e.WaitForTickInstruction=e[n(806)]=e[n(3499)]=e[n(2512)]=void 0;const i=s(6842),o=s(6020),a=s(1465),r=s(1068),c=s(8230),h=s(3338),l=s(3338);class _0x4dedbd extends h.ScriptType{constructor(){const t=n;super(...arguments),this[t(578)]=new(i[t(2358)]),this._disposingCoroutines=new o.Queue}static get[n(2216)](){return _0x4dedbd[n(446)]}[n(3311)](){const t=n;_0x4dedbd._instance=this,this[t(3315)]=new _0x6cd70;for(let e=0;e<c.TickTypes[t(3171)];e++){const s=c[t(2836)][e];new c.TickFunction(s,(()=>this[t(1339)](s)))[t(3400)]()}}[n(1339)](t){const e=n;this._frameInfo[e(1876)](t),this[e(2005)](),this[e(2632)]()}[n(2005)](){const t=n;let e=this._coroutines[t(1941)];for(;e;){const s=e.value;e=e[t(456)],s[t(2552)]&&this[t(976)](s)}}[n(976)](t){const e=n;try{t[e(1339)](this[e(3315)])}catch(t){console[e(4447)](t)}t[e(2552)]&&t[e(4254)]&&this[e(2228)](t)}[n(2632)](){const t=n,e=this[t(4113)];for(;e.length>0;){const s=e[t(1112)]();this[t(1159)](s)}}[n(4288)](t){const e=n;if(t[e(2552)])return void console[e(4447)](e(4161));const s=this[e(578)][e(876)](t);t[e(2950)][e(324)](this[e(1721)],this),t[e(3088)](s),this._frameInfo[e(625)](),this[e(976)](t),t[e(2552)]||this.processCoroutineDisposals()}[n(2228)](t){const e=n;t.isRunning?t[e(2785)]():console.error(e(2116))}disposeCoroutine(t){const e=n,s=t[e(1396)];if(!s)return void console.error("Can't dispose coroutine because it is already disposed.",t);const i=this[e(578)];s[e(2069)]===i?(t[e(2552)]&&(console[e(4273)]("Impromptu stopping coroutine before disposal."),t[e(2785)]()),i[e(3469)](s,!0),t[e(1081)]()):console.error(e(2021),t)}onCoroutineStopped(t){const e=n;t.onStopped[e(3491)](this.onCoroutineStopped,this),this[e(4113)].enqueue(t)}}e[n(2512)]=_0x4dedbd,l[n(4444)](_0x4dedbd,n(2512));class _0x6cd70{constructor(){const t=n;this[t(1681)]=Array(3),this.configure(c.TickType[t(1339)])}[n(1876)](t){const e=n;this[e(607)]=t,this[e(625)]()}[n(625)](){const t=n,e=this[t(1681)];e[a[t(630)][t(2497)]]=a[t(289)][t(3140)](a[t(630)][t(2497)]),e[a[t(630)][t(979)]]=a[t(289)].getDeltaTime(a[t(630)][t(979)]),e[a[t(630)][t(2613)]]=a[t(289)][t(3140)](a[t(630)][t(2613)])}[n(3140)](t){return this[n(1681)][t]}}class _0x34b74c{start(){}[n(2785)](){}}e[n(3499)]=_0x34b74c,e[n(806)]=class _0x1657af extends _0x34b74c{constructor(t,e,s=c[n(357)][n(1339)]){const i=n;super(),this[i(1102)]=0,this[i(1582)]=t,this[i(3505)]=e,this.tickType=s}[n(3088)](){super[n(3088)](),this._time=0}[n(1783)](t){const e=n;if(t[e(607)]===this.tickType)return(this[e(1102)]+=t.getDeltaTime(this[e(1582)]))>=this[e(3505)]}};class _0x5341c7 extends _0x34b74c{constructor(t){super(),this.tickType=t}[n(1783)](t){const e=n;return t[e(607)]===this[e(607)]}}e[n(1520)]=_0x5341c7;class _0x27d88a{constructor(t){const e=n;this[e(2097)]=!1,this[e(486)]=!1,this[e(3816)]=!1,this.onStopped=new(r[e(1990)]),this[e(2684)]=new(r[e(1990)]),this[e(2814)]=t}get[n(1396)](){return this[n(2777)]}get[n(2552)](){return this[n(486)]}get[n(4254)](){return this[n(2097)]}get[n(4179)](){return!this[n(2777)]}[n(3088)](t){const e=n;this[e(486)]?console[e(4447)](e(1739)):(this[e(2777)]=t,this[e(486)]=!0)}stop(){const t=n;this[t(486)]?(this[t(486)]=!1,this[t(2950)].safeInvoke(this)):console.error(t(2116))}[n(1876)](t){const e=n;this[e(486)]?console.error("Can't reconfigure a coroutine that is already running."):this[e(2814)]=t}[n(1339)](t){const e=n;if(!this[e(486)])return void console[e(4447)](e(3284));if(this[e(3816)])return;const s=this._yieldInstruction;if(s){if(!s.evaluate(t))return;this[e(1415)]()}const i=this[e(2814)].next();i[e(3672)]?this[e(2097)]=!0:(this[e(2455)]=i[e(4158)]||_0x27d88a[e(2671)])[e(3088)]()}dispose(){const t=n;this[t(4179)]?console[t(4273)]("Tried to dispose a coroutine that has already been disposed."):(this[t(486)]&&this[t(2785)](),this[t(2777)]=this[t(2814)]=null,this[t(2097)]=this[t(486)]=this[t(3816)]=!1,this[t(1415)](),this[t(2684)].safeInvoke(this))}[n(1415)](){const t=n,e=this[t(2455)];e&&(e[t(2785)](),this[t(2455)]=null)}}e.Coroutine=_0x27d88a,_0x27d88a[n(2671)]=new _0x5341c7(c.TickType[n(1339)])},5668:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(1264)]=e.DeviceManager=void 0;const i=s(822),o=s(855),a=s(1869),r=s(8597),c=s(1402),h=s(1068),l=s(3338);class _0x5448d6 extends i[n(3656)]{constructor(){const t=n;super(...arguments),this[t(912)]=new(h[t(1990)])}get[n(1260)](){return this[n(2704)]}get[n(1848)](){return this._orientationSettings}awake(){const t=n;super[t(890)](),_0xc33a5e[t(1968)](this)&&new _0xc33a5e(this),this[t(4073)]()}[n(1339)](){this.invalidateDeviceOrientation()}[n(4073)](){const t=n,e=this[t(4474)][t(1931)],s=e[t(1901)]>e[t(1617)]?d[t(2427)]:d.landscape;s!==this[t(2704)]&&(this[t(2704)]=s,this[t(1135)]())}onDeviceOrientationChangedInternal(){const t=n;this[t(912)][t(2356)](this[t(2704)])}}e[n(354)]=_0x5448d6;class _0x235ce4 extends o[n(3184)]{}var d;_0x235ce4[n(394)]([new o.Attribute(n(2647),{type:o.AttributeType[n(3836)],default:!0}),new o.Attribute("supportsLandscape",{type:o[n(4031)][n(3836)],default:!0}),new(o[n(3024)])("landscapePromptTemplate",{type:o.AttributeType[n(3330)]})]),_0x5448d6.initialize(n(354),[new(o[n(3024)])("_orientationSettings",{customType:_0x235ce4})]),function(t){const e=n;t[t[e(2427)]=1]=e(2427),t[t[e(2206)]=2]="landscape"}(d=e.DeviceOrientation||(e[n(1264)]={}));class _0xc33a5e{constructor(t){const e=n;this[e(3498)]=t,t[e(912)][e(324)](this[e(3130)],this),this[e(3130)]()}[n(3130)](){const t=n,e=this._deviceManager[t(1260)]===d[t(2206)];if(e!==!this._landscapePrompt)if(e)this._landscapePrompt.destroy(),this[t(700)]=null;else{const e=a[t(932)][t(3333)](r[t(957)][t(1409)]),s=this[t(3498)][t(1848)][t(1297)];this._landscapePrompt=c[t(3604)].instantiate(s,e)}}static[n(1968)](t){const e=n,s=t[e(1848)];return l[e(4083)][e(4318)]&&s.supportsLandscape&&s[e(1297)]}}},1042:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(3036)]=void 0,e[n(3036)]=class _0x4cb6ca{static get isDevelopmentBuild(){const t=n;return!!s.g[t(1686)]}static get[n(2844)](){const t=n;return!s.g.pc.app||!!s.g[t(2697)]&&!!s.g[t(2697)].assets}}},1522:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(1414)]=e.CharacterControllerInput=void 0;const i=s(855),o=s(3338),a=s(4950),r=s(7740),c=s(6244),h=s(1813),l=s(7956),d=s(6531),u=s(8145),p=s(1465),_=s(5772),m=s(4714),g=s(1065),f=s(3830),x=s(1068),y=s(7573),v=s(3338);class _0x51a78f{constructor(){const t=n;this[t(1656)]=new(o[t(1772)]),this[t(2022)]=new(o[t(1772)]),this[t(274)]=!1,this[t(1842)]=!1}}e[n(4082)]=_0x51a78f;class _0x4ff192 extends a.Pawn{constructor(){const t=n;super(...arguments),this[t(3323)]=new _0x51a78f,this._viewRotationEuler=new(o[t(1561)]),this[t(862)]=-1,this.onJumped=new(x[t(1990)])}get[n(2234)](){return this[n(3559)]}get[n(622)](){return this._rigidBody}get[n(4245)](){return this[n(2015)]}get[n(2382)](){return this[n(3323)]}get[n(2552)](){const t=n;let e=this[t(3323)].run;return this[t(2572)][t(1087)]&&(e=!e),e}get[n(2897)](){const t=n;return this[t(2270)][t(2897)]}[n(3488)](){const t=n;super[t(3488)]();const e=u[t(1461)].instance;this[t(2749)]=e[t(2871)](o[t(3410)]),this[t(2270)]=new _0x29340e(this);const s=this[t(3320)]=this[t(2954)][t(1954)];s[t(3288)]=s.angularDamping=0,s[t(2403)]!==_[t(3264)][t(993)]&&(s[t(2403)]=_[t(3264)][t(993)]);const i=this[t(2015)];i?i[t(2263)](this):console.error(_0x4ff192.name+' "'+this[t(2954)].name+t(3989),this),this[t(2193)]&&this[t(4474)][t(2839)].on(v[t(3744)],this[t(1515)],this)}[n(610)](){const t=n;super[t(610)](),this.app[t(2839)][t(1377)](v.EVENT_MOUSEDOWN,this[t(1515)],this)}[n(4153)](t){const e=n;super.setUpPlayerInputListener(t),t[e(3895)](e(1698),r.InputEventType.performed,this.onMoveInput,this),t[e(3895)](e(1698),r[e(3083)][e(1392)],this[e(2396)],this),t[e(3895)](e(322),r[e(3083)][e(1940)],this[e(3447)],this),t[e(3895)](e(322),r[e(3083)][e(1392)],this[e(3447)],this),t[e(3895)](e(2680),r[e(3083)][e(1940)],this[e(2884)],this),t[e(3895)](e(2680),r.InputEventType[e(1392)],this[e(2884)],this),t[e(3895)](e(3078),r[e(3083)].started,this.onJumpInputStarted,this)}[n(1339)](t){const e=n;super.tick(t),this[e(1914)](t)}updateInternal(t){const e=n;this[e(3559)]=c[e(2395)].get(),this._groundingModule.update(t),this[e(3442)](t),this[e(3547)](t);const s=this._view;s&&s.updateInternal(t),this[e(3323)][e(1842)]=!1,this._vec3Pool.dispose(),this[e(3559)]=null}updateRotation(t){const e=n,s=this[e(3323)][e(2022)],i=this.lookSettings[e(3e3)],a=this._rigidBody,r=i.x*-s.x*o[e(2930)].DEG_TO_RAD;a[e(1424)]=this[e(3559)][e(2792)](this[e(2954)].up)[e(830)](r);const c=this._view[e(2954)],h=this[e(1485)][e(1440)],l=this[e(2570)];l.x+=i.y*s.y*t,l.x%=360,l.x=o[e(2930)][e(3464)](l.x,h.x,h.y);const d=c[e(414)]();d[e(3345)](l.x,l.y,l.z),c[e(262)](d)}[n(3547)](t){const e=n,s=this._rigidBody,i=s[e(853)],o=this[e(3383)]();o>0&&i[e(830)](h[e(3866)][e(1158)](1-o*t));const a=this[e(1243)]();this[e(452)](i,a,t),this[e(3975)](i,a),s[e(853)]=i}[n(452)](t,e,s){const i=n,o=this[i(606)](),a=this[i(903)]();d.PhysicsUtils[i(4004)](t,e,o*s,a,t)}[n(3975)](t,e){const s=n;if(!this.isGrounded||!this._input[s(1842)])return;const i=this[s(4052)],o=p[s(289)].getTime(p.TimeSpace[s(2497)]);if(o-this[s(862)]<i[s(2742)])return;this[s(862)]=o;const a=t[s(2285)](e),r=a*i[s(2443)]-a;d.PhysicsUtils[s(4004)](t,e,r,i.forwardJumpMaxSpeed,t),t.y+=i[s(2245)],this[s(2018)][s(2356)](this)}[n(3383)](){const t=n,e=this[t(3848)];let s=e[t(4005)];return this[t(2897)]&&(s+=e.groundDrag),s}[n(1243)](){const t=n,e=this[t(3559)],s=this[t(3323)].move,i=this[t(2954)],o=e[t(2792)](l.EntityUtils.getForward(i));o.mulScalar(s.y);const a=e[t(2792)](i[t(1027)]);a[t(830)](-s.x);const r=e[t(1565)](o,a);return r[t(4269)]()>1&&r.normalize(),r}[n(606)](){const t=n,e=this[t(2572)];return this.isGrounded?this.isRunning?e[t(1290)]:e[t(916)]:e.airAcceleration}[n(903)](){const t=n,e=this[t(2572)];return this.isGrounded?this[t(2552)]?e.runSpeedLimit:e[t(4250)]:e[t(3431)]}onMoveInput(t){const e=n,s=this[e(3323)][e(1656)];s[e(3172)](t.value),s[e(4269)]()>1&&s[e(3030)]()}[n(2601)](t){const e=n;this[e(3323)][e(1842)]=t[e(4158)]}[n(3447)](t){const e=n;this[e(3323)].look[e(3172)](t.value)}[n(2884)](t){const e=n;this[e(3323)][e(274)]=t.value}onMouseDown(){const t=n;this.app.mouse[t(2981)]()}}e[n(1414)]=_0x4ff192;class _0x18bf16 extends i[n(3184)]{}_0x18bf16.addAttributes([new(i[n(3024)])(n(2126),{type:i[n(4031)][n(1311)],default:7}),new i.Attribute(n(4005),{type:i[n(4031)][n(1311)],default:.2})]);class _0x5502f5 extends i[n(3184)]{}_0x5502f5[n(394)]([new(i[n(3024)])(n(916),{type:i.AttributeType[n(1311)],default:50}),new i.Attribute("walkSpeedLimit",{type:i[n(4031)][n(1311)],default:7}),new i.Attribute(n(1290),{type:i[n(4031)][n(1311)],default:110}),new i.Attribute(n(851),{type:i[n(4031)].number,default:15}),new(i[n(3024)])(n(1087),{type:i[n(4031)][n(3836)]}),new(i[n(3024)])("airAcceleration",{type:i[n(4031)].number,default:20}),new i.Attribute(n(3431),{type:i.AttributeType[n(1311)],default:5}),new(i[n(3024)])(n(3020),{type:i[n(4031)][n(1311)],default:60})]);class _0x40b884 extends i[n(3184)]{}_0x40b884[n(394)]([new(i[n(3024)])(n(2245),{type:i[n(4031)][n(1311)],default:10}),new(i[n(3024)])(n(2443),{type:i[n(4031)][n(1311)],default:1.2}),new(i[n(3024)])(n(638),{type:i[n(4031)][n(1311)],default:20}),new(i[n(3024)])(n(2742),{type:i[n(4031)][n(1311)],default:.1})]);class _0x2c2876 extends i.SerializableStruct{}_0x2c2876[n(394)]([new(i[n(3024)])(n(3e3),{type:i.AttributeType[n(4174)],default:new(o[n(1772)])(3,3)}),new i.Attribute(n(1440),{type:i[n(4031)][n(4174)],default:new(o[n(1772)])(-90,90)})]),_0x4ff192[n(3311)](n(1414),[new(i[n(3024)])(n(2015),{scriptType:y[n(1963)]}),new i.Attribute(n(2193),{type:i[n(4031)][n(3836)],default:!0}),new(i[n(3024)])(n(3848),{customType:_0x18bf16}),new(i[n(3024)])(n(2572),{customType:_0x5502f5}),new i.Attribute(n(1485),{customType:_0x2c2876}),new i.Attribute(n(4052),{customType:_0x40b884})]);class _0x29340e{constructor(t){const e=n;this[e(3390)]=!1,this._isGroundedBuffered=!1,this[e(4390)]=0,this[e(862)]=-1,this[e(3981)]=!1,this[e(1244)]=new(o[e(1561)]),this._debugToPos=new(o[e(1561)]),this[e(1516)]=!1,this[e(275)]=t,this[e(3559)]=c.Vec3Pool[e(3155)](),t.on(g[e(3321)][e(3039)],this.dispose,this),t.onJumped[e(324)](this[e(2018)],this);const s=t[e(2954)][e(3698)];s.on(m[e(3484)][e(267)],this[e(1048)],this),s.on(m[e(3484)][e(3799)],this[e(1048)],this),s.on(m[e(3484)].end,this[e(1048)],this)}get[n(2897)](){return this._isGrounded}[n(1081)](){const t=n;this[t(3559)][t(1081)](),this._vec3Pool=null}[n(3517)](t){const e=n;this[e(3390)]&&!this[e(3293)]&&this[e(1388)]()&&(this[e(3293)]=!0),this[e(3293)]?this._liftOffTimer=0:this[e(3390)]&&(this[e(4390)]+=t,p.TimeManager.getTime(p.TimeSpace[e(2497)])-this._lastJumpTime>.1&&this[e(4390)]<=.2&&(this[e(3293)]=!0)),this[e(3390)]=this._isGroundedBuffered,this[e(3293)]=!1,this[e(3981)]&&this[e(275)][e(4474)][e(1918)](this[e(1244)],this[e(3616)],this[e(1516)]?o[e(2139)][e(4096)]:o[e(2139)].RED)}hasGroundUnderFeet(){const t=n,e=this[t(3559)],s=this[t(275)][t(2954)],i=s[t(1344)](),o=s[t(3698)],a=e[t(2792)](i);return a.add(e[t(2792)](s.up)[t(830)](.5*-o[t(1901)])),a.y-=.05,!!f.PhysicsManager[t(2216)][t(1688)][t(2017)](i,a)}[n(1048)](t){const e=n;if(this[e(3293)]||!t[e(3266)])return;const s=this[e(275)],i=s.movementSettings,o=s.entity,a=o[e(3698)],r=a[e(1950)],h=r*r,l=.5*r,d=.5*a[e(1901)],u=this[e(3559)],p=u[e(2792)](o.getPosition()),_=u[e(2792)](o.up)[e(830)](-1);p[e(1565)](u.clone(_)[e(830)](d-l)),this[e(1244)][e(3172)](p);const m=t[e(3266)],g=m[e(3171)];for(let t=0;t<g;t++,u[e(3760)]()){const s=m[t].point,n=u[e(2266)](s,p),o=n[e(4269)]();if(o>h)continue;const a=Math[e(974)](o);n[e(633)](a);const r=c[e(2822)][e(2091)](_,n)<i[e(3020)];if(this._debugToPos[e(3172)](s),this[e(1516)]=r,r){this._isGroundedBuffered=!0;break}}u.reset()}[n(2018)](){const t=n;this[t(862)]=p.TimeManager[t(751)](p[t(630)].scaled)}}},7573:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e.CharacterView=void 0;const i=s(855),o=s(6244),a=s(8002),r=s(7956);class _0x431e8e extends i[n(1559)]{constructor(){const t=n;super(...arguments),this[t(4207)]=[],this._viewTransforms=[]}get[n(3285)](){return this[n(422)]}get[n(392)](){return this._characterController}[n(3488)](){const t=n;(this[t(422)]=this[t(1307)](this[t(2954)]))[t(1876)](!0,!1)}updateInternal(t){const e=n;this._vec3Pool=o.Vec3Pool[e(3155)]();const s=this[e(3309)];for(let t=0;t<s.length;t++)s[t].resetPose();const i=this[e(4207)],a=i.length;for(let s=0;s<a;s++)i[s][e(3517)](t);for(let t=0;t<s[e(3171)];t++)s[t].applyPose();this._vec3Pool[e(1081)](),this[e(3559)]=null}setCharacterController(t){const e=n;this[e(275)]||(this[e(275)]=t)}[n(3358)](t){const e=n,s=this[e(4207)];s.indexOf(t)>=0||s[e(1757)](t)}[n(1307)](t){const e=n;let s=r.EntityUtils[e(3590)](t,a[e(2620)]);return s||(s=r[e(1904)][e(3211)](t,a[e(2620)]),this[e(3309)].push(s),s)}}e.CharacterView=_0x431e8e,_0x431e8e.initialize(n(1963))},2438:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(2826)]=e.BobViewModule=void 0;const i=s(3338),o=s(1813),a=s(855),r=s(8642);class _0x11cd64 extends r.FirstPersonViewModule{constructor(t){const e=n;super(t),this[e(3887)]=!1,this[e(1878)]=0,this[e(4407)]=t[e(2124)],this[e(4356)]=new _0x172576(this,t[e(3285)]),this[e(864)]=new _0x58d60a(this,t[e(269)],this[e(4356)])}get[n(4385)](){return this[n(4407)]}get[n(4286)](){return this[n(1878)]}get[n(1750)](){return this[n(3887)]}[n(3517)](t){const e=n;super[e(3517)](t),this[e(3887)]=this[e(601)](),this[e(2145)](),this._headAnimator.update(t),this[e(864)][e(3517)](t)}[n(2145)](){const t=n,e=this[t(4407)],s=this[t(392)][t(622)][t(853)].length();this._stepsPerSecond=s*e[t(803)]}getShouldBob(){const t=n,e=this[t(392)];if(!e[t(2897)])return!1;const s=e[t(2382)];return Math.abs(s[t(1656)][t(4269)]())>0}}e.BobViewModule=_0x11cd64;class _0x5461a8{constructor(t,e){const s=n;this[s(1218)]=!1,this[s(1350)]=new(i[s(1772)]),this[s(3903)]=0,this._unscaledMovement=new(i[s(1561)]),this[s(500)]=new(i[s(1561)]),this[s(1644)]=new(i[s(1561)]),this[s(3931)]=new i.Quat,this[s(2547)]=t;const o=this[s(2015)]=t.view;this[s(275)]=o.characterController,this[s(4407)]=t[s(4385)],this[s(3662)]=e}get movement(){return this[n(500)]}get[n(479)](){return this[n(3931)]}[n(3517)](t){const e=n;this.updateAnimationScale(t),this[e(1029)](this[e(3903)]>0);const s=this[e(2618)],i=this[e(1644)];if(this[e(1218)]){const n=this.animationTime,o=Math[e(1437)](n.x*Math.PI),a=Math[e(1437)](2*n.y*Math.PI),r=this.getMotionRadius();s.x=o*r.x,s.y=a*r.y;const c=this[e(4346)]();i[e(3172)](c),i[e(830)](o),this.updateAnimationTime(t)}const o=this.animationScale;this[e(500)].copy(s)[e(830)](o),this[e(3931)][e(3345)](i.x*o,i.y*o,i.z*o);const a=this[e(3662)];a.addPosition(this[e(500)]),a[e(1979)](this[e(3931)])}[n(1767)](t){const e=n,s=this[e(2547)][e(1750)],i=1/this._settings.returnDuration;this[e(3903)]=o[e(3866)][e(854)](this[e(3903)],s?1:0,t*i)}[n(2489)](t){const e=n,s=t*this._bobModule.stepsPerSecond,i=this[e(1350)];i.x+=s,i.y+=s}[n(1029)](t){const e=n;t!==this[e(1218)]&&(this._isAnimating=t,t?(this[e(1350)][e(2936)](0,0),this[e(3780)]()):this[e(2843)]())}[n(3780)](){}[n(2843)](){}}class _0x172576 extends _0x5461a8{[n(3780)](){const t=n;super[t(3780)](),this[t(3903)]=1;const e=this[t(1350)];e.x=i[t(2930)].random(0,1)>.5?1:0,e.y=0}getMotionRadius(){const t=n;return this[t(2015)][t(2124)][t(1337)]}[n(4346)](){const t=n;return this[t(2015)][t(2124)][t(641)]}}class _0x58d60a extends _0x5461a8{constructor(t,e,s){const o=n;super(t,e),this[o(654)]=new(i[o(1772)]),this._headBobAnimator=s}[n(2489)](t){const e=n;super[e(2489)](t);const s=this[e(2015)][e(2124)],i=this[e(1350)];i[e(3172)](this[e(1173)][e(1350)]),i.x=i.x-s[e(295)],i.y=i.y-s.handsMotionDelay}[n(3780)](){const t=n;super[t(3780)]();const e=this[t(1173)];this[t(654)].copy(e[t(1350)])}[n(300)](){const t=n;return this[t(2015)].bobSettings[t(4014)]}[n(4346)](){const t=n;return this[t(2015)][t(2124)][t(671)]}}class _0x40ad31 extends a[n(3184)]{}e[n(2826)]=_0x40ad31,_0x40ad31[n(394)]([new a.Attribute(n(803),{type:a[n(4031)][n(1311)],default:.35}),new(a[n(3024)])(n(3916),{type:a.AttributeType[n(1311)],default:.2}),new a.Attribute("headMotionRadius",{type:a[n(4031)][n(4174)],default:new(i[n(1772)])(.11,.07)}),new a.Attribute("headRotationRadius",{type:a[n(4031)][n(2304)],default:new(i[n(1561)])(0,0,.15)}),new(a[n(3024)])(n(4014),{type:a[n(4031)][n(4174)],default:new(i[n(1772)])(.012,.012)}),new a.Attribute(n(671),{type:a[n(4031)][n(2304)],default:new(i[n(1561)])(0,2,0)}),new(a[n(3024)])(n(295),{type:a[n(4031)][n(1311)],default:.6})])},977:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(823)]=void 0;const i=s(7573),o=s(855),a=s(2438),r=s(351);class _0x5b0fe2 extends i[n(1963)]{get[n(269)](){return this._handsTransform}get[n(4295)](){return this[n(3900)]}get[n(2124)](){return this[n(2516)]}get[n(2852)](){return this[n(2645)]}get handsSwaySettings(){return this[n(1572)]}[n(3488)](){const t=n;super[t(3488)](),this[t(2644)]=this[t(2954)][t(1949)]()[t(2792)](),(this._handsTransform=this[t(1307)](this[t(3900)])).configure(!0,!0),this[t(2452)]()}[n(2452)](){const t=n,e=this[t(2283)]();e&&this.addViewModule(e),this[t(3358)](new(r[t(1200)])(this)),this.addViewModule(new(r[t(4465)])(this))}createBobModule(){return new(a[n(3824)])(this)}}e[n(823)]=_0x5b0fe2,_0x5b0fe2[n(3311)](n(823),[new(o[n(3024)])("_hands",{type:o[n(4031)][n(2954)]}),new(o[n(3024)])("_bobSettings",{customType:a.BobSettings}),new o.Attribute("_viewSwaySettings",{customType:r[n(3564)]}),new o.Attribute(n(1572),{customType:r.HandsSwaySettings})])},8642:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e[n(585)]=void 0;const i=s(6692);class _0x5dba88 extends i[n(2979)]{get[n(4245)](){return super[n(4245)]}constructor(t){super(t)}}e[n(585)]=_0x5dba88},351:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(3564)]=e[n(1200)]=e[n(1505)]=e[n(4465)]=void 0;const i=s(7086),o=s(3338),a=s(855),r=s(6244),c=s(1813),h=s(8642),l=s(808);class _0x54af64 extends h[n(585)]{constructor(t){const e=n;super(t),this[e(3230)]=new(o[e(1561)]),this[e(473)]=new(o[e(1561)]),this[e(3931)]=new o.Quat,this._velocity=new(o[e(1561)]),this[e(398)]=new(o[e(1561)]),this[e(4097)]=new(o[e(1561)]),this[e(2203)]=new(o[e(1561)])}update(t){const e=n;super[e(3517)](t),this[e(2234)]=r[e(2395)][e(3155)](),this.updateFrameDifference(),this[e(1074)](t),this.updatePose(t);const s=this[e(3931)],i=this[e(473)];s[e(3345)](i.x,i.y,i.z),this.applyPose(this[e(3230)],s),this[e(2234)].dispose(),this.vec3Pool=null}[n(1074)](t){const e=n,s=this[e(4385)];this[e(3180)](this._velocity,this[e(3230)],s[e(3095)],s[e(3232)],t),this[e(3180)](this._angularVelocity,this[e(473)],s[e(3064)],s[e(908)],t)}updateVelocity(t,e,s,i,o){const a=n,r=this[a(2234)],h=e[a(3171)](),l=r.mulScalar(e,-1);h>0&&l[a(633)](h);const d=r[a(830)](l,h*s);t[a(1565)](d[a(830)](o)),t[a(830)](c[a(3866)][a(1158)](1-i*o))}[n(1697)](t){const e=n,s=this[e(2234)],i=s.get(!0),a=s.get(!0);this[e(2768)](i,a,t);const r=this[e(3230)];r[e(2266)](i);const c=this._rotationEuler;c.sub(a),r.add(s[e(830)](this[e(2185)],t)),c[e(1565)](s.mulScalar(this[e(398)],t));const h=this[e(4385)].linearLimits;r.x=o[e(2930)][e(3464)](r.x,-h.x,h.x),r.y=o.math[e(3464)](r.y,-h.y,h.y),r.z=o[e(2930)].clamp(r.z,-h.z,h.z)}[n(2768)](t,e,s){const i=n,a=this.vec3Pool,r=this[i(4385)],c=this[i(4097)],h=a.lerp(c,o[i(1561)][i(1853)],s*r[i(787)]);t.sub2(c,h),c[i(3172)](h);const l=this.rotationDiffBuffer,d=a.lerp(l,o.Vec3[i(1853)],s*r[i(787)]);e[i(418)](l,d),l[i(3172)](d)}[n(2387)](t,e,s,i){const a=n,r=this[a(2234)],c=e[a(2390)](s,r[a(3155)](!0)),h=t[a(2390)](s,r[a(3155)](!0)),l=o.math[a(3464)](c.dot(h),-1,1),d=Math.acos(l)*o[a(2930)][a(3185)],u=r.cross(c,h);return d*Math.sign(u[a(2285)](i))}}e.HandsSwayModule=class _0xd5f9e1 extends _0x54af64{constructor(t){const e=n;super(t),this[e(3092)]=new(i[e(2789)]),this[e(376)]=new i.Pose,this[e(4407)]=t[e(1662)],this[e(3092)][e(3172)](t[e(392)][e(2954)]),this[e(376)][e(3172)](t[e(269)][e(2954)])}get[n(4385)](){return this[n(4407)]}[n(4112)](){const t=n,e=this[t(3092)],s=this[t(376)],i=this[t(2234)],a=this._settings,r=this[t(4245)].transform[t(2954)],c=this.characterController[t(2954)],h=c.getRotation()[t(1367)](),d=c[t(1344)]()[t(2266)](e[t(639)]);h[t(2390)](d,d),this.positionDiffBuffer[t(1565)](i[t(3059)](d,a[t(1825)]));const u=this.getAngleDifference(r.getLocalRotation(),s[t(479)],o[t(1561)][t(834)],o[t(1561)].RIGHT),p=this[t(2387)](c[t(1955)](),e.rotation,o[t(1561)][t(834)],c.up),_=this.rotationDiffBuffer;_.x+=u*a[t(4049)].x,_.y+=p*a.angularScale.y,e[t(3172)](c),s.copy(r,l[t(3845)][t(719)])}[n(1894)](t,e){const s=n,i=this.view[s(269)];i[s(2171)](t),i[s(1979)](e)}};class _0x5aa1c4 extends a.SerializableStruct{}e[n(1505)]=_0x5aa1c4,_0x5aa1c4.addAttributes([new(a[n(3024)])(n(3232),{type:a[n(4031)][n(1311)],default:10}),new(a[n(3024)])(n(1825),{type:a[n(4031)][n(2304)],default:new(o[n(1561)])(.07,.3,.05)}),new(a[n(3024)])("linearLimits",{type:a[n(4031)][n(2304)],default:new(o[n(1561)])(.1,.2,.1)}),new(a[n(3024)])(n(3095),{type:a[n(4031)][n(1311)],default:200}),new(a[n(3024)])(n(908),{type:a[n(4031)][n(1311)],default:15}),new(a[n(3024)])(n(4049),{type:a[n(4031)].vec3,default:new o.Vec3(.08,.065,.1)}),new(a[n(3024)])(n(3064),{type:a[n(4031)][n(1311)],default:150}),new a.Attribute(n(787),{type:a[n(4031)][n(1311)],default:50})]),e[n(1200)]=class _0x1bb984 extends _0x54af64{constructor(t){const e=n;super(t),this[e(4407)]=t[e(2852)],this[e(3092)]=new(i[e(2789)])(t[e(392)][e(2954)])}get settings(){return this._settings}updateFrameDifference(){const t=n,e=this[t(3092)],s=this[t(2234)],i=this[t(4407)],o=this[t(392)][t(2954)],a=o[t(1955)]()[t(1367)](),r=o.getPosition()[t(2266)](e[t(639)]);a[t(2390)](r,r);const c=r.y>=0?i[t(4253)]:i.linearScaleDownward;this[t(4097)][t(1565)](s.mulScalar(r,c));const h=i[t(4049)],l=this.rotationDiffBuffer;l.x+=r.y*-h.x,l.z+=r.x*h.z,e[t(3172)](o)}applyPose(t,e){const s=n,i=this[s(4245)][s(3285)];i.addPosition(t),i.addRotation(e)}};class _0x2a70a6 extends a[n(3184)]{}e[n(3564)]=_0x2a70a6,_0x2a70a6.addAttributes([new(a[n(3024)])("linearDrag",{type:a[n(4031)].number,default:12}),new a.Attribute("linearScaleUpward",{type:a.AttributeType.number,default:0}),new(a[n(3024)])(n(3014),{type:a.AttributeType.number,default:1.2}),new(a[n(3024)])(n(3838),{type:a[n(4031)][n(2304)],default:new(o[n(1561)])(0,.5,0)}),new(a[n(3024)])(n(3095),{type:a.AttributeType[n(1311)],default:185}),new(a[n(3024)])("angularDrag",{type:a[n(4031)][n(1311)],default:15}),new a.Attribute(n(4049),{type:a[n(4031)].vec3,default:new(o[n(1561)])(1.75,1,.6)}),new(a[n(3024)])("angularSpringConstant",{type:a[n(4031)][n(1311)],default:150}),new(a[n(3024)])(n(787),{type:a.AttributeType.number,default:50})])},6692:(t,e)=>{const s=a0_0x520a;Object.defineProperty(e,s(3500),{value:!0}),e[s(2979)]=void 0,e[s(2979)]=class _0x42b935{constructor(t){const e=s;this[e(2015)]=t,this[e(275)]=t[e(392)]}get[s(4245)](){return this[s(2015)]}get[s(392)](){return this._characterController}[s(3517)](t){}}},8002:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(2620)]=void 0;const i=s(855),o=s(3338),a=s(7086),r=s(808);class _0x397840 extends i[n(3691)]{constructor(){const t=n;super(...arguments),this._originalPose=new(a[t(2789)]),this.position=new o.Vec3,this[t(479)]=(new(o[t(2894)]))[t(3172)](o[t(2894)].IDENTITY)}[n(1876)](t,e){const s=n;this._originalPose.copy(this.entity,r[s(3845)].local),this[s(1727)]=t,this[s(3221)]=e}[n(1661)](){const t=n,e=this[t(2954)],s=this[t(499)];this[t(1727)]&&e[t(1504)](s.position),this[t(3221)]&&e[t(262)](s[t(479)])}applyPose(){const t=n,e=this[t(2954)];this._originalPose.copy(e,r[t(3845)].local);const s=e[t(1949)]();s[t(1565)](this.position),e[t(1504)](s);const i=e.getLocalRotation();i[t(3059)](this[t(479)]),e.setLocalRotation(i),this[t(639)].set(0,0,0),this.rotation[t(3172)](o[t(2894)][t(2992)])}addPosition(t){const e=n;this.position[e(1565)](t)}addRotation(t){const e=n;this[e(479)][e(3059)](t)}}e.ViewTransform=_0x397840,_0x397840[n(3311)](n(2620))},9600:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(402)]=void 0;const i=s(855),o=s(1068);class _0x5475b3 extends i[n(1559)]{constructor(){const t=n;super(...arguments),this.onPossessionChanged=new(o[t(2140)])}get[n(3197)](){return this[n(1365)]}set[n(3197)](t){this[n(1365)]=t}get[n(3393)](){return this._pawn}[n(2681)](t){const e=n;t!==this[e(491)]&&(this[e(491)]&&this[e(1822)](),t&&(this._pawn=t,this[e(491)][e(1858)](this),this[e(3220)](t,void 0)))}[n(1822)](){const t=n;if(!this[t(491)])return;console[t(3015)](this[t(491)][t(2849)]===this);const e=this._pawn;this[t(491)][t(1858)](null),this[t(491)]=null,this[t(3220)](void 0,e)}[n(3220)](t,e){const s=n;this.onPossessionChanged[s(2356)](this,t,e)}}e.Controller=_0x5475b3},8173:(t,e)=>{const s=a0_0x520a;Object.defineProperty(e,s(3500),{value:!0}),e[s(1734)]=void 0,e.DamageEvent=class _0x2e00e4{constructor(t,e=0,n=null,i=null){const o=s;this[o(2676)]=t,this[o(2403)]=e,this.causer=n,this.instigator=i}}},4964:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(3011)]=e.GameMessageType=void 0;const i=s(6065);!function(t){const e=n;t[t[e(753)]=101]=e(753)}(e.GameMessageType||(e.GameMessageType={}));class _0x2e0409 extends i[n(2952)]{constructor(t){const e=n;super(),this.playerStateData={},t&&(this[e(3094)]={localId:t.id})}[n(1876)](t){const e=n;this[e(3094)][e(2753)]=t.id}[n(2064)](t){const e=this[n(3094)];return t.writeByte(e.localId),!0}[n(582)](t){const e=n;this[e(3094)][e(2753)]=t[e(2574)]()}dispose(){const t=n;this[t(3094)][t(2753)]=-1}}e[n(3011)]=_0x2e0409},4618:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,"__esModule",{value:!0}),e[n(1119)]=void 0;const i=s(822),o=s(8067),a=s(855),r=s(1915),c=s(6435);class _0xba8600 extends i[n(3656)]{static get[n(2216)](){return i[n(3656)].getInstanceByType(_0xba8600)}[n(890)](){const t=n;super[t(890)](),this[t(416)]()}postConstruct(){const t=n;c[t(465)][t(2216)].onSessionStarting[t(324)]((e=>{const s=t;e.isHost&&e[s(3357)][s(3731)](new(r[s(1164)]))}))}[n(416)](){const t=n,e=this[t(780)]=new Map;for(let s of this[t(1190)]){if(!s)continue;const n=s[t(3378)];if(e[t(1374)](n)){const i=e.get(n);console[t(4273)](t(1047),s,i)}else e.set(n,s)}}[n(804)](t){const e=n;return this[e(780)][e(3155)](t)}setWorldSettings(t){this[n(3569)]=t}}e.GameModeManager=_0xba8600,_0xba8600.initialize(n(1119),[new a.Attribute(n(1190),{title:n(3091),type:a.AttributeType[n(3330)],scriptType:o[n(278)],isArray:!0})])},5257:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(3534)]=void 0;const i=s(855);class _0x4817fa extends i[n(1559)]{}e[n(3534)]=_0x4817fa},8067:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(1834)]=e[n(278)]=void 0;const i=s(855),o=s(5737),a=s(8578),r=s(1813),c=s(3721),h=s(4964),l=s(3435),d=s(7600),u=s(2908),p=s(2379);class _0x4732f4 extends i[n(1559)]{static get[n(2216)](){return this[n(446)]}get server(){return this[n(1977)]}get gameState(){return this[n(1604)]}get[n(2928)](){return this._modules}get[n(3378)](){return this[n(320)]}get playerControllerTemplate(){return this[n(2169)]}construct(){const t=n;_0x4732f4[t(446)]=this;const e=this._server=c[t(4155)][t(2216)];this[t(2306)](e[t(2215)]),this[t(906)]=new(p[t(4296)])(this),this[t(3985)](),this[t(3357)].room[t(3521)][t(324)](this[t(3521)],this);const s=this[t(1004)][t(2004)];s.onPlayerAdded.addListener(this[t(1124)],this),s[t(3031)][t(324)](this[t(1454)],this)}[n(2235)](){const t=n;this._modules[t(3088)]()}[n(610)](){const t=n;this[t(906)][t(2785)]();const e=this[t(1977)];e&&(this[t(548)](e[t(2215)]),e[t(1773)][t(3521)][t(3491)](this[t(3521)],this)),_0x4732f4[t(446)]===this&&(_0x4732f4[t(446)]=void 0)}[n(2306)](t){const e=n;t.setHandler(h[e(3514)][e(753)],h.CreatePlayerStateMessage,this[e(2113)][e(4467)](this))}[n(548)](t){const e=n;t[e(2248)](h[e(3514)][e(753)])}[n(3985)](){const t=n,e=this._gameStateTemplate;if(!e)return void console[t(4447)](t(1945)+this[t(2954)][t(3773)]+t(3639),this);const s=this._gameState=l[t(466)].instantiateScript(e);return s[t(1876)](this),l.NetworkScene.instance[t(4223)](s[t(4422)]),this[t(1604)]}createPlayer(t,e){const s=n,i=this[s(2889)];if(!i)return console[s(4447)](s(4106)),null;const o=l[s(466)][s(1804)](i);try{o[s(1876)](t,e),l[s(466)][s(2216)][s(4223)](o[s(4422)]),this[s(1513)](o)}catch(t){console[s(4447)](t)}return o}[n(2987)](t){const e=n;let s;if(t instanceof a[e(3631)])s=t;else if(r[e(3866)].isNumber(t)){const n=d[e(1232)][e(2216)][e(1903)];t>=0&&t<n[e(3171)]&&(s=n[t])}s?s[e(2954)][e(3039)]():console[e(4447)](e(4114),t)}onClientLeft(t){const e=n,s=d[e(1232)].instance[e(3830)](t),i=s.length;for(let t=0;t<i;t++)s[t][e(2954)][e(3039)]()}onPlayerCreatedInternal(t){}[n(1124)](t){}[n(1454)](t){}[n(2113)](t){const e=n,s=t.message[e(3094)];if(!s)return void console[e(4273)](e(2972));const i=t[e(3376)];this[e(2217)](s,i)}}e[n(278)]=_0x4732f4,_0x4732f4.initialize(n(278),[new(i[n(3024)])("_numId",{title:n(2603),type:i.AttributeType.number}),new(i[n(3024)])(n(2052),{title:n(2410),type:i[n(4031)][n(3330)],scriptType:o[n(1999)]}),new(i[n(3024)])(n(2889),{title:n(3418),type:i[n(4031)][n(3330)],scriptType:a[n(3631)]}),new(i[n(3024)])("_playerControllerTemplate",{title:n(3025),type:i.AttributeType[n(3330)],scriptType:u[n(533)]})]);class _0x4443ca extends p[n(1468)]{}e[n(1834)]=_0x4443ca},9016:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,s(3500),{value:!0}),e[s(2277)]=void 0,e[s(2277)]=class _0x224867{}},1915:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e[n(1164)]=void 0;const i=s(3136),o=s(1402),a=s(4430),r=s(6546),c=s(1456),h=s(1869);class _0x2efcbc extends r[n(2411)]{constructor(){const t=n;super(...arguments),this[t(304)]=!1,this[t(3021)]=!1}static get[n(2216)](){return this[n(446)]}get gameMode(){return this[n(811)]}[n(3311)](){const t=n;this[t(736)][t(2197)](a[t(605)]).onSceneReady[t(324)](this[t(795)],this)}[n(3088)](){}[n(2785)](){const t=n;_0x2efcbc[t(446)]===this&&(_0x2efcbc[t(446)]=null);const e=this._gameMode;e&&(e[t(3039)](),this[t(811)]=null)}[n(795)](){const t=n,e=!this._hasProcessedInitialScene&&this[t(304)];if(this[t(3021)]=!0,e){const e=h.SceneManager[t(2216)],s=new(c[t(3595)])(e.currentScene);return void e[t(4125)](s)}let s=this.gameModeTemplate;s||(s=i[t(3768)][t(2216)].defaultGameMode,s)?this[t(811)]=o[t(3604)][t(1804)](s):console[t(4447)](t(4134))}}e.GameServerModule=_0x2efcbc},5737:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e[n(1980)]=e[n(1999)]=void 0;const i=s(1986),o=s(5518),a=s(8309),r=s(7600),c=s(5162),h=s(2379),l=s(1068);let d;class _0x4dfae0 extends o[n(3520)]{constructor(){const t=n;super(...arguments),this[t(3546)]=new(a[t(351)])(this,-1),this[t(331)]=[],this[t(3165)]=new l.DelegateP1,this.onPawnRemoved=new(l[t(1990)])}static get instance(){return this[n(446)]}get client(){return this[n(1602)]}get[n(1568)](){return this._gameModeTemplate}get[n(2004)](){return this[n(945)]}get[n(762)](){return this._pawnsExposed}get modules(){return this[n(906)]}[n(3488)](){const t=n;super[t(3488)](),_0x4dfae0[t(446)]=this,this[t(3061)]=this[t(331)],this[t(906)]=new(h[t(4296)])(this);const e=this[t(945)]=new(r[t(1232)])(this);e.onPlayerAdded[t(324)](this[t(1124)],this),e[t(3031)][t(324)](this[t(1454)],this),e.onPlayerControllerAdded.addListener(this[t(2317)],this),this._gameModeId[t(3757)][t(324)](this[t(4332)],this)}[n(2235)](){const t=n;super[t(2235)](),this[t(1602)]=i[t(1555)][t(2216)],this[t(906)][t(3088)](),this[t(3465)]?this.createLocalPlayers(this[t(945)]):console[t(4447)](t(891)+this._gameModeId[t(4158)]+".")}[n(610)](){const t=n;super[t(610)](),this[t(906)][t(2785)](),this[t(945)][t(1081)](),_0x4dfae0._instance===this&&(_0x4dfae0[t(446)]=null)}configure(t){const e=n;this._gameModeId[e(4158)]=t[e(3378)]}[n(3892)](t){t.createLocalPlayers()}addPawn(t){const e=n,s=this[e(331)];s.indexOf(t)>=0||(s[e(1757)](t),this[e(511)](t))}[n(3764)](t){const e=n;c.ArrayUtils[e(855)](this[e(331)],t)&&this[e(3283)](t)}onPawnAddedInternal(t){const e=n;this[e(3165)][e(2356)](t)}[n(3283)](t){this[n(3832)].safeInvoke(t)}[n(4332)](t){const e=n,s=d[e(1119)][e(2216)];this._gameModeTemplate=s[e(804)](t)}[n(1124)](t){}[n(1454)](t){}onPlayerControllerAddedInternal(t){}}e[n(1999)]=_0x4dfae0,_0x4dfae0[n(3311)](n(1999)),d=s(4618);class _0x4db000 extends h.Module{}e[n(1980)]=_0x4db000},5864:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(4255)]=void 0;const i=s(855);class _0x3850b3 extends i[n(1559)]{[n(4230)](t){}}e[n(4255)]=_0x3850b3},4950:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(4432)]=void 0;const i=s(1068),o=s(5737),a=s(8578),r=s(5518),c=s(4557),h=s(9988),l=s(6486);class _0x3ba132 extends r.NetworkBehavior{constructor(){const t=n;super(...arguments),this._playerState=new(c[t(3002)])(this,a[t(3631)]),this.onControllerChanged=new i.DelegateP2,this[t(4372)]=new(i[t(1990)])}get[n(3197)](){const t=n;return this[t(1365)][t(4158)]}get[n(2849)](){return this._controller}get[n(2501)](){return this[n(4045)]}construct(){const t=n;super[t(3488)](),this[t(1604)]=o[t(1999)].instance,this._playerState[t(3757)][t(324)](this[t(3585)],this),this._gameState&&this[t(1604)][t(1786)](this)}[n(610)](){const t=n;if(super[t(610)](),this[t(1347)](),this[t(1902)]){const e=this._playerState[t(4158)];e&&(console.assert(e[t(3393)]===this),e[t(2456)](null))}this[t(1604)]&&this[t(1604)][t(3764)](this)}tick(t){}setController(t){const e=n,s=this[e(939)];this[e(939)]=t,this[e(3220)](s)}[n(3856)](t,e=!1){const s=n;t!==this._playerState.value&&(e||l[s(3597)].isServer?this.setPlayerStateInternal(t,this[s(1365)][s(4158)],e):console[s(4447)]("Can't set player state of pawn: no server authority.",this))}[n(1116)](t,e,s){const i=n;this[i(4422)][i(4340)](null==t?void 0:t[i(1404)]),this[i(1365)][i(4158)]=t,e&&e[i(3393)]===this&&e[i(2456)](null,s),t&&t[i(2456)](this,s),this.onPlayerStateChangedInternal()}teleport(t,e){const s=n,i=this[s(2954)],o=i[s(1954)];o?o[s(3587)](t,e):(i[s(4345)](t),i.setRotation(e))}[n(4079)](t,e){const s=n,i=this[s(2954)][s(1954)];i&&(t&&(i.linearVelocity=t),e&&(i[s(1424)]=e))}[n(3676)](){const t=n;let e=this[t(4045)];return e||(e=this[t(4045)]=new h.InputListener,this.setUpPlayerInputListener(e),e)}destroyPlayerInputListener(){const t=n;this._inputListener&&(this[t(4045)].dispose(),this[t(4045)]=void 0)}[n(4153)](t){}onPossessionChangedInternal(t){const e=n;this.onControllerChanged.safeInvoke(this[e(939)],t)}onPlayerStateChangedInternal(){const t=n;this[t(4372)].safeInvoke(this[t(1365)][t(4158)])}onNetPlayerStateChanged(t,e){this[n(1116)](t,e,!0)}}e.Pawn=_0x3ba132},2908:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,"__esModule",{value:!0}),e[n(2295)]=e[n(533)]=void 0;const i=s(9600),o=s(872),a=s(9988),r=s(8207),c=s(8414),h=s(4536);class _0x58f4e4 extends i[n(402)]{constructor(){const t=n;super(...arguments),this[t(4170)]=new(r[t(323)]),this[t(3362)]=l[t(1623)]}get[n(956)](){return this[n(3362)]}set[n(956)](t){const e=n;t!==this[e(3362)]&&(this._inputMode=t,this[e(462)]())}get[n(2501)](){return this[n(4045)]}get[n(3955)](){return this[n(1248)]}[n(3488)](){const t=n,e=this[t(2597)]=new(a[t(2053)]),s=new(h[t(4259)])(null,-1,this[t(726)],this);e.addBinding(s),c[t(3581)][t(4471)].addListener(e),this[t(1052)](),o[t(525)].onAreMenusActiveChanged.addListener(this[t(462)],this)}[n(2235)](){this[n(462)]()}[n(610)](){const t=n;this._layeredInputListener[t(1081)](),this[t(4170)].isEnabled=!1,this[t(3158)](null),o.MenuStack[t(3041)][t(3491)](this[t(462)],this)}[n(1822)](){const t=n;this[t(3393)]&&this._inputBroadcaster[t(901)](),super[t(1822)]()}[n(3158)](t){const e=n;if(t===this._inputUser)return;this[e(1248)]=t;const s=this[e(2597)];s[e(3955)]=t,s[e(4171)]=!!t}addInputListener(t){const e=n;this._inputBroadcaster[e(324)](t)}removeInputListener(t){this[n(4170)].removeListener(t)}[n(1052)](){const t=n,e=this[t(4045)]=new(a[t(2053)]);this[t(2654)](e),this[t(868)](e)}[n(2654)](t){}[n(1909)](){const t=n;if(!((this.inputMode&l[t(1623)])>0))return!1;const e=(this[t(956)]&l.UI)>0;return!o[t(525)][t(2168)]||e}[n(462)](){const t=n;this._inputBroadcaster[t(4171)]=this[t(1909)]()}[n(3220)](t,e){const s=n;if(super[s(3220)](t,e),e){e[s(1176)].removeListener(this.onPawnDestroyed,this);const t=e[s(2501)];t&&(this.removeInputListener(t),e.destroyPlayerInputListener())}if(t){t[s(1176)][s(324)](this[s(1327)],this);const e=t[s(3676)]();e&&this[s(868)](e)}}onInputEvent(t){const e=n,s=this[e(4170)];s[e(4171)]&&s[e(749)](t)}[n(1327)](t){const e=n;console.assert(t===this[e(3393)]),this[e(1822)]()}}var l;e[n(533)]=_0x58f4e4,_0x58f4e4[n(3311)](n(533)),function(t){const e=n;t[t[e(1623)]=1]=e(1623),t[t.UI=2]="UI"}(l=e[n(2295)]||(e.InputMode={}))},7600:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(1232)]=void 0;const i=s(1068),o=s(5162),a=s(5171),r=s(7409),c=s(4964),h=s(8367),l=s(1402);class _0x512db8{constructor(t){const e=n;this._players=[],this[e(1903)]=this[e(2221)],this[e(2595)]=[],this[e(1508)]=this[e(2595)],this[e(4428)]=new Map,this._playerControllers=new Map,this[e(3726)]=new(i[e(1990)]),this.onPlayerRemoved=new i.DelegateP1,this[e(1470)]=new(i[e(1990)]),this[e(1604)]=t,_0x512db8[e(446)]=this}static get[n(2216)](){return this._instance}createLocalPlayers(){const t=n,e=a.InputManager[t(2216)][t(3132)];for(let t of e)this.createPlayer(t)}createPlayer(t){const e=n;this[e(562)](t);const s=r[e(1965)][e(1753)](c[e(3011)]);s[e(1876)](t),this[e(1604)].client[e(3303)].sendMessage(c[e(3514)].playerCreate,s,h[e(944)][e(1251)])}dispose(){const t=n;_0x512db8[t(446)]===this&&(_0x512db8[t(446)]=null),this[t(1470)].removeListeners(),this[t(3726)].removeListeners(),this[t(3031)].removeListeners()}[n(614)](t){const e=n;this[e(2221)].push(t),t.isLocalPlayer&&this._localPlayers[e(1757)](t);const s=t.client;if(s){let n=this._playersByClient[e(3155)](s);n||(n=[],this[e(4428)][e(2936)](s,n)),n[e(1757)](t)}else console[e(4273)](e(917),t);this[e(3726)][e(2356)](t),console[e(2045)](e(3874)+t[e(3773)]+'".',t)}removePlayer(t){const e=n,s=this._players[e(2614)](t);if(s<0)return;this[e(2221)][e(650)](s,1),o[e(1125)][e(855)](this._localPlayers,t);const i=t[e(1404)];if(i){const s=this._playersByClient[e(3155)](i);s&&o[e(1125)][e(855)](s,t)}t[e(3964)]&&(this[e(918)](t[e(2753)])[e(3695)](),this[e(3761)][e(1049)](t[e(2753)])),this[e(3031)][e(2356)](t),console.log(e(3045)+t[e(3773)]+'".',t)}[n(250)](t,e){const s=n,i=this[s(4428)].get(t);if(!i)return null;const o=i.length;for(let t=0;t<o;t++){const n=i[t];if(n[s(2753)]===e)return n}return null}[n(3830)](t,e){e||(e=[]);const s=this[n(4428)].get(t);if(!s)return e;const i=s.length;for(let t=0;t<i;t++)e.push(s[t]);return e}[n(562)](t){const e=n,s=t.id;if(this[e(918)](s))return console[e(4273)]("Can't create a player controller for local player "+s+" because one already exists."),null;const i=this[e(1604)][e(1568)],o=i[e(2602)];if(!o)return console[e(4273)](e(813)+i[e(3378)]+e(1573)),null;const a=l[e(3604)].instantiateScript(o);return a[e(3158)](t),this[e(3761)].set(s,a),this[e(2317)](a),a}getPlayerController(t){const e=n;return this[e(3761)][e(3155)](t)}[n(2317)](t){const e=n;this[e(1470)][e(2356)](t)}}e.PlayerRoom=_0x512db8},8578:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e.PlayerState=void 0;const i=s(5737),o=s(1068),a=s(5518),r=s(1515),c=s(8309),h=s(3784),l=s(7600),d=s(6486);class _0x184289 extends a[n(3520)]{constructor(){const t=n;super(...arguments),this[t(3441)]=new(c[t(351)])(this,-1),this[t(2679)]=new(c[t(351)])(this,-1),this[t(881)]=new r.NetString(this),this.onPawnChanged=new(o[t(2140)])}get[n(3773)](){const t=n;return this[t(881)][t(4158)]}get[n(3964)](){const t=n;var e;return null===(e=this._client)||void 0===e?void 0:e[t(3269)]}get[n(2753)](){return this[n(2679)].value}get[n(3393)](){return this._pawn}get[n(2849)](){return this[n(939)]}get[n(1404)](){return this[n(1602)]}[n(3488)](){const t=n;super[t(3488)](),this[t(1604)]=i.GameState[t(2216)],this._clientId[t(3757)][t(324)](this[t(505)],this),this._localId[t(3757)][t(324)](this.onNetLocalIdChanged,this)}[n(610)](){const t=n;super[t(610)]();const e=l[t(1232)][t(2216)];e&&e[t(1812)](this),this[t(939)]&&this[t(939)].playerState===this&&(this[t(939)][t(3197)]=null),d[t(3597)][t(1902)]&&this[t(491)]&&this._pawn[t(3197)]===this&&this[t(491)].setPlayerState(null)}[n(2235)](){const t=n;l.PlayerRoom[t(2216)].addPlayer(this)}[n(1876)](t,e){const s=n;d[s(3597)].isServer?(this._clientId[s(4158)]=e[s(4263)],this._localId[s(4158)]=t[s(2753)],this[s(881)][s(4158)]=s(2433)):console.error(s(3973))}setPawn(t,e=!1){const s=n;if(t===this[s(491)])return;if(!e&&!d[s(3597)][s(1902)])return void console[s(4447)](s(835),t,this);this._controller&&this[s(939)][s(3393)]&&this._controller[s(1822)]();const i=this[s(491)];this[s(491)]=t,i&&i[s(3197)]&&(console.assert(i[s(3197)]===this),i.setPlayerState(null,!0)),this[s(491)]&&(this[s(491)][s(3197)]!==this&&this._pawn[s(3856)](this),this[s(939)]&&this[s(939)][s(2681)](this[s(491)])),this[s(4010)](this[s(491)],i)}[n(4010)](t,e){const s=n;this.onPawnChanged[s(2356)](this,t,e)}onNetClientIdChanged(t){const e=n,s=h[e(2081)][e(2216)][e(2919)](t);s?(this[e(1602)]=s,this[e(4422)][e(4340)](s)):console[e(4273)](e(3292)+t+e(1274),this)}[n(1751)](t){const e=n;if(!this[e(3964)])return;const s=l[e(1232)][e(2216)];this._controller=s[e(918)](t),this[e(939)]?this[e(939)][e(3197)]=this:console[e(4273)](e(3007)+t+" exists.")}}e.PlayerState=_0x184289,_0x184289[n(3311)](n(3631))},3145:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e.HudComponent=void 0;const i=s(855),o=s(7956),a=s(2330);class _0x299ee9 extends i[n(1559)]{get[n(3265)](){return this[n(1438)]}get[n(3393)](){return this[n(491)]}construct(){const t=n,e=this[t(766)]=o[t(1904)][t(1560)](this[t(2954)],a[t(2322)]);e?e[t(3189)](this):console.error(t(3593)+this[t(2954)][t(3773)]+t(2372))}setPlayer(t){const e=n;if(t===this[e(1438)])return;const s=this[e(1438)];this[e(1438)]=t,this[e(756)](t,s)}setPawn(t){const e=n;if(t===this[e(491)])return;const s=this[e(491)];this[e(491)]=t,this[e(4010)](t,s)}[n(2003)](t){this[n(2434)](t)}notifyPawnChanged(t){this[n(2456)](t)}[n(756)](t,e){}[n(4010)](t,e){}}e[n(2480)]=_0x299ee9,_0x299ee9[n(3311)]("HudComponent")},3296:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(3326)]=void 0;const i=s(822),o=s(47),a=s(855),r=s(8411),c=s(8597);class _0x29098e extends i[n(3656)]{get[n(940)](){return this._hudRoot}static get[n(2216)](){const t=n;return i.Manager[t(2922)](_0x29098e)}[n(2235)](){const t=n,e=o[t(1711)][t(2216)];e[t(4068)][t(324)](this[t(1376)],this);const s=e[t(3686)](c[t(957)][t(2135)]);s&&this[t(1376)](s)}createHudRoot(t){const e=n;if(t.lifeTime!==c[e(957)][e(2135)])return;if(!this._hudRootTemplate)return void console[e(4273)](e(935));const s=t[e(4378)](e(2529));s||console.warn(e(1220),t),this._hudRoot=s.view[e(1182)](this[e(4117)])}[n(4429)](t){const e=n;this[e(2562)]&&(this[e(2562)][e(2954)].enabled=t)}}e[n(3326)]=_0x29098e,_0x29098e[n(3311)](n(3326),[new(a[n(3024)])(n(4117),{type:a[n(4031)][n(3330)],scriptType:r[n(1489)]})])},9386:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(1457)]=void 0;const i=s(3145);class _0x9af3a5 extends i[n(2480)]{}e[n(1457)]=_0x9af3a5,_0x9af3a5[n(3311)](n(1457))},8411:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(1489)]=void 0;const i=s(7128),o=s(7956),a=s(6195),r=s(1402);class _0x66af3 extends i[n(371)]{constructor(){const t=n;super(...arguments),this[t(1975)]=[]}static[n(2047)](t){const e=n;return this[e(848)][e(3155)](t)}construct(){const t=n;super.construct();const e=this[t(2942)]=o[t(1904)].getScriptInParent(this[t(2954)],a.UiRoot);if(!e)return void console[t(4447)]("No UI root attached to HUD.");const s=_0x66af3[t(848)],i=e[t(4205)];s[t(1374)](i)&&console[t(4273)](t(241)+i+"."),s.set(i,this)}[n(610)](){const t=n;if(this[t(2942)]){const e=this[t(2942)][t(4205)],s=_0x66af3[t(848)];s[t(3155)](e)===this&&s[t(1049)](e)}}[n(2530)](t,e){const s=n,i=r[s(3604)][s(1804)](t,this[s(2954)]);return this[s(1975)][s(1757)](i),i.configure(this,e),i}getHud(t){const e=n,s=this[e(1975)];for(let n=0;n<s[e(3171)];n++){const e=s[n];if(e instanceof t)return e}}}e[n(1489)]=_0x66af3,_0x66af3._instances=new Map,_0x66af3[n(3311)](n(1489))},2330:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e.Hud=void 0;const i=s(1402),o=s(855);class _0x2f6656 extends o[n(1559)]{constructor(){const t=n;super(...arguments),this[t(2198)]=[],this[t(1801)]=new Map}get[n(940)](){return this[n(2562)]}get[n(3265)](){return this._player}[n(1876)](t,e){const s=n;this[s(2562)]=t,this[s(1438)]=e}[n(610)](){this[n(2434)](void 0)}[n(2434)](t){const e=n;t!==this[e(1438)]&&(this[e(1438)]&&this[e(1438)].onPawnChanged[e(3491)](this[e(4010)],this),this[e(1438)]=t,this[e(1438)]&&this[e(1438)][e(4477)].addListener(this[e(4010)],this),this[e(756)](this._player))}[n(602)](t){const e=n,s=t.constructor;if(this[e(1801)][e(1374)](s))return void console[e(4447)]("Can't create HUD part instance of type \""+s[e(3773)]+e(3849));const o=i.TemplateUtils[e(1804)](t,this[e(2954)]);return o[e(1176)][e(324)](this[e(2505)],this),this._hudParts[e(2936)](s,o),o}[n(3370)](t){const e=n;return this[e(1801)][e(3155)](t)}[n(2505)](t){const e=n;this[e(1801)][e(1049)](t[e(3414)])}[n(3189)](t){const e=n,s=this[e(2198)];s.indexOf(t)>=0?console[e(4273)](e(2262),t):s[e(1757)](t)}[n(1854)](t){const e=n,s=this[e(2198)];for(let n=0;n<s[e(3171)];n++){const s=this[e(2198)][n];try{t(s)}catch(t){console[e(4447)](t)}}}[n(756)](t){const e=n;this.fireComponentEvent((e=>e.notifyPlayerChanged(t))),this[e(4010)](t,t?t[e(3393)]:void 0)}[n(4010)](t,e){const s=n;this.fireComponentEvent((t=>t[s(2721)](e)))}}e[n(2322)]=_0x2f6656,_0x2f6656[n(3311)](n(2322))},3136:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e[n(3768)]=void 0;const i=s(855),o=s(4618),a=s(8067),r=s(5257);class _0x47e1d7 extends i.Behavior{static get[n(2216)](){return this[n(446)]}[n(3488)](){const t=n;_0x47e1d7[t(446)]=this,o[t(1119)][t(2216)][t(1936)](this)}[n(598)](t){const e=n;for(let s of this[e(1893)])if(s&&(s[e(3414)]===t||s instanceof t))return s;return null}}e[n(3768)]=_0x47e1d7,_0x47e1d7[n(3311)]("WorldSettings",[new(i[n(3024)])(n(2363),{type:i[n(4031)][n(3330)],scriptType:a[n(278)]}),new(i[n(3024)])(n(1893),{scriptType:r[n(3534)],isArray:!0})])},5162:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(1125)]=void 0;const i=s(3338);e[n(1125)]=class _0x3edfdc{static[n(4262)](t,e){const s=n,i=e[s(3171)];for(let n=0;n<i;n++)t[s(1757)](e[n])}static remove(t,e){const s=n,i=t.indexOf(e);return!(i<0||(t[s(650)](i,1),0))}static[n(4326)](t){const e=n;t[e(650)](0,t[e(3171)])}static[n(2877)](t){const e=n;let s=t[e(3171)];for(;s>1;){const n=Math.floor(i[e(2930)][e(4261)](0,s));s--;const o=t[n];t[n]=t[s],t[s]=o}}}},5806:(t,e)=>{const s=a0_0x520a;Object.defineProperty(e,s(3500),{value:!0}),e[s(1078)]=void 0,e[s(1078)]=class _0x3f06f3{constructor(t,e=!0){const n=s;this[n(4213)]=0,this[n(1926)]=0,this[n(2744)]=0,this.allowOverflow=e,this.capacity=t,this[n(2039)]=new Array(t)}get[s(3171)](){return this[s(4213)]}get tail(){return this.get(0)}get head(){const t=s;return this[t(3155)](this[t(4213)]-1)}[s(1565)](t){const e=s;if(this._length===this[e(1645)]){if(!this.allowOverflow)return!1;this.removeFromTail()}return this[e(2039)][this[e(2744)]]=t,this[e(4213)]++,this._head=this[e(3962)](this[e(2744)],1),!0}removeFromTail(){const t=s;if(0===this[t(4213)])return null;const e=this[t(2039)][this[t(1926)]];return this[t(2039)][this[t(1926)]]=null,this[t(4213)]--,this[t(1926)]=this.getIndex(this[t(1926)],1),e}getIndex(t,e){return(t+e)%this[s(1645)]}get(t){const e=s;if(t<0||t>=this[e(4213)])throw new Error(e(3792));const n=this[e(3962)](this[e(1926)],t);return this[e(2039)][n]}set(t,e){const n=s;if(t<0||t>=this[n(4213)])throw new Error(n(3792));const i=this[n(3962)](this[n(1926)],t);this._buffer[i]=e}clear(){const t=s,e=this[t(4213)],n=this[t(1926)],i=this[t(2039)];for(let t=0;t<e;t++)i[this.getIndex(n,t)]=null;this[t(1926)]=0,this[t(2744)]=0,this[t(4213)]=0}}},2743:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(626)]=e[n(968)]=void 0;const i=s(6842);e.EnumerationMutableCollection=class _0x14e9c0{constructor(){const t=n;this[t(391)]=new i.LinkedList,this[t(966)]=new(i[t(2358)]),this[t(2969)]=new Set,this[t(2874)]=e=>this[t(855)](e),this[t(284)]=!1,this.enumerationPermissions=o[t(960)]|o[t(1925)],this[t(4241)]=new _0x5119ac(this[t(391)])}get[n(1941)](){const t=n;return this[t(391)][t(1941)]}get[n(516)](){const t=n;return this._items[t(516)]}get length(){const t=n;return this[t(391)][t(3171)]}[n(1565)](t){const e=n,s=this[e(391)][e(691)](t);return this[e(3367)](s)?s:void 0}[n(3367)](t){const e=n,s=this[e(391)],i=t[e(2069)];if(i===s)return!1;if(this[e(284)]){if(this[e(2969)][e(1049)](t))return!0;if(!this.hasEnumerationPermission(o.addition)){const s=this[e(966)];return i!==s&&(s[e(4268)](t),!0)}}return s[e(4268)](t),!0}[n(855)](t){const e=n,s=t[e(2069)],i=this[e(391)];if(!this._isEnumerating)return s===i&&(i.removeNode(t,!0),!0);if(s===i){if(this[e(502)](o[e(1925)])&&t!==this[e(4241)][e(3257)])return i[e(3469)](t,!0),!0;{const s=this[e(2969)];return!s[e(1374)](t)&&(s[e(1565)](t),!0)}}return s===this._pendingAdditions&&(this._pendingAdditions[e(3469)](t,!0),!0)}[n(3170)](t){const e=n;t!==this[e(284)]&&(this[e(284)]=t,t||this.processPendingOperations())}[n(2012)](){const t=n;if(this._isEnumerating)return console[t(4447)](t(1333),this),null;this[t(3170)](!0);const e=this[t(4241)];return e[t(3760)](),e}[n(4260)](){const t=n;this[t(284)]?(this[t(4241)][t(3760)](),this.setEnumerating(!1)):console[t(4273)](t(1487),this)}[n(3958)](){const t=n,e=this[t(2969)];e[t(2773)]>0&&(e[t(3855)](this[t(2874)]),e[t(4326)]());const s=this[t(966)];for(;s[t(3171)]>0;){const e=s.first;s.removeNode(e,!1),this[t(3367)](e)}}[n(502)](t){return 0!=(this.enumerationPermissions&t)}};class _0x5119ac{constructor(t){const e=n;this[e(3510)]=!1,this[e(3896)]=t}get[n(3257)](){return this[n(4302)]}get current(){const t=n;return this._currentNode[t(4158)]}[n(3760)](){const t=n;this[t(4302)]=void 0,this[t(3510)]=!1}moveNext(){const t=n;return this._hasStarted?this._currentNode&&!!(this._currentNode=this._currentNode.next):(this[t(3510)]=!0,!!(this[t(4302)]=this[t(3896)][t(1941)]))}}var o,a;(a=o=e[n(626)]||(e[n(626)]={}))[a[n(960)]=0]="addition",a[a.removal=1]="removal"},6842:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e.LinkedListNode=e[n(2358)]=void 0;const i=s(9609);class _0x5e78fb{constructor(){const t=n;this[t(4213)]=0,this[t(3086)]=0}get[n(1941)](){return this[n(2744)]}get[n(516)](){const t=n;return this[t(2744)]?this[t(2744)]._previous:null}get[n(3171)](){return this[n(4213)]}[n(1835)](t){const e=n;return this[e(2744)]?(this[e(3871)](this[e(2744)],t),this[e(2744)]=t):this[e(2956)](t),t}[n(907)](t){const e=n,s=this[e(3952)](t);return this[e(1835)](s),s}[n(4268)](t){const e=n;return this[e(2744)]?this[e(3871)](this[e(2744)],t):this[e(2956)](t),t}[n(876)](t){const e=this[n(3952)](t);return this.addNodeLast(e),e}addNodeBefore(t,e){const s=n;this[s(3603)](t),this[s(3871)](t,e),t===this[s(2744)]&&(this[s(2744)]=e)}addItemBefore(t,e){const s=n,i=this.prepareNode(e);return this[s(3338)](t,i),i}addNodeAfter(t,e){const s=n;this.validateNode(t);const i=t[s(296)];this[s(3871)](i,e)}addItemAfter(t,e){const s=this.prepareNode(e);return this.addNodeAfter(t,s),s}prepareNode(t){const e=n;if(!t)throw new Error(e(1423));const s=this[e(691)](t);return s.list=this,s}[n(2956)](t){const e=n;t._next=t,t[e(3392)]=t,this[e(2744)]=t,this[e(4213)]++,this[e(3086)]++,t[e(2069)]=this}[n(3871)](t,e){const s=n;e[s(296)]=t,e._previous=t[s(3392)],t._previous[s(296)]=e,t[s(3392)]=e,this[s(4213)]++,this[s(3086)]++,e[s(2069)]=this}[n(3346)](t,e){const s=n,i=this[s(2075)](t);return!!i&&(this[s(2686)](i,e),!0)}[n(3469)](t,e){this[n(3603)](t),this.removeInternal(t,e)}[n(2686)](t,e){const s=n;if(t[s(296)]===t)this[s(2744)]=null;else{const e=t[s(3392)],n=t[s(296)];e[s(296)]=n,n[s(3392)]=e,t===this._head&&(this[s(2744)]=n)}e?this.disposeNode(t):t[s(4326)](!0),this[s(4213)]--,this._version++}[n(4326)](t){const e=n;let s=this[e(2744)];for(;s;){const n=s[e(456)];t?this.disposeNode(s):s[e(4326)](!0),s=n}this[e(2744)]=null,this[e(4213)]=0,this[e(3086)]++}[n(3603)](t){const e=n;if(!t)throw new Error(e(2397));if(t[e(2069)]!==this)throw new Error("The node belongs to another linked list.")}[n(4420)](t){const e=n;t[e(4326)](!1),_0x5e78fb[e(4333)][e(1757)](t)}find(t){const e=n;if(!t)throw new Error(e(1449));const s=this._head;if(!s)return null;let i=s;for(;i[e(4158)]!==t;)if(i=i._next,i===s)return null;return i}[n(691)](t){const e=n,s=_0x5e78fb[e(4333)];let i;return s[e(3206)]>0?(i=s[e(2296)](),i[e(4158)]=t):i=new _0xe2e1d0(t),i}}e[n(2358)]=_0x5e78fb,_0x5e78fb._nodePool=new(i[n(3082)]);class _0xe2e1d0{constructor(t){this[n(4158)]=t}get[n(1752)](){const t=n;return this._previous&&this!==this[t(2069)].first?this[t(3392)]:null}get[n(456)](){const t=n;return this[t(296)]&&this[t(296)]!==this[t(2069)].first?this[t(296)]:null}[n(4326)](t){const e=n;this.list=null,this[e(296)]=null,this._previous=null,t||(this.value=null)}}e[n(3372)]=_0xe2e1d0},6020:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,s(3500),{value:!0}),e[s(386)]=void 0;class _0xbb223a{constructor(t=4){const e=s;this[e(3260)]=0,this[e(4213)]=0,this[e(1926)]=0,this[e(2744)]=0,this[e(2302)](new Array(t))}get[s(3171)](){return this[s(4213)]}[s(2853)](){const t=s,e=this[t(3260)]+1;let n=Math[t(2252)](this[t(3260)]*_0xbb223a[t(3657)]);for(;n<e;)n=Math[t(2252)](n*_0xbb223a._growFactor);const i=new Array(n),o=this._buffer,a=o[t(3171)];for(let t=0;t<a;t++){const e=this.getIndex(this._tail,t);i[t]=o[e]}this[t(1926)]=0,this[t(2744)]=a,this[t(2302)](i)}[s(2302)](t){const e=s;this._buffer=t,this[e(3260)]=t[e(3171)]}[s(3962)](t,e){return(t+e)%this[s(3260)]}[s(3155)](t){const e=s;if(t<0||t>=this[e(4213)])throw new Error("Argument out of range.");const n=this[e(3962)](this[e(1926)],t);return this._buffer[n]}[s(1951)](t){const e=s;this[e(4213)]===this[e(3260)]&&this[e(2853)](),this[e(2039)][this._head]=t,this[e(2744)]=this.getIndex(this[e(2744)],1),this._length++}[s(1112)](){const t=s;if(0===this._length)throw new Error("Queue is empty.");const e=this._buffer[this._tail];return this[t(2039)][this[t(1926)]]=null,this._length--,this[t(1926)]=this[t(3962)](this[t(1926)],1),e}[s(3122)](){const t=s;if(0===this[t(4213)])throw new Error(t(2795));return this._buffer[this[t(1926)]]}[s(4326)](){const t=s,e=this[t(4213)],n=this[t(1926)];for(let s=0;s<e;s++){const e=this[t(3962)](n,s);this[t(2039)][e]=null}this[t(4213)]=0,this[t(1926)]=0,this[t(2744)]=0}}e[s(386)]=_0xbb223a,_0xbb223a[s(3657)]=2.5},3129:(t,e)=>{const s=a0_0x520a;Object.defineProperty(e,s(3500),{value:!0}),e[s(3976)]=void 0;class _0x4cd3cc{constructor(t){this[s(352)]=t}get[s(3171)](){const t=s;return this._array[t(3171)]}*[Symbol[s(2510)]](){const t=s,e=this[t(352)],n=e[t(3171)];for(let t=0;t<n;t++)yield e[t]}[s(3155)](t){return this[s(352)][t]}[s(3515)](t){const e=s;return this._array[e(2614)](t)>=0}[s(2614)](t){const e=s;return this[e(352)][e(2614)](t)}[s(3710)](){const t=s,e=[],n=this[t(352)],i=n[t(3171)];for(let s=0;s<i;s++)e[t(1757)](n[s]);return e}}e[s(3976)]=_0x4cd3cc},9609:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,"__esModule",{value:!0}),e[s(3082)]=void 0;class _0x156f93{constructor(){const t=s;this[t(391)]=[],this.items=this[t(391)]}get[s(3206)](){const t=s;return this[t(391)][t(3171)]}[s(1757)](t){this[s(391)].push(t)}pop(){const t=s,e=this[t(391)],n=e[t(3171)];if(0===n)throw new Error(_0x156f93._msgStackEmpty);const i=n-1,o=e[i];return e.splice(i,1),o}[s(3122)](){const t=s,e=this._items,n=e.length;if(0===n)throw new Error(_0x156f93[t(2458)]);return e[n-1]}[s(3515)](t){return this[s(391)].indexOf(t)>=0}[s(4326)](){const t=s;this[t(391)][t(650)](0,this[t(391)][t(3171)])}}e[s(3082)]=_0x156f93,_0x156f93[s(2458)]="Stack is empty."},1068:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(2140)]=e[n(2503)]=e[n(1990)]=e[n(299)]=e[n(4215)]=void 0;const i=s(6020);class _0x51e3cd{constructor(t,e,s){const i=n;this.id=t,this[i(2584)]=e,this.target=s}equals(t,e){return t===this[n(2584)]&&e===this.target}}class _0x5618fd{constructor(){this[n(2431)]=-1}[n(2311)](){const t=n;this[t(706)]||(this[t(706)]=[],this._listenerIds=new Set)}[n(324)](t,e=null){const s=n;if(!t)throw new Error(s(724));const i=new _0x51e3cd(++this._lastListenerId,t,e);this.lazyInit(),this[s(706)][s(1757)](i),this[s(1428)].add(i.id)}removeListener(t,e=null){const s=n;if(!t)throw new Error(s(2916));this[s(2311)]();const i=this[s(1428)],o=this._listeners;for(let n=0;n<o.length;n++){const a=o[n];a[s(3971)](t,e)&&(o[s(650)](n--,1),i[s(1049)](a.id))}}removeListeners(){const t=n,e=this[t(706)];e&&(e.splice(0,e[t(3171)]),this[t(1428)][t(4326)](),this._lastListenerId=-1)}[n(1741)](t,e,s){const i=n;s?this[i(324)](t,e):this[i(3491)](t,e)}[n(340)](t,e=null){const s=n,i=this._listeners;if(!i)return!1;const o=i[s(3171)];for(let s=0;s<o;s++)if(i[s].equals(t,e))return!0;return!1}hasListeners(){const t=n;return this[t(706)]&&this[t(706)][t(3171)]>0}[n(840)](t,e){const s=n;let i;this[s(2311)]();const o=this._listenerIds,a=this[s(3869)]();for(;a.length>0;){const n=a[s(1112)]();if(o[s(1374)](n.id))try{i=t?n[s(2584)][s(1142)](n[s(3873)],...t):n[s(2584)][s(1142)](n[s(3873)])}catch(t){if(!e)throw this[s(3188)](a),t;console[s(4447)](t)}}return this[s(3188)](a),i}[n(3869)](){const t=n,e=_0x5618fd[t(959)],s=e[t(3171)]>0?e[t(2296)]():new(i[t(386)]);s[t(4326)]();const o=this[t(706)],a=o[t(3171)];for(let t=0;t<a;t++){const e=o[t];s.enqueue(e)}return s}[n(3188)](t){const e=n;t.clear(),_0x5618fd[e(959)][e(1757)](t)}}e[n(4215)]=_0x5618fd,_0x5618fd._invocationQueuePool=[],_0x5618fd.prototype.on=_0x5618fd[n(495)][n(324)],_0x5618fd[n(495)][n(1377)]=_0x5618fd[n(495)][n(3491)],e[n(299)]=class _0x3b82f0 extends _0x5618fd{[n(3751)](){this[n(840)](null,!1)}[n(2356)](){this[n(840)](null,!0)}},e.DelegateP1=class _0x8abce2 extends _0x5618fd{[n(3751)](t){this[n(840)](arguments,!1)}safeInvoke(t){this.invokeInternal(arguments,!0)}},e.DelegateP2=class _0x3a6d55 extends _0x5618fd{[n(3751)](t,e){this[n(840)](arguments,!1)}safeInvoke(t,e){this[n(840)](arguments,!0)}},e.DelegateP3=class _0x1882a5 extends _0x5618fd{[n(3751)](t,e,s){this[n(840)](arguments,!1)}[n(2356)](t,e,s){this[n(840)](arguments,!0)}}},9173:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e[n(3763)]=void 0;const i=s(6849),o=s(6943),a=s(3626),r=s(3338);class _0x3ea338 extends i[n(3691)]{[n(3311)](){const t=n;super[t(3311)](),this[t(2954)][t(3490)].renderTarget=this[t(707)]()}[n(707)](){const t=n,e=this[t(2036)][t(2379)];return new(r[t(1967)])({depth:!0,flipY:!0,samples:2,colorBuffer:e})}}e.CameraRenderTextureSetter=_0x3ea338,_0x3ea338[n(3311)](n(3763),[new(o[n(3024)])(n(2036),{type:o[n(4031)][n(3330)],scriptType:a[n(3798)]})])},929:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(4357)]=void 0;const i=s(6229),o=s(3338);class _0xd87733 extends i[n(4143)]{[n(1326)](){return o[n(1814)]}getTarget(){const t=n;return this[t(2954)][t(2209)]}[n(4025)](t,e){t[n(2379)]=e}}e[n(4357)]=_0xd87733,_0xd87733[n(3311)]("ElementRenderTextureSetter")},6229:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e[n(4143)]=void 0;const i=s(6849),o=s(6943),a=s(3626);class _0x5bc2df extends i.Script{initialize(){const t=n;super[t(3311)](),this._targetClass=this[t(1326)]();const e=this[t(2881)]();if(!e)return void console[t(4273)](this[t(1303)](t(2766)+this[t(1760)][t(3773)]+" is present."));const s=this[t(2036)];s?this[t(4025)](e,s[t(2379)]):console[t(4273)](this.getFormattedErrorMessage(t(1787)))}getFormattedErrorMessage(t){const e=n;return"Can't apply render texture to "+this[e(1760)][e(3773)]+e(905)+this[e(2954)].name+e(2566)+t}}e.RenderTextureSetter=_0x5bc2df,_0x5bc2df[n(3311)]("RenderTextureSetter",[new(o[n(3024)])(n(2036),{type:o[n(4031)][n(3330)],scriptType:a[n(3798)]})])},1846:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(1361)]=void 0;const i=s(822),o=s(855),a=s(1465),r=s(538);class _0x54aeb1 extends o.SerializableStruct{}_0x54aeb1.addAttributes([new(o[n(3024)])(n(4136),{type:o[n(4031)].boolean}),new o.Attribute(n(3138),{type:o[n(4031)][n(1311)],default:60})]);class _0x1610ab extends i.Manager{constructor(){const t=n;super(...arguments),this[t(1188)]=0,this[t(2862)]=0,this[t(802)]=0}static get[n(2216)](){const t=n;return i[t(3656)][t(2922)](_0x1610ab)}get framesPerSecond(){return this[n(802)]}[n(890)](){const t=n;super[t(890)](),this.initializeFullscreen();const e=this[t(2730)];if(e.enableLimit){const s=this[t(4474)];s[t(1408)]=!1,setInterval((function(){s[t(2493)]=!0}),1e3/e[t(3138)])}}[n(1339)](){this[n(3178)]()}[n(3178)](){const t=n;(this[t(1188)]+=a[t(289)][t(2745)])>=1&&(this._fpsTimer-=1,this[t(802)]=this._frameCounter,this[t(2862)]=0),this[t(2862)]++}[n(769)](){const t=n;this[t(3723)]&&r[t(3660)][t(2567)]&&(r.default[t(527)]("fullscreenchange",this[t(4060)][t(4467)](this),!1),r[t(3660)][t(527)](t(1544),this.onFullscreenError[t(4467)](this),!1),r[t(3660)][t(4124)](this.app[t(1931)][t(1707)]));const e=document.createElement(t(1308));document[t(4017)][t(3746)](e),e[t(1137)]=t(3913)}onFullscreenChanged(){const t=n;null!==r[t(3660)][t(2260)]?console.log(t(1948)):console[t(2045)]("Exited fullscreen mode")}[n(3453)](t){const e=n;console.error(e(3647),t)}}e.GraphicsManager=_0x1610ab,_0x1610ab[n(3311)](n(1361),[new(o[n(3024)])(n(3723),{type:o[n(4031)][n(3836)]}),new(o[n(3024)])(n(2730),{customType:_0x54aeb1})])},3626:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e[n(3798)]=void 0;const i=s(6849),o=s(6943),a=s(3338),r=s(3338);class _0x3f5131 extends i.Script{get[n(2379)](){return this[n(253)]}[n(4369)](){this[n(1631)]()}[n(1631)](){const t=n,e=this[t(3811)],s=a[t(1461)].getApplication();this._texture=new(a[t(3636)])(s[t(1931)],{width:e.x,height:e.y,format:r.PIXELFORMAT_R8_G8_B8_A8,mipmaps:!0,minFilter:r[t(1179)],magFilter:r.FILTER_LINEAR})}}e[n(3798)]=_0x3f5131,_0x3f5131[n(3311)](n(3798),[new(o[n(3024)])(n(3811),{type:o[n(4031)][n(4174)],default:new(a[n(1772)])(512,512)})])},4787:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,"__esModule",{value:!0}),e[s(3368)]=void 0,e[s(3368)]=class _0x533012{constructor(t){const e=s;this[e(3471)]=!0,this[e(292)]=t}[s(4104)](t){const e=s;this[e(4379)]=t[e(3562)]}[s(3517)](t,e){const n=s;if(!this[n(3471)])return;const i=e.getAction(this[n(4379)]);if(!i)return void console[n(4447)]("Failed to find action for binding.");let o;try{o=this._getValueDelegate(t)}catch(t){return void console.error(t)}i.pushValue(o)}}},7072:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,"__esModule",{value:!0}),e.Keyboard=void 0;const i=s(7681),o=s(3338);class _0xf1fac1 extends i[n(4187)]{constructor(){const t=n;super(),this[t(4449)]=o[t(1461)].getApplication()}[n(2316)](t){return this[n(4449)].keyboard.isPressed(t)}}e[n(929)]=_0xf1fac1},3669:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e[n(1139)]=void 0;const i=s(7681),o=s(3338),a=s(3338);class _0x9cde21 extends i[n(4187)]{constructor(){const t=n;super(),this[t(3230)]=new o.Vec2,this[t(1732)]=new(o[t(1772)]),this[t(2663)]=new(o[t(1772)]);const e=o.Application.getApplication(),s=this[t(2494)]=e.mouse;s[t(4324)](),s.on(a[t(3744)],this.updatePosition,this),s.on(a[t(941)],this.onMouseMove,this),s.on(a[t(4358)],this[t(2481)],this)}get[n(639)](){return this[n(3230)]}get[n(1526)](){return this[n(2663)]}[n(3517)](){const t=n;super[t(3517)](),this[t(2663)][t(3172)](this[t(1732)]),this[t(1732)][t(2936)](0,0)}[n(2481)](t){this._position.set(t.x,t.y)}isPressed(t){const e=n;return this._mouse[e(3598)](t)}[n(1068)](t){const e=n;return this._mouse[e(1068)](t)}[n(2129)](t){const e=n;return this[e(2494)][e(2129)](t)}[n(2020)](t){const e=n;this.updatePosition(t);const s=this[e(1732)];s.x+=t.dx,s.y+=t.dy}}e[n(1139)]=_0x9cde21},2285:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e[n(3919)]=e[n(3810)]=e.UiInputDevice=void 0;const i=s(855),o=s(7681),a=s(3338),r=s(3257),c=s(5171),h=s(1065);class _0x20009a extends o[n(4187)]{constructor(){const t=n;super(),this[t(477)]=new Map,this[t(2366)]=new(a[t(1561)]),_0x20009a[t(446)]=this}static get[n(2216)](){return this[n(446)]}[n(2643)](t){const e=n,s=c[e(2577)][e(2216)].users,i=t.userIndex;if(i<0||i>s[e(3171)]-1)return!1;const o=s[i],a=o[e(1754)];if(!a)return!1;const r=a[e(2531)](t[e(4379)]);if(!r)return!1;let l=this._elementsByAction[e(3155)](r);if(l||(l=[],this[e(477)].set(r,l)),l[e(2614)](t)>=0)return console[e(4273)](e(4220),t),!1;l.push(t),t.on(h[e(3321)][e(3039)],(()=>this[e(1594)](t))),t[e(1675)](o,r)}[n(2622)](t){const e=n,s=this[e(2366)];s.set(0,0,0);const i=this[e(477)][e(3155)](t);if(!i)return s;const o=i[e(3171)];for(let t=0;t<o;t++){const n=i[t];s[e(1565)](n[e(3381)])}return s}[n(1594)](t){const e=n,s=t[e(3794)];this._elementsByAction[e(1049)](s)}}e[n(3502)]=_0x20009a;class _0x541b5f extends i[n(1559)]{get[n(2209)](){return this[n(2523)]}get[n(3794)](){return this[n(3385)]}get[n(4379)](){return this[n(1235)]}get userIndex(){return this[n(2888)]}[n(3488)](){const t=n;this[t(2523)]=this.getComponent(a[t(1814)])}postConstruct(){const t=n,e=_0x20009a[t(2216)];e?e[t(2643)](this):console[t(4273)]("Couldn't find a UI input device to register with.",this)}[n(1675)](t,e){this[n(3385)]=e}}e[n(3810)]=_0x541b5f,_0x541b5f.initialize("UiInputElement",[new i.Attribute(n(2888),{type:i.AttributeType[n(1311)],title:n(4217),description:n(4167)}),new(i[n(3024)])("_actionPath",{type:i[n(4031)][n(990)],title:n(2851)})]);class _0x3bfd2b extends _0x541b5f{constructor(){const t=n;super(...arguments),this[t(2210)]=!1,this._isMouseDown=!1}get[n(3381)](){const t=n;return this[t(2210)]||this[t(1764)]?this[t(1981)]:this[t(827)]}[n(3488)](){const t=n;super.construct();const e=this.element;e.on(r[t(1373)][t(4313)],this[t(1515)],this),e.on(r[t(1373)][t(1287)],this[t(1509)],this),this.app[t(1765)]&&(e.on(r.UiInputEventType[t(3843)],this.onTouchStart,this),e.on(r.UiInputEventType[t(328)],this.onTouchEnd,this))}onMouseDown(){this._isMouseDown=!0}[n(1509)](){this[n(1764)]=!1}onTouchStart(){this[n(2210)]=!0}[n(257)](){this[n(2210)]=!1}}e[n(3919)]=_0x3bfd2b,_0x3bfd2b[n(3311)]("PlayerInputButton",[new(i[n(3024)])(n(827),{title:n(1540),type:i[n(4031)][n(2304)]}),new(i[n(3024)])(n(1981),{title:n(1934),type:i[n(4031)].vec3})])},4442:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e[n(2907)]=void 0;const i=s(6724),o=s(1068),a=s(3129),r=s(1874);class _0x2efb16{constructor(t,e){const s=n;this[s(4344)]=[],this[s(4029)]=new a.ReadOnlyArray(this[s(4344)]),this[s(726)]=new(o[s(1990)]),this[s(3954)]=t,this[s(881)]=e}get id(){return this._id}get name(){return this[n(881)]}[n(2111)](t){const e=n,s=new(r[e(3717)])(this[e(3954)],this[e(4344)][e(3171)],this[e(881)]+"/"+t),o=new i.InputAction(t,s);return this.addActionInternal(o),o}addActionInternal(t){const e=n;t[e(726)][e(324)](this[e(4472)],this),this[e(4344)].push(t)}[n(2531)](t){const e=n;if(Number.isInteger(t)){const s=t;return s<0||s>this[e(4344)][e(3171)]-1?null:this._actions[s]}const s=t;for(let t of this[e(4344)])if(t[e(3773)]===s)return t;return null}[n(2792)](){const t=n,e=new _0x2efb16(this[t(3954)],this[t(881)]);for(const s of this[t(4344)])e[t(3928)](s[t(2792)]());return e}onInputEventInternal(t){const e=n;this[e(726)][e(3751)](t)}}e[n(2907)]=_0x2efb16},1874:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,s(3500),{value:!0}),e[s(3717)]=void 0,e[s(3717)]=class _0xd70916{constructor(t,e,n){const i=s;this[i(1566)]=t,this[i(3727)]=e,this[i(1587)]=n}[s(3668)](){const t=s;return this[t(3727)]<<8|this[t(1566)]}}},6724:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(496)]=void 0;const i=s(1813),o=s(3338),a=s(8410),r=s(7740),c=s(2101),h=s(1068);class _0x4515b9{constructor(t,e){const s=n;this[s(503)]=new(o[s(1561)]),this[s(3716)]=new o.Vec3,this[s(2626)]=new c.InputEventBroadcaster,this[s(1420)]=!1,this._hasReceivedInputThisFrame=!1,this[s(3325)]=!0,this.deadZone=.001,this[s(726)]=new(h[s(1990)]),this.name=t,this[s(3562)]=e,this._inputEvent=new a.InputEvent}get[n(4158)](){return this[n(503)]}[n(4408)](){this.processBufferedValue()}[n(2463)](){const t=n;this[t(4089)](),this._hasReceivedInputThisFrame!==this[t(1420)]&&this[t(1663)](this[t(2554)]),this[t(2554)]=!1,this._isActive&&this[t(1394)](r.InputEventType.performed)}[n(4089)](){const t=n;this[t(503)].x=this[t(3716)].x,this._value.y=this._bufferedValue.y,this[t(503)].z=this._bufferedValue.z,this._bufferedValue.x=0,this[t(3716)].y=0,this[t(3716)].z=0}[n(1550)](t){const e=n;return this[e(3325)]?i[e(3866)][e(3464)](t,-1,1):t}[n(1663)](t){const e=n;t!==this._isActive&&(this._isActive=t,this[e(1420)]?this[e(1394)](r[e(3083)][e(233)]):this[e(1394)](r[e(3083)][e(1392)]))}[n(476)](t=0,e=0,s=0){const i=n;let a,r,c=0;!0===t||!1===t?a=t?1:0:t instanceof o.Vec2?(a=t.x,r=t.y):t instanceof o[i(1561)]?(a=t.x,r=t.y,c=t.z):(a=t,r=e,c=s),this[i(3716)].x=this[i(1550)](this[i(3716)].x+a),this[i(3716)].y=this.clampAxisValue(this[i(3716)].y+r),this._bufferedValue.z=this[i(1550)](this._bufferedValue.z+c);const h=this[i(2417)];(Math[i(961)](a)>h||Math.abs(r)>h||Math[i(961)](c)>h)&&(this[i(2554)]=!0)}[n(2792)](){const t=n,e=new _0x4515b9(this[t(3773)],this[t(3562)]);return e[t(3325)]=this[t(3325)],e}[n(1394)](t){const e=n,s=this._inputEvent;s[e(1876)](this,t),this[e(2626)][e(2353)](s),this[e(726)].safeInvoke(s)}[n(324)](t,e,s){this._inputEventBroadcaster.addListener(t,e,s)}[n(3491)](t,e,s){const i=n;this[i(2626)][i(3491)](t,e,s)}equals(t){const e=n;return t[e(3562)].getHashCode()===this[e(3562)][e(3668)]()}}e[n(496)]=_0x4515b9},4536:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e.InputBinding=void 0;const i=s(6724);e[n(4259)]=class _0x2a498c{constructor(t,e,s,o){const a=n;this[a(739)]=!0,this.actionPath=t instanceof i.InputAction?t[a(3562)][a(1587)]:t,this[a(3949)]=e,this.callback=s,this.context=o}fire(t){const e=n;try{this[e(3213)][e(1142)](this[e(1946)],t),this.consumeInput&&t[e(405)]()}catch(t){console.error(t)}}}},8207:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e[n(323)]=void 0;const i=s(5162),o=s(9432);class _0x46d270{constructor(){const t=n;this[t(706)]=[],this[t(3492)]=new Set,this[t(2464)]=new o.InputEventSequencer((e=>{this[t(4395)](e,!0)}))}get[n(4171)](){return this[n(2464)].isEnabled}set[n(4171)](t){this[n(2464)].isEnabled=t}[n(324)](t){const e=n;this._listeners[e(2614)](t)>=0||(this._listeners[e(650)](0,0,t),this[e(3492)][e(1565)](t),t[e(1675)](this))}[n(3491)](t){const e=n,s=this._listeners.indexOf(t);s<0||(this[e(706)][e(650)](s,1),this[e(3492)].delete(t),t[e(1430)](this))}cancelInput(){const t=n;this[t(2464)][t(901)]()}[n(749)](t){this[n(4395)](t,!1)}[n(4395)](t,e){const s=n;if(!this[s(4171)])return;if(!e&&!this._eventSequencer.evaluateInputEvent(t))return;const o=this[s(706)],a=this._listenersHashed,r=_0x46d270[s(4418)],c=_0x46d270[s(3637)];i[s(1125)][s(4326)](c),i.ArrayUtils[s(4262)](c,o);const h=c[s(3171)];for(let e=0;e<h&&!t.isConsumed;e++){const n=c[e];if(!a[s(1374)](n))continue;if(!n[s(4171)])continue;const o=n[s(3955)];if(o&&o!==t[s(740)])continue;i[s(1125)][s(4326)](r),n[s(2533)](t.action,r);const h=r[s(3171)];for(let e=0;e<h&&!t[s(2469)];e++){const n=r[e];0!=(n.eventType&t[s(2403)])&&n[s(949)](t)}}i[s(1125)][s(4326)](c),i[s(1125)][s(4326)](r)}}e[n(323)]=_0x46d270,_0x46d270[n(3637)]=[],_0x46d270[n(4418)]=[]},1067:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e[n(3532)]=void 0;const i=s(4787);e[n(3532)]=class _0xda1c83{constructor(t,e){const s=n;this[s(1187)]=[],this[s(3809)]=this[s(1187)],this[s(3773)]=t,this[s(1272)]=e}[n(2564)](t,e){const s=n;for(const n of e)this[s(3468)](t,n)}[n(3468)](t,e){const s=n;return e instanceof i[s(3368)]||(e=new(i[s(3368)])(e)),e[s(4104)](t),this[s(1187)][s(1757)](e),e}}},7681:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,s(3500),{value:!0}),e[s(4187)]=void 0,e[s(4187)]=class _0x2aeb2a{constructor(){const t=s;this._inputUsers=[],this[t(3074)]=this[t(3950)]}[s(3517)](){}addUser(t){const e=s,n=this[e(3950)];n[e(2614)](t)>=0?console[e(4273)]("Can't add input user to input device because the user has already been added.",t,this):n.push(t)}[s(2422)](t){const e=s,n=this._inputUsers,i=this._inputUsers.indexOf(t);return!(i<0||(n[e(650)](i,1),0))}[s(3690)](){const t=s;return this.constructor[t(3773)]}}},2101:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(2607)]=void 0;const i=s(1068);e[n(2607)]=class _0x529a8e{constructor(){this[n(3107)]=new Map}[n(324)](t,e,s){this[n(1741)](t,e,s,!0)}[n(3491)](t,e,s){this[n(1741)](t,e,s,!1)}setListener(t,e,s,i){this[n(4232)](t,!0).setListener(e,s,i)}getDelegate(t,e){const s=n;let o=this[s(3107)][s(3155)](t);return!o&&e&&(o=new(i[s(1990)]),this[s(3107)].set(t,o)),o}broadcastEvent(t){const e=n,s=this[e(4232)](t[e(2403)],!1);s&&s[e(2356)](t)}}},9432:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(1971)]=void 0;const i=s(7740),o=s(8410),a=s(9609);class _0x492521{constructor(t){const e=n;this[e(341)]=new Set,this._isEnabled=!0,this[e(4391)]=!0,this[e(2702)]=t}get[n(4171)](){return this._isEnabled}set[n(4171)](t){const e=n;t!==this[e(3793)]&&(t||this[e(901)](),this[e(3793)]=t)}[n(4055)](t){const e=n;switch(t[e(2403)]){case i[e(3083)][e(233)]:this[e(341)][e(1565)](t[e(3794)]);break;case i[e(3083)][e(1392)]:this[e(341)][e(1049)](t[e(3794)])}}[n(3440)](t){const e=n;return!!this[e(377)](t)&&(this[e(4055)](t),!0)}[n(377)](t){const e=n,s=t[e(3794)],o=this[e(341)][e(1374)](s);switch(t.type){case i[e(3083)][e(233)]:return!o;case i[e(3083)][e(1392)]:return o;case i[e(3083)].performed:if(!o){if(!this.insertStartEvents)return!1;this[e(558)](s,i[e(3083)].started)}return!0;default:return!1}}fireInputEvent(t,e){const s=n,i=o[s(4319)][s(3282)]();i.configure(t,e),this.trackInputEvent(i);try{this._inputEventCallback(i)}catch(t){console[s(4447)](t)}i[s(1081)]()}[n(901)](){const t=n,e=this[t(341)];if(0===e.size)return;const s=_0x492521._inputActionBufferPool,o=s[t(3206)]>0?s[t(2296)]():[];for(const s of e)o[t(1757)](s);const a=o.length;for(let e=0;e<a;e++){const s=o[e];this[t(558)](s,i[t(3083)][t(1392)])}o[t(650)](0,a),s[t(1757)](o)}}e[n(1971)]=_0x492521,_0x492521._inputActionBufferPool=new(a[n(3082)])},7740:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,s(3500),{value:!0}),e[s(3083)]=void 0,function(t){const e=s;t[t[e(233)]=1]=e(233),t[t.stopped=2]=e(1392),t[t.performed=4]=e(1940)}(e[s(3083)]||(e.InputEventType={}))},8410:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e[n(4319)]=void 0;const i=s(7740),o=s(9609);class _0xd3a744{constructor(){this[n(999)]=!1}get action(){return this._action}get type(){return this[n(1643)]}get[n(4158)](){return this[n(3794)].value}get[n(2469)](){return this[n(999)]}[n(1876)](t,e){const s=n;this[s(3385)]=t,this[s(1643)]=e,this[s(999)]=!1}[n(405)](){this._isConsumed=!0}dispose(){const t=n;this[t(3385)]=null,this._type=i[t(3083)].started,this[t(999)]=!1,_0xd3a744._pool[t(1757)](this)}static getEmpty(){const t=n,e=this._pool;return e[t(3206)]>0?e[t(2296)]():new _0xd3a744}}e[n(4319)]=_0xd3a744,_0xd3a744[n(852)]=new o.Stack},6199:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(1987)]=void 0;const i=s(9988);e[n(1987)]=class _0x19c611{constructor(t){const e=n;this[e(706)]=[],this[e(3853)]=t}createListener(t=null){const e=n,s=new(i[e(2053)])(t);return this[e(3853)][e(324)](s),this[e(706)][e(1757)](s),s}[n(2627)](t=null){const e=n,s=this[e(706)],i=s[e(3171)];for(let n=0;n<i;n++){const i=s[n];if(i[e(3955)]===t)return i}return this[e(1215)](t)}[n(1081)](){const t=n,e=this[t(706)],s=e[t(3171)];for(let n=0;n<s;n++)e[n][t(1081)]()}}},9988:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e[n(2053)]=void 0;const i=s(4536),o=s(6842);e[n(2053)]=class _0x404ed0{constructor(t){const e=n;this[e(1187)]=new(o[e(2358)]),this[e(1146)]=new Map,this[e(3203)]=[],this[e(4171)]=!0,this[e(3955)]=t}[n(3468)](t){const e=n,s=this[e(1187)][e(876)](t);let i;const o=t.actionPath;o?(i=this[e(1146)][e(3155)](o),i||this[e(1146)][e(2936)](o,i=[])):i=this[e(3203)],i.push(s)}[n(3895)](t,e,s,o){const a=n,r=new(i[a(4259)])(t,e,s,o);return this[a(3468)](r),r}[n(1295)](t,e,s,i){const o=n,a=t?this[o(1146)][o(3155)](t):this[o(3203)];if(!a)return;const r=this[o(1187)],c=a[o(3171)];for(let t=0;t<c;t++){const n=a[t],c=n[o(4158)];c[o(3949)]===e&&c.callback===s&&c.context===i&&(a[o(650)](t--,1),r.removeNode(n,!0))}}getBindings(t,e){const s=n;if(e||(e=[]),t){const n=this[s(1146)].get(t[s(3562)][s(1587)]);if(n){const t=n.length;for(let i=0;i<t;i++){const t=n[i];e[s(1757)](t[s(4158)])}}}const i=this[s(3203)],o=i.length;for(let t=0;t<o;t++){const n=i[t];e[s(1757)](n[s(4158)])}return e}[n(1081)](){const t=n,e=this[t(552)];e&&(e[t(3491)](this),this[t(552)]=null,this[t(1187)][t(4326)](!0),this[t(1146)][t(4326)]())}[n(1675)](t){const e=n;this[e(552)]?console.warn("Tried to register an input listener to a broadcaster but the listener has already been registered."):this[e(552)]=t}[n(1430)](t){const e=n;t===this[e(552)]?this[e(552)]=null:console[e(4273)](e(4476))}}},5171:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(2577)]=void 0;const i=s(822),o=s(7072),a=s(8686),r=s(2285),c=s(3257),h=s(1068),l=s(47),d=s(3669);class _0x3a771e extends i[n(3656)]{constructor(){const t=n;super(...arguments),this[t(1745)]=!0,this._devices=[],this[t(698)]=new Map,this[t(3632)]=[],this[t(1613)]=this[t(1998)],this.users=this[t(3632)],this.onInputToggled=new(h[t(1990)]),this[t(2062)]=new h.DelegateP1,this[t(2454)]=new(h[t(1990)])}get[n(3371)](){return this[n(1745)]}set[n(3371)](t){this[n(1030)](t)}static get[n(2216)](){const t=n;return i[t(3656)][t(2922)](_0x3a771e)}[n(890)](){const t=n;super.awake();const e=this[t(4474)][t(1765)];e&&(e.on(c[t(1373)][t(3843)],_0x3a771e[t(1435)]),e.on(c[t(1373)][t(1817)],_0x3a771e.stopTouchEvent),e.on(c[t(1373)][t(4247)],_0x3a771e.stopTouchEvent),e.on(c[t(1373)].touchEnd,_0x3a771e[t(1435)])),window.addEventListener(t(451),(e=>{const s=t;_0x3a771e._defaultKeyBehaviorOverrides[s(888)](e.key)&&e[s(4272)]()})),window[t(527)](t(3364),(e=>e[t(4272)]()),{passive:!1}),this.addDevice(new(o[t(929)])),this[t(2349)](new d.Mouse),this[t(2349)](new(r[t(3502)])),this[t(4474)].on(t(1575),this[t(1914)][t(4467)](this))}static[n(1435)](t){const e=n,s=t[e(3512)];s[e(4272)](),s[e(3049)]()}postConstruct(){const t=n;l.UiManager[t(2216)][t(4068)][t(324)](this[t(3240)],this),this.invalidateUiRootInput()}[n(1914)](){const t=n;this[t(4063)](),this[t(4192)]()}[n(4063)](){const t=n,e=this[t(1998)],s=e.length;for(let n=0;n<s;n++)e[n][t(3517)]()}[n(1030)](t){const e=n;t!==this[e(1745)]&&(this[e(1745)]=t,this[e(3240)](),this[e(424)](),this[e(2854)][e(2356)](this[e(1745)]))}[n(3240)](){const t=n,e=l[t(1711)][t(2216)][t(1713)];for(let s=0;s<e[t(3171)];s++){const n=e[s];n&&(n[t(2084)]=this[t(1745)])}}[n(424)](){const t=n,e=this[t(3632)],s=e[t(3171)];for(let n=0;n<s;n++)this[t(3579)](e[n])}[n(3579)](t){const e=n;t.isInputEnabled=this[e(1745)]}[n(2349)](t){const e=n,s=t.constructor;this[e(698)][e(1374)](s)?console[e(4447)]("Can't add input device of type \""+s[e(3773)]+e(4389)):(this._devices[e(1757)](t),this[e(698)][e(2936)](s,t))}[n(4376)](t){const e=n;return this._devicesByType[e(3155)](t)}createUser(t){const e=n,s=this[e(3632)].length,i=new(a[e(2948)])(s,t);return this[e(3579)](i),this[e(3632)].push(i),this.onUserAdded[e(2356)](i),i}[n(1341)](t){const e=n,s=this[e(3632)],i=s[e(3171)];for(let e=0;e<i;e++){const n=s[e];if(n.id===t)return n}return null}[n(4192)](){const t=n;for(let e of this._users){const s=e[t(1754)];if(!s)continue;const n=e[t(1613)],i=n[t(3171)];for(let e=0;e<i;e++){const i=n[e],o=i.constructor,a=s[t(3444)](o);if(!a)continue;const r=a[t(3809)],c=r[t(3171)];for(let t=0;t<c;t++)r[t].update(i,s)}const o=s[t(973)],a=o[t(3171)];for(let e=0;e<a;e++){const s=o[e][t(4029)],n=s[t(3171)];for(let e=0;e<n;e++)s.get(e)[t(4408)]()}}}}e[n(2577)]=_0x3a771e,_0x3a771e[n(4090)]=[n(1453),n(1063)," "],_0x3a771e.initialize(n(2577))},9542:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e.InputSetup=void 0;const i=s(4442),o=s(1067),a=s(4919),r=s(7681),c=s(1068),h=s(1874);class _0x12a3a8{constructor(){const t=n;this[t(3124)]=[],this[t(973)]=this[t(3124)],this._controlSchemes=[],this[t(1446)]=this[t(3162)],this[t(342)]=new Map,this[t(726)]=new(c[t(1990)])}clone(){const t=n,e=new _0x12a3a8;e[t(3162)]=this._controlSchemes;const s=e._activeControlSchemes=new Map;for(const e of this[t(342)])s.set(e[0],e[1]);for(let s of this[t(3124)])e[t(2028)](s.clone());return e}[n(2531)](t){const e=n;if(a[e(4452)].isString(t)){const s=t;if(0===s[e(3171)])return null;const n=s[e(3446)]("/");if(2!==n[e(3171)])return console.error(e(4044)+s+'" is not valid. Syntax: <action-map>/<action-name>.'),null;const i=n[0],o=this[e(3904)](i);if(!o)return console.warn(e(2237)+i+'".'),null;const a=n[1];return o.getAction(a)||(console[e(4273)](e(843)+a+e(2324)+i+'".'),null)}if(!(t instanceof h[e(3717)]))throw Error("Invalid action path argument.");const s=t[e(1566)],i=this[e(3904)](s);return i?i[e(2531)](t[e(3727)]):(console[e(4273)](e(543)+s+"."),null)}addActionMap(t){const e=n,s=this._actionMaps[e(3171)],o=new i.InputActionMap(s,t);return this.addActionMapInternal(o),o}[n(2028)](t){const e=n;t.onInputEvent[e(324)](this[e(4472)],this),this[e(3124)][e(1757)](t)}[n(3904)](t){const e=n;if(Number[e(1241)](t)){const s=t;if(s<0||s>this[e(3124)].length-1)throw new Error(e(2068));return this[e(3124)][s]}const s=t;for(let t of this._actionMaps)if(t[e(3773)]===s)return t;return null}addControlScheme(t,e,s){const i=n,a=new(o[i(3532)])(t,e);return this._controlSchemes.push(a),s&&this[i(1709)](e,a),a}[n(3689)](t){const e=n,s=t instanceof r.InputDevice?t[e(3414)]:t,i=[];return this[e(3102)](s,i),i}[n(3102)](t,e){const s=n,i=t instanceof r[s(4187)]?t.constructor:t,o=this[s(3162)],a=o.length;for(let t=0;t<a;t++){const n=o[t];n[s(1272)]===i&&e[s(1757)](n)}}[n(1709)](t,e){const s=n;this[s(3162)][s(2614)](e)<0?console[s(4273)]("Can't activate control scheme because it is not registered with this input setup.",e,this):this[s(342)][s(2936)](t,e)}[n(3444)](t){const e=n;return this._activeControlSchemes[e(3155)](t)}[n(4472)](t){this.onInputEvent.safeInvoke(t)}}e[n(358)]=_0x12a3a8},8686:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,"__esModule",{value:!0}),e[n(2948)]=void 0;const i=s(9432),o=s(8414);e[n(2948)]=class _0x2605b1{constructor(t,e){const s=n;this[s(1998)]=[],this[s(1613)]=this[s(1998)],this.id=t,this[s(1754)]=e,e[s(726)][s(324)](this[s(726)],this),this[s(2464)]=new(i[s(1971)])((t=>{this[s(2256)](t,!0)}))}get isInputEnabled(){const t=n;return this[t(2464)][t(4171)]}set isInputEnabled(t){const e=n;this[e(2464)][e(4171)]=t}[n(2349)](t){const e=n,s=this[e(1998)];s.indexOf(t)>=0?console[e(4273)](e(438),t,this):(s[e(1757)](t),t[e(3823)](this))}[n(4284)](...t){const e=t.length;for(let s=0;s<e;s++){const e=t[s];this.addDevice(e)}}[n(2256)](t,e){const s=n;this[s(3371)]&&(e||this[s(2464)][s(3440)](t))&&(t.user=this,o.InputDirector.directEvent(t))}[n(726)](t){this.processInputEventInternal(t,!1)}}},8414:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(962)]=e.InputLayers=void 0;const i=s(9328);class _0x1d5791{}e.InputLayers=_0x1d5791,_0x1d5791.ui=new i.InputLayer,_0x1d5791[n(4471)]=new(i[n(3839)]),_0x1d5791.general=new(i[n(3839)]),_0x1d5791.all=[_0x1d5791.ui,_0x1d5791[n(4471)],_0x1d5791[n(3982)]],e[n(962)]=class _0x1d1b34{static[n(2549)](t){const e=n,s=_0x1d5791.all,i=s[e(3171)];for(let n=0;n<i;n++)if(s[n][e(1658)](t),t.isConsumed)return}}},9328:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e.InputLayer=void 0;const i=s(8207);e[n(3839)]=class _0x345faf{constructor(){const t=n;this[t(552)]=new(i[t(323)])}[n(1658)](t){this._broadcaster.broadcast(t)}[n(324)](t){const e=n;this[e(552)][e(324)](t)}[n(3491)](t){const e=n;this[e(552)][e(3491)](t)}}},3257:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,s(3500),{value:!0}),e.UiInputEventType=void 0,function(t){const e=s;t[e(4313)]=e(549),t[e(1287)]=e(1720),t.mouseEnter=e(238),t[e(1381)]=e(3542),t.mouseMove=e(1870),t[e(963)]="mousewheel",t[e(3843)]="touchstart",t[e(328)]=e(1838),t[e(1817)]=e(3888),t[e(4247)]=e(1192),t[e(280)]="click"}(e.UiInputEventType||(e[s(1373)]={}))},8597:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,s(3500),{value:!0}),e[s(957)]=void 0,function(t){const e=s;t[t[e(1409)]=0]=e(1409),t[t[e(2135)]=1]=e(2135)}(e[s(957)]||(e[s(957)]={}))},822:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(3506)]=e[n(3656)]=void 0;const i=s(4006),o=s(6849);class _0x9902f3 extends i[n(1559)]{constructor(){const t=n;super(...arguments),this[t(1886)]=!1}static[n(2922)](t){const e=n;let s=t[e(446)];if(s)return s;const i=this[e(3344)][e(3155)](t);if(!i)return console.warn(e(3066)+t[e(3773)]+"\" because the manager has not been registered. Please make sure to call initialize() on the manager's class."),console[e(3028)](),null;const o=i[e(3549)];return s=o._instance,s?t[e(446)]=s:(s=a[e(1461)][e(2216)].getManager(o),s?o._instance=t[e(446)]=s:(console[e(4273)]('Could not find an instance of manager "'+t.name+'". Please make sure a template of this manager has been registered with the application template.'),console[e(3028)](),null))}static[n(4197)](t){return this[n(3344)].get(t)}static[n(3311)](t,e=null){const s=n;o.Script[s(3311)][s(1142)](this,t,e);const i=this[s(3665)](this);this[s(3815)][s(1757)](i),this._typeInfosByType.set(i[s(2403)],i)}static[n(3665)](t){const e=n;let s=t,i=t,o=0;for(;i!==_0x9902f3;)s=i,i=Object[e(1871)](i),o++;return new _0x59f054(t,s,o)}[n(580)](){const t=n;try{this[t(890)]()}catch(e){console[t(4447)](e)}this[t(1886)]=!0}[n(890)](){}[n(597)](t){this[n(3978)](t)}[n(3978)](t){}}e[n(3656)]=_0x9902f3,_0x9902f3[n(3815)]=[],_0x9902f3[n(3344)]=new Map,_0x9902f3[n(542)]=_0x9902f3[n(3815)];class _0x59f054{constructor(t,e,s){const i=n;this[i(2403)]=t,this[i(3549)]=e,this[i(3256)]=s}}e.ManagerTypeInfo=_0x59f054;const a=s(8145)},7639:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(286)]=void 0;const i=s(2379);class _0x27248e extends i[n(1468)]{}e[n(286)]=_0x27248e},1536:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(531)]=void 0;const i=s(1068),o=s(2379);class _0x3b4660{constructor(t,e,s){const a=n;this[a(2221)]=[],this._isReady=!1,this[a(1165)]=!1,this[a(1935)]=new(i[a(1990)]),this[a(4263)]=t,this[a(3269)]=e,this[a(3303)]=e?s[a(3177)][a(1084)]:s[a(3177)].remote[a(3494)](this),e&&(_0x3b4660[a(1652)]=this),(this._modules=new o.ModuleContainer(this))[a(3088)]()}static get[n(719)](){return this._local}get[n(744)](){return this[n(4098)]}set isReady(t){this.setReady(t)}get[n(2701)](){return this[n(1165)]}setHost(t){this[n(1165)]=t}[n(2600)](t){const e=n;t!==this[e(4098)]&&(this[e(4098)]=t,this[e(1935)][e(2356)](this))}[n(1081)](){const t=n;_0x3b4660[t(1652)]===this&&(_0x3b4660._local=null),this._modules[t(2785)]()}[n(3731)](t){return this[n(906)].addModule(t)}[n(2197)](t){return this._modules.getModule(t)}[n(614)](t){const e=n,s=this[e(2221)];s.indexOf(t)>=0?console[e(4447)](e(524)+t[e(2753)]+e(873)):s[e(1757)](t)}[n(1812)](t){const e=n,s=this[e(2221)],i=s.indexOf(t);i<0?console[e(4447)](e(752)+t.localId+" because the player has not been added."):s[e(650)](i,1)}[n(3711)](t){const e=n,s=this[e(2221)],i=s.length;for(let n=0;n<i;n++){const i=s[n];if(i[e(2753)]===t)return i}return null}}e[n(531)]=_0x3b4660},3519:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e[n(1962)]=void 0;const i=s(3784),o=s(6065),a=s(933),r=s(2794),c=s(3931),h=s(7973),l=s(4568),d=s(6020),u=s(6565),p=s(6740),_=s(4071),m=s(6880),g=s(7409),f=s(1614);class _0xfca191 extends o.GameMessage{constructor(){const t=n;super(...arguments),this[t(379)]=new(h[t(1008)])}[n(1876)](t,e){const s=n;this._innerMessage=t;const i=this[s(379)];i.clear(),i[s(4013)](e)}[n(2064)](t){const e=n,s=_0xfca191[e(4024)],i=s.getObject();try{if(i[e(1699)](),!this[e(4212)][e(2064)](i))return!1;const n=i[e(639)];this._routingMask.serialize(t),t.writePackedUInt32(n),t.writeBytes(i[e(1172)],0,n)}finally{i.seekZero(),s[e(2925)](i)}return!0}[n(582)](t){}[n(1081)](){const t=n;this[t(379)][t(4326)](),this[t(4212)]=void 0}}_0xfca191[n(4024)]=m[n(1910)][n(1130)](c.NetworkStream);class _0x2e25f3 extends o[n(2952)]{[n(2064)](t){const e=n;return this[e(2215)][e(4099)](t)}[n(582)](t){}[n(1081)](){this[n(2215)]=void 0}}class _0x4b1187 extends u[n(3596)]{constructor(){const t=n;super(a.MessageDomainId[t(2690)]),this[t(703)]=new(d[t(386)])}[n(1081)](){const t=n;super[t(1081)](),this._messageBatcher&&(this[t(1507)][t(1081)](),this[t(1507)]=void 0),this[t(703)][t(4326)]()}[n(327)](t,e,s){super[n(327)](t,e,s)}[n(1758)](t,e){const s=n,o=this[s(4003)](t);if(!o)return console.warn("Could not find a message handler for loop-back message ID "+t+"."),void console.trace();if(!(e instanceof o[s(690)][s(2362)]))return void console[s(4447)](s(4393)+t+").");const a=i.Room[s(2216)][s(1832)];e[s(2659)][s(1876)](t,a,null);const r=this[s(3137)](t,e,null,a);this[s(1108)](o,r),r[s(1081)]()}[n(883)](t){const e=n,s=t[e(2659)],i=s.id,o=this[e(4003)](i);if(!o)return void console.warn(e(4172)+i+".");const a=this.getGameMessageEventArgs(i,t,s[e(547)],s[e(3376)]);this[e(1108)](o,a),a[e(1081)]()}getGameMessageEventArgs(t,e,s,i){const o=n,a=super.getMessageEventArgs(t,e,s);return a[o(3376)]=i,a}createEventArgs(){const t=n;return _[t(2292)][t(2047)](p[t(1921)])}[n(2944)](t,e){const s=n;t===l[s(3514)][s(3044)]?this[s(3267)](e):this[s(3280)](t,e)}receiveGameMessageBatch(t){const e=n,s=this._unpackedMessageQueue,i=_0x4b1187[e(3857)];i[e(650)](0,i.length);const o=t[e(3951)];o[e(639)]=o[e(819)]();const a=o.readPackedUInt32();for(let t=0;t<a;t++){const t=o[e(2633)]();i[e(1757)](t)}const r=o[e(639)];for(let n=0;n<a;n++){let a;o[e(639)]=i[n];try{a=o[e(359)]()}catch(t){console[e(4447)](e(1480));continue}const r=this[e(1222)](a,o,t[e(547)]);r&&s[e(1951)](r)}for(o[e(639)]=r;s.length>0;){const t=s.dequeue();try{this[e(883)](t),g[e(1965)][e(1185)](t)}catch(t){console[e(4447)](t)}}}receiveGameMessage(t,e){const s=n,i=this.readGameMessage(t,e[s(3951)],e[s(547)]);i&&this[s(883)](i)}[n(1222)](t,e,s){const o=n,a=this[o(4003)](t);if(!a)return console[o(4273)](o(662)+t+o(1684)),null;let r,c;try{const s=e[o(2574)]();if(r=i.Room[o(2216)][o(2919)](s),!r)return console[o(4447)](o(662)+t+o(1157)+s+"."),null;c=e.readPackedUInt32()}catch(e){return console.error(o(662)+t+"): failed to read the header:",e),null}const h=a[o(690)],l=h[o(1753)](),d=l[o(2659)];d[o(1876)](t,r,s);try{const t=d.prepareStream(e,e[o(639)],c);return l.deserialize(t),l}catch(e){return console[o(4447)]("Game message receive error (message ID "+t+o(2588),e),h[o(1185)](l),null}}receiveRpc(t){const e=n,s=t[e(2977)],i=s[e(2120)],o=this[e(4003)](i);if(!o)return void console[e(4273)](e(1210)+i+e(1684));const a=o[e(690)],r=a.getMessage(),c=r.metadata;c.configure(i,t[e(3376)],t[e(547)]);try{const t=c[e(4377)](s[e(350)],s.messageStartPosition,s[e(1309)]);r[e(582)](t)}catch(t){return console.error(e(1210)+i+e(2588),t),void a[e(1185)](r)}this[e(883)](r)}sendMessage(t,e){const s=n;return console[s(4447)](s(1154)+t+": no channel & recipients specified.",e),new(f[s(2222)])(!1)}[n(2247)](t,e,s,i){const o=n;return this[o(1507)]||(this[o(1507)]=new(r[o(1273)])),this[o(1507)][o(1650)](t,e,s,i)?new(f[o(2222)])(!0):new(f[o(2222)])(!1,f[o(2061)][o(3044)])}[n(2558)](t,e,s,i){const o=n,a=_0x4b1187._wrappedGameMessage;return a[o(1876)](e,i),super[o(2230)](t,a)}[n(2479)](){const t=n,e=this._messageBatcher;if(!e||!e[t(571)])return;const s=_0x4b1187[t(652)];s[t(2215)]=this,super[t(2230)](l[t(3514)][t(3044)],s)}[n(4099)](t){const e=n,s=this._messageBatcher;if(!s)throw new Error(e(2188));const i=t[e(639)];t[e(4018)](0);const o=_0x4b1187[e(3857)];o[e(650)](0,o.length);const a=s[e(3599)],r=a[e(3171)];for(let s=0;s<r;s++){const n=a[s],i=t[e(639)];try{const s=n[e(2535)][e(2120)];t[e(2389)](s),n.routingMask[e(2064)](t);const a=n[e(350)],r=n[e(1309)];t[e(4133)](r),t[e(3518)](a[e(1172)],0,r),o[e(1757)](i)}catch(s){t.position=i,console.error(e(4035)+n[e(2535)][e(2120)]+":",s)}}const c=o.length;if(c>0){const s=t[e(639)];t[e(4133)](c);for(let s=0;s<c;s++){const n=o[s];t[e(4133)](n)}const n=t[e(639)];t.position=i,t.writeUInt16(s),t.position=n}return s[e(3042)](),c>0}}e[n(1962)]=_0x4b1187,_0x4b1187[n(4321)]=new _0xfca191,_0x4b1187._messageBatch=new _0x2e25f3,_0x4b1187[n(3857)]=[]},6740:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(1921)]=void 0;const i=s(4071);class _0x44aa30 extends i[n(2292)]{dispose(){const t=n;super[t(1081)](),this[t(3376)]=void 0}}e.GameMessageEventArgs=_0x44aa30},4568:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,"__esModule",{value:!0}),e.GameMessageType=void 0,function(t){const e=s;t[t.batch=1]=e(3044),t[t[e(2652)]=2]=e(2652),t[t.notReady=3]=e(1431),t[t[e(2042)]=4]="rpc",t[t[e(1829)]=5]=e(1829),t[t[e(1436)]=6]=e(1436),t[t[e(3675)]=7]="sessionInfo",t[t.sceneInfo=20]=e(3649),t[t[e(2775)]=21]=e(2775),t[t[e(3482)]=22]=e(3482),t[t[e(367)]=30]=e(367),t[t[e(1679)]=31]=e(1679),t[t.entityState=32]=e(2274),t[t[e(3622)]=33]=e(3622),t[t.entityDespawn=34]="entityDespawn"}(e[s(3514)]||(e[s(3514)]={}))},6065:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(3705)]=e[n(1228)]=e.GameMessage=void 0;const i=s(4570),o=s(3931),a=s(6880);class _0x1b4d02 extends i[n(1673)]{get[n(2659)](){return super.metadata}[n(3804)](){return new _0x5edf2b}}e[n(2952)]=_0x1b4d02;class _0x5edf2b extends i[n(1664)]{[n(1876)](t,e,s){const i=n;this.id=t,this.sender=e,this[i(547)]=s}[n(4377)](t,e,s){const i=n;if(this[i(3951)]){const t=this[i(3414)];throw new Error("Can't prepare stream for game message "+this.id+i(1874)+t.name+'": a stream has already been prepared.')}this[i(2773)]=s;const o=this[i(3951)]=_0x5edf2b._streamPool[i(363)]();return o[i(1699)](),o[i(4328)](t.buffer,e,s),o}[n(1081)](){const t=n;super.dispose(),this.sender=this[t(2535)]=void 0,this[t(2773)]=0;const e=this[t(3951)];e&&(e[t(1699)](),_0x5edf2b._streamPool[t(2925)](e),this.stream=void 0)}}e[n(1228)]=_0x5edf2b,_0x5edf2b[n(4024)]=a[n(1910)].getPool(o.NetworkStream),e[n(3705)]=class _0xcacf46{constructor(){this[n(1081)]()}[n(1081)](){const t=n;this[t(2120)]=-1,this[t(1933)]=-1,this[t(1539)]=-1,this[t(967)]=null}}},2794:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(1273)]=void 0;const i=s(3931),o=s(9609),a=s(7973),r=s(6065),c=s(6880);class _0x3515b0{constructor(){const t=n;this[t(2850)]=0,this[t(2747)]=new o.Stack,this[t(3599)]=this._batch[t(2280)],this[t(2734)]=new Set}get[n(571)](){return this[n(3599)].length>0}[n(1081)](){const t=n;this.clearBatch(),this[t(2850)]=0}[n(1650)](t,e,s,i){return!!this[n(2976)](t,e,s,i)&&(!!this.tryMergeWithBatch(t,e,s,i)||this.addMessageToBatch(t,e,s,i))}[n(2976)](t,e,s,i){const o=n;if(!i||0===i[o(3171)])return console[o(4447)]("Can't send message with ID "+t+o(2301)),!1;const a=e[o(2659)][o(2535)];return!a||(t!==a[o(2120)]?(console[o(4447)](o(1685)+t+o(1735)),!1):a[o(1933)]!==this[o(2850)]?(console[o(4447)]("Can't send message with ID "+t+o(480)),!1):a[o(967)]!==s?(console[o(4447)]("Can't send message with ID "+t+o(1300)),!1):!(s[o(3262)]&&this._batch[o(3206)]>0&&this[o(2747)].peek()[o(2535)]!==a)||(console[o(4447)]("Can't send message with ID "+t+o(2634)),!1))}clearBatch(){const t=n,e=_0x3515b0[t(3544)],s=_0x3515b0[t(4258)],i=this[t(2747)][t(2280)],o=i.length;for(let n=0;n<o;n++){const o=i[n];s.returnObject(o[t(2535)]),e[t(2925)](o)}this[t(2747)][t(4326)](),this[t(2850)]++}[n(1041)](t,e,s,i){const o=n,a=e[o(2659)],r=_0x3515b0[o(4258)];let c=a.batchInfo;c||(c=a[o(2535)]=r[o(363)]()),c.messageId=t,c.batchId=this[o(2850)],c[o(1539)]=this[o(2747)][o(3206)],c[o(967)]=s;const h=_0x3515b0[o(3544)],l=h[o(363)]();return l[o(2064)](c,e,i)?(this[o(2747)][o(1757)](l),!0):(a[o(2535)]=void 0,r[o(2925)](c),h.returnObject(l),!1)}[n(1088)](t,e,s,i){const o=n,a=e[o(2659)][o(2535)];if(!a)return!1;if(t!==a[o(2120)])return!1;const r=this._batch,c=r[o(3206)];if(0===c)return!1;if(a[o(1933)]!==this[o(2850)])return console[o(4447)]("Batch error: batch ID mismatch."),!1;const h=a[o(1539)];if(s.isSequenced&&h!==c-1)return console.error("Batch error: invalid sequence."),!1;if(h<0||h>c-1)return console.error(o(4381)),!1;const l=r[o(2280)][h];if(l.batchInfo!==a)return console[o(4447)](o(3273)),!1;const d=this._recipientBuffer;d[o(4326)]();const u=l.routingMask.routingIds,p=u[o(3171)];for(let t=0;t<p;t++)d[o(1565)](u[t]);const _=i[o(3171)];for(let t=0;t<_;t++){const e=i[t],s=e[o(4263)];d.has(s)||(d[o(1565)](s),l[o(4218)](e))}return d[o(4326)](),!0}}e.MessageBatcher=_0x3515b0,_0x3515b0[n(4258)]=new(c[n(1495)])((()=>new(r[n(3705)])),(t=>t[n(1081)]())),_0x3515b0[n(3544)]=new c.Pool((()=>new _0x2274c1),(t=>t[n(1081)]()));class _0x2274c1{constructor(){const t=n;this[t(2831)]=0,this[t(4427)]=new(a[t(1008)])}get[n(350)](){return this[n(2257)]}get[n(1309)](){return this[n(2831)]}serialize(t,e,s){const i=n;this[i(2535)]=t,this[i(4427)][i(4013)](s);try{const t=this[i(2257)]=_0x2274c1._streamPool[i(363)]();t[i(1699)]();const s=e[i(2064)](t);return this[i(2831)]=t.position,s}catch(e){return console[i(4447)]("Failed to serialize message with ID "+t[i(2120)]+":",e),!1}}[n(4218)](t){return this[n(4427)].addRecipient(t)}dispose(){const t=n;this[t(2535)]=void 0,this._messageSize=0,this[t(4427)].clear(),this[t(2257)]&&(this[t(2257)].seekZero(),_0x2274c1[t(4024)][t(2925)](this[t(2257)]),this[t(2257)]=void 0)}}_0x2274c1._streamPool=c[n(1910)][n(1130)](i[n(2662)])},7973:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e[n(1008)]=void 0;const i=s(6880);class _0x56a65a{constructor(){const t=n;this[t(3276)]=new Set,this[t(2798)]=[],this.routingIds=this[t(2798)]}addRecipients(t){const e=n;if(!t)throw new Error(e(4042));const s=t.length;for(let n=0;n<s;n++){const s=t[n];s&&this[e(4218)](s)}}[n(4218)](t){const e=n;return t[e(3269)]?(console.warn(e(4072)),!1):(this[e(1960)](t[e(4263)]),!0)}[n(1960)](t){const e=n;if(t>_0x56a65a[e(837)])throw new Error(e(245)+t+e(3984)+_0x56a65a[e(837)]);const s=this[e(3276)];return!s[e(1374)](t)&&(s[e(1565)](t),this._routingIds[e(1757)](t),!0)}[n(2064)](t){const e=n,s=this[e(2798)],i=s[e(3171)];if(0===i)return void t.writePackedUInt32(0);i>1&&s[e(3714)](_0x56a65a[e(1225)]);const o=t[e(639)],a=s[i-1];t[e(4133)](1<<Math[e(2328)](a/8));let r=0,c=0,h=s[c];for(let n=0;n<_0x56a65a[e(1705)]&&c<i;n++){const o=8*(n+1);if(h>=o)continue;r|=1<<n;let a=0;const l=8*n;for(;(a|=1<<h-l,!(++c>=i))&&(h=s[c],!(h>=o)););t[e(1186)](a)}const l=t[e(639)];t[e(639)]=o,t[e(4133)](r),t[e(639)]=l}[n(582)](t){const e=n;this[e(4326)]();let s=t.readPackedUInt32();if(0!==s)for(let n=0;n<_0x56a65a._bitLimit&&0!==s;n++){const i=1<<n;if(0==(s&i))continue;s&=~i;const o=8*n;let a=t[e(2574)]();for(let t=0;t<8&&0!==a;t++){const s=1<<t;if(0==(a&s))continue;a&=~s;const n=t+o;this[e(1960)](n)}}}[n(4326)](){const t=n;this[t(2798)][t(650)](0,this._routingIds[t(3171)]),this[t(3276)][t(4326)]()}static[n(2047)](){const t=n;return this[t(852)][t(363)]()}static[n(4412)](t){const e=n;t[e(4326)](),this[e(852)][e(2925)](t)}}e[n(1008)]=_0x56a65a,_0x56a65a[n(1225)]=(t,e)=>e-t,_0x56a65a[n(852)]=i[n(1910)][n(1130)](_0x56a65a),_0x56a65a[n(1705)]=32,_0x56a65a[n(837)]=8*_0x56a65a._bitLimit-1},8486:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e[n(478)]=void 0;const i=s(6065);class _0x1e4f5d extends i[n(2952)]{[n(2064)](t){const e=n;return t[e(1186)](this[e(4158)]?1:0),!0}[n(582)](t){const e=n;this[e(4158)]=0!==t[e(2574)]()}[n(1081)](){}}e.BooleanMessage=_0x1e4f5d},6557:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e.EmptyMessage=void 0;const i=s(6065);class _0x78736f extends i[n(2952)]{serialize(t){return!0}[n(582)](t){}[n(1081)](){}}e[n(1397)]=_0x78736f},4505:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(992)]=void 0;const i=s(3931),o=s(6065),a=s(6880);class _0x5786a2 extends o[n(2952)]{get[n(349)](){return this[n(603)]}get[n(958)](){return this[n(1338)]}get messageId(){return this._messageId}get[n(350)](){return this._messageStream}get messageStartPosition(){return this[n(4362)]}get[n(1309)](){return this[n(2831)]}[n(1876)](t,e,s){const i=n;this[i(603)]=t[i(1021)].id,this[i(1338)]=t[i(4093)],this[i(1368)]=e,this[i(4108)]=s}[n(2064)](t){const e=n;t[e(4133)](this._handleId),t[e(1186)](this[e(1338)]),t[e(2389)](this[e(1368)]);const s=_0x5786a2._streamPool,i=s.getObject();i[e(1699)]();try{if(!this[e(4108)][e(2064)](i))return!1;const n=i[e(639)];return t[e(4133)](n),t[e(3518)](i[e(1172)],0,n),!0}finally{i[e(1699)](),s.returnObject(i)}}[n(582)](t){const e=n;this._handleId=t.readPackedUInt32(),this[e(1338)]=t[e(2574)](),this[e(1368)]=t[e(359)](),this[e(2831)]=t.readPackedUInt32(),this[e(2257)]=t,this[e(4362)]=t[e(639)]}[n(1081)](){const t=n;this[t(4108)]=this[t(2257)]=void 0,this[t(603)]=this[t(1338)]=this[t(1368)]=-1,this._messageStartPosition=this._messageSize=0}}e.RpcMessage=_0x5786a2,_0x5786a2[n(4024)]=a[n(1910)][n(1130)](i[n(2662)])},2871:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(1897)]=void 0;const i=s(6065);class _0x3e47a1 extends i[n(2952)]{constructor(t){const e=n;super(),this[e(4158)]=t}serialize(t){const e=n,s=_0x3e47a1._textEncoder[e(514)](this[e(4158)]);return t[e(3119)](s),!0}[n(582)](t){const e=n,s=t[e(3566)]();this[e(4158)]=_0x3e47a1._textDecoder[e(3427)](s)}[n(1081)](){this.value=null}}e[n(1897)]=_0x3e47a1,_0x3e47a1[n(2341)]=new TextEncoder,_0x3e47a1[n(750)]=new TextDecoder},6040:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e[n(2161)]=e[n(1147)]=e[n(2153)]=e.Role=e[n(2159)]=e[n(536)]=void 0;const i=s(6065),o=s(8367);var a;e[n(536)]=class _0x1ec1a9{constructor(t,e){const s=n;this[s(3443)]=new Set,this[s(397)]=o[s(944)][s(1251)],this._requestStatesByClient=new Map,this[s(1177)]=t,this[s(2767)]=e,e[s(3521)][s(324)](this[s(3521)],this)}[n(627)](t){const e=n,s=this._handlers;if(s[e(1374)](t))return!1;const i=t.roles;let o=t[e(3785)],r=t.responseMessageType;if(o===r&&i===a[e(4426)])return console[e(4447)]("Can't add handler: the handler's response & request message types match, making it impossible to distinguish responses from requests (handler has both the role of server & client).",t),!1;const c=this[e(1177)];return c.getHandler(o)?(console.error(e(3163)+o+e(1789),t),!1):c[e(4003)](r)?(console.error(e(2287)+r+") is already bound to another handler.",t),!1):(i&a.server&&c.setHandler(o,t[e(3925)],(s=>{this[e(2123)](s,t)})),i&a[e(1404)]&&c.setHandler(r,t.responseMessageClass,(s=>{this[e(1618)](s,t)})),s[e(1565)](t),t[e(3194)](this),!0)}[n(1863)](t){const e=n,s=this[e(3443)];if(!s[e(1374)](t))return!1;const i=this[e(1177)];i[e(2248)](t[e(3785)]),i[e(2248)](t[e(3914)]),t[e(3194)](null),s[e(1049)](t)}[n(1529)](t,e,s,i=!1){const o=n,a=this[o(3198)];let r=a[o(3155)](e);r||(r=new _0x560807,a[o(2936)](e,r));const c=r.getRequestState(s);c[o(3420)]=!0,t[o(2655)]=c.lastMessageId=(c.lastMessageId+1)%255;const h=e[o(3303)];i?h[o(4315)](s[o(3785)],t,this[o(397)]):h[o(2230)](s[o(3785)],t,this._channel)}dispose(){const t=n;this[t(2767)].onClientLeft[t(3491)](this[t(3521)],this);const e=[...this[t(3198)].keys()];for(const t of e)this.onClientLeft(t)}[n(2123)](t,e){const s=n;let i;try{i=e[s(2828)](t),i[s(2655)]=t[s(2977)].requestId}catch(n){return void console[s(4447)](s(1405)+t[s(2120)]+":",n,e)}t[s(3376)][s(3303)][s(4315)](e.responseMessageType,i,this._channel)}[n(1618)](t,e){const s=n,i=t.sender,o=this[s(3198)][s(3155)](i);if(!o)return void console[s(4447)](s(2604)+i.routingId+s(2199),t);const a=o.getRequestState(e);if(!a[s(3420)])return;const r=t[s(2977)];if(r[s(2655)]===a[s(2914)]){a[s(3420)]=!1;try{e[s(1986)](t)}catch(t){console.error(s(4265)+e.responseMessageType+":",t)}}else console[s(4273)](s(1452)+e[s(3914)]+s(2102)+r[s(2655)]+s(287)+a[s(2914)]+").",e)}[n(3521)](t){this[n(3198)].delete(t)}},e[n(2159)]=class _0x22f5c6{constructor(t,e,s,i,o=a[n(4426)]){const r=n;this.requestMessageType=t,this.requestMessageClass=e,this[r(3914)]=s,this[r(2079)]=i,this[r(3069)]=o}[n(3194)](t){this[n(971)]=t}[n(1529)](t,e,s=!1){const i=n,o=this[i(971)];o?o[i(1529)](t,e,this,s):console.error("Can't send request: no requester set.",this,t)}[n(1081)](){const t=n;this[t(971)]&&this._requester[t(1863)](this)}},function(t){const e=n;t[t.client=1]="client",t[t[e(3357)]=2]=e(3357),t[t[e(4426)]=3]="both"}(a=e[n(4100)]||(e[n(4100)]={}));class _0x560807{constructor(){this[n(1490)]=new Map}[n(1930)](t){const e=n,s=this[e(1490)];let i=s[e(3155)](t);return i||(i=new _0x13bdbd,s[e(2936)](t,i)),i}}class _0x13bdbd{constructor(){const t=n;this[t(2914)]=0,this[t(3420)]=!1}}class _0x143b10 extends i[n(2952)]{[n(2064)](t){const e=n;return t.writeByte(this[e(2655)]),!0}[n(582)](t){this.requestId=t.readByte()}[n(1081)](){this[n(2655)]=0}}e[n(2153)]=_0x143b10,e[n(1147)]=class _0x249618 extends _0x143b10{},e.ResponseMessage=class _0x3741a5 extends _0x143b10{}},8367:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,"__esModule",{value:!0}),e[s(944)]=void 0;class _0x9375a{constructor(t,e){const n=s;this[n(4141)]=t,this[n(3262)]=e}}e[s(944)]=_0x9375a,_0x9375a[s(4182)]=new _0x9375a(!0,!1),_0x9375a[s(1251)]=new _0x9375a(!0,!0),_0x9375a[s(3659)]=new _0x9375a(!1,!1),_0x9375a[s(2896)]=new _0x9375a(!1,!0)},3490:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(3720)]=void 0;const i=s(1614),o=s(1068);class _0x42ecc4{constructor(t,e,s){const i=n;this[i(4305)]=!0,this._ping=0,this[i(3945)]=0,this.onPingUpdated=new(o[i(2503)]),this[i(2474)]=t,this[i(1213)]=e?[...e]:[],this[i(3296)]=this._clients,this._messageDomain=s,this[i(1213)]&&this[i(1213)].length>1&&this._clients.find((t=>t.isLocalClient))&&console[i(4273)](i(518))}get[n(547)](){return this._socket}get messageDomain(){return this[n(1177)]}set[n(2215)](t){this[n(1177)]=t}get[n(577)](){return!this._socket}get[n(3907)](){return!!this[n(2474)]}get isConnected(){const t=n;var e;return null===(e=this[t(2474)])||void 0===e?void 0:e[t(1953)]}get[n(2970)](){return this[n(2035)]}get[n(1830)](){return this[n(3945)]}[n(4370)](){const t=n;return!!this[t(4305)]||(console[t(4447)](t(4374),this),!1)}[n(4434)](t,e,s){const o=n;return this[o(4370)]()?(s&&console[o(4273)](o(3545)),this[o(1177)].invokeHandlerLoopBack(t,e),new i.MessageSendResult(!0)):new i.MessageSendResult(!1,i[o(2061)][o(4271)])}sendMessage(t,e,s,o){const a=n;return this[a(4370)]()?this.isLoopBack?this[a(4434)](t,e,o):this[a(1177)].sendGameMessage(t,e,s,o||this[a(1213)]):new i.MessageSendResult(!1,i[a(2061)][a(4271)])}sendMessageImmediate(t,e,s,o){const a=n;return this.validateCanSendMessage()?this[a(577)]?this[a(4434)](t,e,o):this._messageDomain[a(2558)](t,e,s,o||this[a(1213)]):new(i[a(2222)])(!1,i[a(2061)][a(4271)])}sendMessageBatch(){const t=n;if(!this[t(4370)]())return new(i[t(2222)])(!1,i[t(2061)].transport);this.isRemote?this[t(1177)].sendBatch():console[t(4273)](t(3361))}[n(3494)](t){const e=n;if(!this[e(4305)])return void console.error(e(629),this,t);const s=new _0x42ecc4(this[e(2474)],[t],null);return s[e(2215)]=this[e(1177)],s}[n(3470)](t,e){const s=n;this[s(2035)]=t,this[s(3945)]=e,this[s(3139)][s(2356)](t,e)}[n(1081)](){const t=n;this._isAlive&&(this[t(4305)]=!1,this[t(1177)]=void 0)}}e.NetworkConnection=_0x42ecc4},1331:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e[n(1014)]=e[n(1627)]=void 0;const i=s(822),o=s(855),a=s(7409),r=s(4581),c=s(4729),h=new(s(5474)[n(4204)])(n(4107));class _0x35951f extends i.Manager{static get[n(2216)](){const t=n;return i[t(3656)][t(2922)](_0x35951f)}[n(1538)](t){const e=n;if(r[e(2152)][e(2216)])return h.error(e(3419)),void t(new _0x52f959(!1));const s=this[e(1616)];if(0===s[e(3171)])return h[e(4447)]("Can't create session: master server URL not set."),void t(new _0x52f959(!1));const i=new(c[e(1015)])(s),_0x129429=()=>{const s=e;_0x4ac92e();const n=new _0x52f959(!0),o=n[s(1310)]=new r.NetworkSession(i);this[s(1591)](o),t(n)},_0x5dd3d5=(s,n)=>{const i=e;_0x4ac92e();const o=new _0x52f959(!1,n[i(2403)]);t(o)},_0x4ac92e=()=>{const t=e;i.onConnected[t(3491)](_0x129429),i.onError[t(3491)](_0x5dd3d5)};i[e(1808)][e(324)](_0x129429),i[e(1525)][e(324)](_0x5dd3d5)}[n(2861)](t){const e=n;super.lateTick(t),a[e(1965)][e(3332)]()}[n(1591)](t){const e=n;this[e(1444)]=t,t[e(2950)][e(324)](this[e(1120)],this)}[n(1120)](t){const e=n;this[e(1444)]=void 0;const s=e(4016)+t[e(3423)]+") "+t[e(2977)];t[e(521)]?h.log(s):h[e(4447)](s)}}e[n(1627)]=_0x35951f,_0x35951f[n(3311)](n(1627),[new(o[n(3024)])("masterServerUrl",{type:o.AttributeType[n(990)],default:n(3379)})]);class _0x52f959{constructor(t,e){const s=n;this.wasSuccessful=t,this[s(1733)]=e}}e[n(1014)]=_0x52f959},6510:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,"__esModule",{value:!0}),e[s(3060)]=void 0;class _0x514407{}e[s(3060)]=_0x514407,_0x514407.ping=0,_0x514407.averagePing=0},6492:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,"__esModule",{value:!0}),e[s(815)]=void 0,e[s(815)]=class _0x1ce144{constructor(t){this[s(2753)]=t}}},3255:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e[n(699)]=void 0;const i=s(1986),o=s(4568),a=s(6557),r=s(3102),c=s(4505),h=s(7409),l=s(8367),d=s(3435),u=s(1666),p=s(1869),_=s(5500),m=s(1432),g=s(3338),f=s(1402),x=s(7956),y=s(7983),v=s(6202),w=s(6486),b=s(1068);class _0xabe307 extends v.ClientModule{constructor(){const t=n;super(...arguments),this[t(4098)]=!1,this[t(3930)]=new(r[t(1336)]),this[t(4110)]=[],this._entityDeserializer=new(y[t(1291)])(null,this.deserializeEntity[t(4467)](this)),this._entityStateDeserializer=new(y[t(1291)])(null,this[t(2700)].bind(this)),this.enableDebugging=!1,this[t(2406)]=new(b[t(299)])}[n(3311)](){const t=n;this[t(1389)]=d[t(466)][t(2216)],this.owner[t(2197)](u[t(934)]).onScenesMatched[t(324)](this[t(2514)],this),p.SceneManager[t(2216)][t(3306)].addListener(this[t(3306)],this);const e=this[t(736)][t(2215)];e[t(327)](o[t(3514)][t(1431)],a.EmptyMessage,this[t(3536)].bind(this)),e[t(327)](o[t(3514)].entitySpawn,r[t(745)],this[t(3894)][t(4467)](this)),e[t(327)](o[t(3514)][t(1679)],r.EntitySpawnBatchMessage,this[t(1844)][t(4467)](this)),e[t(327)](o[t(3514)][t(2274)],r[t(911)],this.onEntityStateReplicationMessage[t(4467)](this)),e[t(327)](o[t(3514)][t(3622)],r[t(3571)],this[t(3923)].bind(this)),e[t(327)](o[t(3514)].entityDespawn,r.EntityDespawnMessage,this.onEntityDespawnMessage.bind(this)),e.setHandler(o[t(3514)].rpc,c.RpcMessage,this[t(1359)][t(4467)](this))}[n(3088)](){}[n(2785)](){const t=n;p[t(932)].instance[t(3306)][t(3491)](this[t(3306)],this),this[t(2600)](!1),d[t(466)][t(1081)]()}[n(2600)](t){const e=n;if(t!==this._isReady)if(this[e(4098)]=t,t){const t=i.Client[e(2216)],s=h.MessagePool[e(1753)](a[e(1397)]);t[e(3303)][e(2230)](o[e(3514)][e(2652)],s,l[e(944)].reliable)}else w[e(3597)][e(1902)]||this[e(1389)].removeEntities()}createSpawningEntity(t){const e=n,s=t[e(2249)];if(!this._isReady)return void console[e(4273)](e(3451)+s+e(1472));const i=this._scene;let o;if(t[e(2688)]){const n=t.guid;if(o=i.getSpawnableSceneEntity(n),!o)return void console[e(4273)](e(3555)+s+e(3645),n);const a=o[e(2954)];a.setPosition(t[e(639)]),a.setRotation(t.rotation)}else{const n=t[e(617)],i=g[e(1461)][e(4307)]()[e(832)].get(n);if(!i)return void console[e(4447)](e(3200)+s+e(256)+n+e(1274));const a=f[e(3604)].instantiate(i,null,t[e(639)],t.rotation);o=x[e(1904)][e(3590)](a,m.NetworkHandle),o||(console[e(4273)](e(1546)+m.NetworkHandle[e(3773)]+e(2408)+s+e(3237)),o=x[e(1904)].addScript(a,m[e(3554)])),o.assetId=n}return o.id=s,i[e(2637)](o),o}[n(4001)](t,e,s){const i=n,o=s.position;try{s[i(639)]=e,t.deserialize(s,!0)}catch(e){console[i(4447)]("Failed to deserialize initial state for spawning object "+t.id+":",e)}if(s[i(639)]=o,this[i(3981)]){const e=t[i(2954)];console[i(2045)](i(513)+t.id+" ("+e[i(3773)]+"):",e)}}[n(2591)](t){const e=n,s=this._spawningEntitiesBuffer;s[e(650)](0,s[e(3171)]),this[e(2900)][e(582)](t);const i=s[e(3171)];for(let n=0;n<i;n++){const i=s[n];this[e(4001)](i[e(1021)],i[e(2502)],t)}s[e(650)](0,i),this._spawningEntityInfo.dispose()}[n(3718)](t){const e=n,s=this._spawningEntityInfo;try{s[e(582)](t)}catch(t){return void console[e(4447)]("Encountered an error whilst deserializing a spawning entity:",t)}const i=this[e(2344)](s);if(!i)return void console.error(e(604)+s[e(2249)]+" from batch. Asset ID: "+(s[e(617)]||e(2433))+e(1229)+(s[e(3568)]||e(2433)));const o=new _0x18eb91(i,s[e(3050)],s[e(579)]);this[e(4110)][e(1757)](o)}deserializeEntityState(t){const e=n,s=t[e(2633)](),i=this[e(1389)].entities[e(3155)](s);if(i)try{i[e(582)](t,!1)}catch(t){console[e(4273)](e(244),t)}else console[e(4273)](e(3876)+s+e(1274))}deserializeEntityStates(t){this[n(1694)].deserialize(t)}onPreSceneLoad(t){const e=n;this[e(4098)]&&t[e(2089)]===_[e(3997)][e(2419)]&&(console[e(4273)](e(2827)),this[e(2600)](!1))}[n(2514)](){this.setReady(!0)}[n(3536)](){this.setReady(!1)}[n(3894)](t){const e=n;if(w.GameSession[e(1902)])return;const s=t[e(2977)],i=s.rawEntity,o=this[e(2344)](i);o?this[e(4001)](o,i.statePointer,s[e(3951)]):console[e(4447)](e(604)+i[e(2249)]+e(1542)+(i.assetId||e(2433))+e(1229)+(i.guid||e(2433)))}[n(1844)](t){const e=n;if(w[e(3597)][e(1902)])return;const s=t.message;this[e(2591)](s[e(2659)][e(3951)]),this[e(2406)][e(2356)]()}onEntityStateReplicationMessage(t){const e=n;if(w[e(3597)][e(1902)])return;const s=t.message;this[e(2700)](s[e(2659)].stream)}onEntityStateReplicationBatchMessage(t){const e=n;if(w[e(3597)][e(1902)])return;const s=t[e(2977)];this[e(933)](s[e(2659)][e(3951)])}[n(1797)](t){const e=n;if(w[e(3597)][e(1902)])return;const s=this[e(1389)],i=t[e(2977)][e(2249)],o=s[e(2670)](i);o?(this[e(3981)]&&console.log(e(339)+i+"."),s.removeEntity(o,!0)):console[e(4273)](e(2926)+i+e(1274))}[n(1359)](t){const e=n,s=t[e(2977)].handleId,i=this[e(1389)][e(2670)](s);i?i[e(1346)](t):console.warn(e(2739)+s+".")}}e[n(699)]=_0xabe307;class _0x18eb91{constructor(t,e,s){const i=n;this[i(1021)]=t,this[i(2502)]=e,this[i(579)]=s}}},3102:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(911)]=e.EntityStateReplicationBatchMessage=e[n(4413)]=e[n(378)]=e[n(745)]=e[n(1336)]=void 0;const i=s(3338),o=s(6065);class _0x4cede3{constructor(){const t=n;this.netId=0,this.assetId=0,this[t(3568)]=null,this[t(639)]=new i.Vec3,this[t(479)]=new(i[t(2894)])}get[n(2688)](){return 0===this[n(617)]}static[n(2064)](t,e){const s=n;e[s(4133)](t.id);const i=t[s(617)],o=0===i;e.writeBool(o),o?e[s(3229)](t[s(3568)]):e[s(2389)](i);const a=t[s(2954)];e[s(1795)](a[s(1344)]()),e[s(3910)](a[s(1955)]());const r=e[s(639)];e[s(4018)](0);const c=e.position;if(t[s(2064)](e,!0)){const t=e[s(639)],n=t-c;e[s(639)]=r,e[s(4018)](n),e.position=t}else e[s(639)]=c}[n(582)](t){const e=n;this[e(2249)]=t.readPackedUInt32(),t[e(3812)]()?(this.guid=t[e(3148)](),this[e(617)]=0):(this[e(3568)]=null,this[e(617)]=t.readPackedInt32()),t.readVector3(this[e(639)]),t[e(2191)](this[e(479)]),this[e(579)]=t[e(819)](),this[e(3050)]=t[e(639)],t.position+=this.stateSize}[n(1081)](){const t=n;this[t(3568)]=null,this[t(2249)]=this[t(617)]=this[t(3050)]=this.stateSize=0}}e[n(1336)]=_0x4cede3;class _0x204b4b extends o[n(2952)]{constructor(){const t=n;super(...arguments),this[t(2685)]=new _0x4cede3}get[n(4325)](){return this[n(2685)]}get[n(3951)](){return this[n(3995)]}[n(1876)](t){this[n(2229)]=t}[n(2064)](t){const e=n;return _0x4cede3[e(2064)](this[e(2229)],t),!0}[n(582)](t){const e=n;this[e(3995)]=t,this[e(2685)][e(582)](t)}[n(1081)](){const t=n;this[t(2229)]=null,this[t(2685)][t(1081)]()}}e.EntitySpawnMessage=_0x204b4b;class _0x12a83a extends o[n(2952)]{serialize(t){const e=n;return this.module[e(786)](t)}deserialize(t){}[n(1081)](){this[n(2136)]=void 0}}e[n(378)]=_0x12a83a;class _0x1e0f81 extends o.GameMessage{constructor(t){super(),t&&(this.netId=t.id)}[n(1876)](t){this[n(2249)]=t.id}[n(2064)](t){const e=n;return t[e(2389)](this[e(2249)]),!0}deserialize(t){const e=n;this[e(2249)]=t[e(359)]()}dispose(){this.netId=-1}}e.EntityDespawnMessage=_0x1e0f81;class _0x1b5f6a extends o.GameMessage{serialize(t){const e=n;return this[e(2136)][e(2178)](t)}[n(582)](t){}dispose(){this[n(2136)]=void 0}}e[n(3571)]=_0x1b5f6a;class _0x286158 extends o[n(2952)]{[n(2064)](t){const e=n;return this.module[e(1583)](this[e(4422)],t)}deserialize(t){}[n(1081)](){this[n(2136)]=this.networkHandle=void 0}}e[n(911)]=_0x286158},1240:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e[n(2911)]=void 0;const i=s(4568),o=s(6557),a=s(4505),r=s(3435),c=s(7409),h=s(3102),l=s(8367),d=s(7983),u=s(3784),p=s(4430),_=s(6546);class _0x1c0bef extends _[n(2411)]{constructor(){const t=n;super(...arguments),this[t(747)]=new(d[t(1291)])(this.serializeEntity[t(4467)](this),null),this[t(761)]=new(d[t(1291)])(this[t(1583)].bind(this),null),this[t(3981)]=!1}[n(3311)](){const t=n,e=this[t(1389)]=r[t(466)][t(2216)];e[t(2067)].addListener(this[t(2067)],this),e[t(2065)][t(324)](this.onEntityDespawnPending,this),e[t(4246)][t(324)](this.onEntityDespawned,this);const s=this.owner;s[t(2197)](p[t(605)]).onSceneReady.addListener(this[t(795)],this);const c=s.messageDomain;c[t(327)](i[t(3514)].ready,o[t(1397)],this.onClientReadyMessage.bind(this)),c.setHandler(i[t(3514)].notReady,o[t(1397)],this[t(1939)].bind(this)),c[t(327)](i[t(3514)][t(2042)],a[t(992)],this.onRpcMessage[t(4467)](this))}[n(3088)](){}[n(2785)](){const t=n,e=this[t(1389)];e[t(2067)][t(3491)](this[t(2067)],this),e[t(2065)][t(3491)](this[t(2065)],this),e.onEntityDespawned.removeListener(this[t(4246)],this),r[t(466)].dispose()}netTick(t){this[n(2990)]()}[n(2990)](){const t=n,e=u[t(2081)].instance;if(!e[t(3350)]||!e[t(2903)])return;const s=c.MessagePool.getMessage(h.EntityStateReplicationBatchMessage);s[t(2136)]=this,this[t(736)].sendMessageToAll(i[t(3514)][t(3622)],s,l[t(944)].reliableSequenced,!0)}[n(786)](t){const e=n;return this[e(747)][e(2064)](this._scene[e(537)],t)}serializeEntity(t,e){const s=n;return h[s(1336)][s(2064)](t,e),!0}[n(2178)](t){const e=n;return this[e(761)].serialize(this[e(1389)].entities,t)}[n(1583)](t,e){const s=n;return e[s(4133)](t.id),t[s(2064)](e,!1)}onSceneReady(){const t=n;this[t(1389)][t(3474)]()}[n(2067)](t){const e=n,s=this[e(736)];if(!s[e(1773)].hasReadyClients)return;const o=c[e(1965)][e(1753)](h[e(745)]);o[e(1876)](t),s[e(1952)](i[e(3514)][e(367)],o,l[e(944)].reliableSequenced,!0)}[n(2065)](t){const e=n,s=this.owner;if(!s[e(1773)][e(3350)])return;const o=c[e(1965)][e(1753)](h[e(911)]);o[e(2136)]=this,o[e(4422)]=t,s.sendMessageToAll(i[e(3514)][e(2274)],o,l[e(944)][e(1251)],!0)}[n(4246)](t){const e=n,s=this[e(736)];if(!s[e(1773)][e(3350)])return;const o=c[e(1965)][e(1753)](h.EntityDespawnMessage);o.configure(t),s[e(1952)](i[e(3514)][e(821)],o,l[e(944)][e(1251)],!0)}[n(3115)](t){const e=n,s=t[e(3376)];if(s[e(744)])return void console.warn("Received a ready message for client "+s[e(4263)]+e(3640),s);if(s.isReady=!0,this[e(3981)]&&console[e(2045)](e(1479)+s.routingId+e(874)),s.isLocalClient)return;const o=c[e(1965)].getMessage(h.EntitySpawnBatchMessage);o[e(2136)]=this,s[e(3303)][e(2230)](i.GameMessageType[e(1679)],o,l[e(944)][e(1251)])}[n(1939)](t){const e=n,s=t[e(3376)];s[e(744)]?(s.isReady=!1,console[e(2045)]("Client "+s[e(4263)]+" is not ready.")):console[e(4273)](e(2892)+s.routingId+e(4361),s)}[n(1359)](t){const e=n,s=t[e(2977)][e(349)],i=this._scene[e(2670)](s);i?i[e(1346)](t):console[e(4273)](e(2739)+s+".")}}e[n(2911)]=_0x1c0bef},6258:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(1881)]=void 0;const i=s(274),o=s(7983);class _0x18baf extends i[n(1092)]{constructor(t,e,s){const i=n;super(t,[]),this[i(2280)]=this[i(391)]=this[i(4158)],this[i(665)]=e,this[i(2517)]=s,this[i(1451)]=new(o[i(1291)])(this[i(3807)].bind(this),this.deserializeItem[i(4467)](this))}get[n(3171)](){const t=n;return this[t(391)][t(3171)]}[n(1757)](...t){const e=n;this[e(391)].push(...t),this[e(668)]()}splice(t,e){const s=n;this._items[s(650)](t,e),this[s(668)]()}[n(4326)](){const t=n,e=this[t(391)],s=e[t(3171)];0!==s&&(e[t(650)](0,s),this[t(668)]())}[n(3855)](t,e){const s=n,i=this[s(391)],o=i[s(3171)];for(let n=0;n<o;n++){const o=i[n];t[s(1142)](e,o)}}[n(2614)](t,e){const s=n;return this._items[s(2614)](t,e)}findIndex(t){const e=n;return this[e(391)][e(3578)](t)}[n(2064)](t){const e=n;this._collectionSerializer[e(2064)](this[e(391)],t)}serializeItem(t,e){return this[n(665)](t,e)}[n(582)](t){const e=n,s=this[e(391)];s.splice(0,s[e(3171)]),this[e(1451)].deserialize(t),this[e(668)]()}[n(2318)](t){const e=n,s=this[e(2517)](t);s?this[e(391)].push(s):console[e(4273)]("Failed to deserialize an item in a NetArray.",this)}}e[n(1881)]=_0x18baf},1645:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(3043)]=void 0;const i=s(274);class _0x4f6c4d extends i.NetVar{constructor(t,e=!1){super(t,e)}[n(2064)](t){t[n(1608)](this.value)}[n(582)](t){const e=n;this[e(4229)](t[e(3812)](),!0)}}e.NetBoolean=_0x4f6c4d},6951:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e.NetFloat=void 0;const i=s(274);class _0x2f2e59 extends i[n(1092)]{constructor(t,e=0){super(t,e)}[n(2064)](t){const e=n;_0x2f2e59._floatArray[0]=this.value,t[e(3518)](_0x2f2e59[e(3868)])}[n(582)](t){const e=n,s=_0x2f2e59._floatByteArray;s[0]=t[e(2574)](),s[1]=t.readByte(),s[2]=t[e(2574)](),s[3]=t[e(2574)](),this[e(4229)](_0x2f2e59._floatArray[0],!0)}}e.NetFloat=_0x2f2e59,_0x2f2e59[n(4058)]=new Float32Array(1),_0x2f2e59[n(3868)]=new Uint8Array(_0x2f2e59[n(4058)].buffer)},9308:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e[n(2384)]=void 0;const i=s(274),o=s(3435);class _0x474e49 extends i[n(1092)]{constructor(t,e=null){super(t,e)}[n(2064)](t){const e=n;t[e(4133)](this[e(4158)].id)}[n(582)](t){const e=n,s=t[e(2633)]();if(s<=0)return void this.setValue(null,!0);let i=o.NetworkScene[e(2216)][e(2670)](s);i||(i=null,console[e(4273)](e(3738)+s+".")),this[e(4229)](i,!0)}}e.NetHandleRef=_0x474e49},8309:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(351)]=void 0;const i=s(274);class _0x4b2d33 extends i[n(1092)]{constructor(t,e=0){super(t,e)}[n(2064)](t){const e=n;t[e(2389)](this[e(4158)])}[n(582)](t){this[n(4229)](t.readPackedInt32(),!0)}}e[n(351)]=_0x4b2d33},4557:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e[n(3002)]=void 0;const i=s(274),o=s(7956),a=s(1432),r=s(3435);class _0x28f3e3 extends i[n(1092)]{constructor(t,e,s=null){const i=n;super(t,s),this[i(1293)]=e}[n(2064)](t){const e=n;let s=0;const i=this[e(4158)];if(i){const t=o[e(1904)][e(3590)](i[e(2954)],a[e(3554)]);t?s=t.id:console.warn(_0x28f3e3[e(3773)]+e(1729),this)}t[e(4133)](s)}[n(582)](t){const e=n,s=t[e(2633)]();if(s<=0)return void this[e(4229)](null,!0);let i=null;const a=r[e(466)].instance[e(2670)](s);if(a){const t=o[e(1904)].getScript(a[e(2954)],this[e(1293)]);t?i=t:console[e(4273)](_0x28f3e3[e(3773)]+e(2138)+this[e(1293)][e(3773)]+'" on object with ID '+s+".",this)}else console[e(4273)](_0x28f3e3[e(3773)]+e(3767)+s+".",this);this[e(4229)](i,!0)}}e[n(3002)]=_0x28f3e3},1515:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(4409)]=void 0;const i=s(274);class _0x348a74 extends i[n(1092)]{constructor(t,e=""){super(t,e)}[n(2064)](t){const e=n,s=_0x348a74[e(2341)][e(514)](this[e(4158)]);t[e(3119)](s)}[n(582)](t){const e=n,s=t.readBytesAndSize(),i=_0x348a74[e(750)][e(3427)](s);this[e(4229)](i,!0)}}e.NetString=_0x348a74,_0x348a74[n(2341)]=new TextEncoder,_0x348a74[n(750)]=new TextDecoder},5402:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,s(3500),{value:!0}),e[s(2769)]=void 0;class _0x95a45{constructor(){const t=s;this[t(1282)]=[],this[t(915)]=0}get[s(2336)](){return this[s(1282)]}[s(1917)](t){const e=s;if(0!==t[e(1018)])return void console[e(4273)]("Tried to register net var but the net var has already been registered.",t);const n=this[e(1282)],i=1<<n[e(3171)];n[e(1757)](t),t[e(1675)](this,i)}[s(1240)](t){const e=s;t.replicator===this?this[e(915)]|=t[e(1018)]:console[e(4273)](_0x95a45.name+e(484))}[s(2064)](t,e){const n=s,i=this[n(1282)],o=i[n(3171)];if(0===o)return!1;let a;if(e)a=4294967295;else if(a=this[n(915)],t[n(4133)](a),0===a)return!1;for(let e=0;e<o;e++){const s=i[e],o=s.bitMask;if(0!=(a&o)){try{s[n(2064)](t)}catch(t){console[n(4447)](n(3703),t,s)}if(a&=~o,0===a)break}}return this[n(915)]=0,!0}deserialize(t,e){const n=s,i=this._netVars,o=i[n(3171)];if(0===o)return;let a;if(e)a=4294967295;else if(a=t[n(2633)](),0===a)return;for(let e=0;e<o;e++){const s=i[e],o=s[n(1018)];if(0!=(a&o)){try{s[n(582)](t)}catch(t){throw console[n(4447)]("Encountered an error whilst deserializing a net var:",t,s),t}if(a&=~o,0===a)break}}}}e[s(2769)]=_0x95a45},274:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(1092)]=void 0;const i=s(1068),o=s(5518);e[n(1092)]=class _0x318157{constructor(t,e){const s=n;this[s(2723)]=0,this[s(2059)]=!1,this[s(3757)]=new(i[s(2503)]),this[s(561)]=new(i[s(1990)]),this._replicator=t instanceof o.NetworkBehavior?t[s(4453)]:t,this[s(265)][s(1917)](this),this.setValue(e,!1,!0)}get[n(1018)](){return this[n(2723)]}get[n(4158)](){return this[n(503)]}set[n(4158)](t){this[n(4229)](t)}get[n(2898)](){return this._replicator}[n(4229)](t,e=!1,s=!1){const i=n;if(!this[i(2059)]&&t===this._value)return;const o=this[i(503)];this[i(503)]=t,s||(e||this.setDirty(),this[i(3757)].safeInvoke(this[i(503)],o))}[n(668)](){const t=n;this._replicator[t(1240)](this),this[t(561)][t(2356)](this)}[n(1675)](t,e){const s=n;this[s(265)]=t,this[s(2723)]=e}}},5518:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e[n(3520)]=void 0;const i=s(855),o=s(101),a=s(5402),r=s(6486);class _0x57332f extends i.Behavior{constructor(){const t=n;super(...arguments),this[t(1353)]=new a.NetVarReplicator}get[n(3671)](){return this[n(3737)]}get[n(4422)](){return this[n(2902)]}get[n(490)](){const t=n;return this[t(2902)][t(490)]}get[n(4453)](){return this[n(1353)]}get[n(3134)](){const t=n;return r[t(3597)][t(3134)]}get isServer(){const t=n;return r[t(3597)][t(1902)]}[n(3488)](){const t=n;this[t(3737)]=new(o[t(3355)])(this),this._networkHandle=this[t(3737)][t(1021)]}[n(610)](){}[n(2064)](t,e){const s=n;return this[s(1353)][s(2064)](t,e)}[n(582)](t,e){this[n(1353)].deserialize(t,e)}}e.NetworkBehavior=_0x57332f},101:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(3355)]=void 0;const i=s(1432),o=s(7409),a=s(4505),r=s(3519),c=s(1986),h=s(3721),l=s(4568);e.NetworkComponent=class _0x296269{constructor(t){const e=n;this[e(2993)]=new(r[e(1962)]),this[e(575)]=t;const s=this.handle=t[e(3590)](i[e(3554)])||t[e(3211)](i[e(3554)]);this.indexInHandle=s[e(3189)](this)}get[n(4006)](){return this._rpcDomain}[n(2873)](t,e,s){const i=n;this._rpcDomain[i(327)](t,e,s)}[n(493)](t){this[n(2993)].unsetHandler(t)}[n(1466)](){this[n(2993)].unsetHandlers()}[n(1383)](t,e,s,i){const r=n,d=o.MessagePool[r(1753)](a[r(992)]);if(d[r(1876)](this,t,e),c[r(1555)][r(2917)])c.Client[r(2216)][r(3303)][r(2230)](l[r(3514)][r(2042)],d,s);else if(h[r(4155)].isActive){const t=h[r(4155)][r(2216)];i&&i[r(3171)]>0?t.sendMessage(l[r(3514)].rpc,d,s,i):t[r(1952)](l[r(3514)].rpc,d,s,!0)}else console[r(4447)](r(2094)+t+r(2553),this)}[n(2064)](t,e){return this[n(575)].serialize(t,e)}[n(582)](t,e){const s=n;this[s(575)][s(582)](t,e)}}},1432:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,"__esModule",{value:!0}),e[n(3554)]=void 0;const i=s(855),o=s(3435),a=s(1536),r=s(3784),c=s(215),h=s(6486),l=s(1068);class _0x95e7f2 extends i.Behavior{constructor(){const t=n;super(...arguments),this[t(1548)]=0,this[t(1001)]=!1,this[t(2946)]=!1,this[t(3507)]=!1,this[t(3186)]=!1,this[t(998)]=[],this[t(1974)]=new(c[t(3438)])(this[t(998)],this[t(2471)].bind(this),this.deserializeComponent[t(4467)](this)),this[t(3954)]=0,this[t(617)]=0,this[t(1501)]=!0,this[t(4146)]=new(l[t(1990)]),this[t(467)]=new(l[t(1990)])}get[n(736)](){return this[n(3027)]}get hasAuthority(){const t=n;return this[t(2946)]?this[t(3507)]:h[t(3597)].isServer}get id(){return this._id}set id(t){if(t===this._id)return;const e=this._id;this._id=t,this.onIdChangedInternal(t,e)}get[n(1528)](){return this._id>0}get[n(3568)](){return this[n(2954)].getGuid()}get[n(2688)](){return!!this[n(3568)]}postConstruct(){const t=n;!this.hasSpawned&&(this[t(2688)]&&o.NetworkScene[t(2216)][t(464)](this),this.autoSpawn&&h[t(3597)][t(1902)]&&o[t(466)].instance.spawnEntity(this),this[t(1558)]())}[n(610)](){const t=n;if(!this[t(1528)])return;const e=o.NetworkScene[t(2216)];e&&e[t(991)](this)}receiveRpc(t){const e=n,s=t[e(2977)];if(s.handleId!==this[e(3954)])throw new Error(e(720));const i=this[e(998)],o=i[e(3171)],a=s[e(958)];a<0||a>o-1?console[e(4273)](e(2893)+a+")."):i[a][e(4006)].receiveRpc(t)}[n(3189)](t){const e=n,s=this[e(998)];if(s[e(2614)](t)>=0)return void console[e(4273)]("Can't add NetworkComponent to handle because it has already been added.",t);const i=s[e(3171)];return s.push(t),i}[n(4340)](t){const e=n;t!==this[e(3027)]&&(this[e(3027)]=t,this[e(1558)](),this._dirtyMask|=1)}[n(2799)](t){const e=n;this._hasForcedAuthority=t,this[e(1558)]()}[n(1558)](){const t=n,e=this._owner,s=this[t(1528)],i=!!e&&e===a[t(531)][t(719)];this[t(3507)]=!s||this._hasForcedAuthority||i,this._isAuthorityConfigured=!s||this._hasForcedAuthority||!!e}[n(2064)](t,e){const s=n;let i=!1;e&&(this[s(1548)]|=_0x95e7f2[s(3879)]);const o=t[s(639)];if(t[s(1186)](0),this._dirtyMask&_0x95e7f2[s(3879)]){const e=this[s(3027)];t[s(2389)](e?e[s(4263)]:-1),i=!0}if(this[s(866)](t,e)&&(i=!0),0!==this[s(1548)]){const e=t[s(639)];t[s(639)]=o,t.writeByte(this._dirtyMask),t.position=e,this._dirtyMask=0}return i}[n(866)](t,e){const s=n,i=t[s(639)];return this[s(1001)]=e,this[s(1974)][s(2064)](t)?(this[s(1548)]|=_0x95e7f2[s(1693)],!0):(t.position=i,!1)}[n(2471)](t,e){const s=n;try{return t[s(2064)](e,this._isProcessingInitialState)}catch(e){const n=t[s(3414)];return console[s(4447)]('Encountered an error whilst serializing network component of type "'+n[s(3773)]+'" on entity "'+this.entity[s(3773)]+'":',e),!1}}deserialize(t,e){const s=n,i=t[s(2574)]();if(i&_0x95e7f2._ownerMask){const e=t.readPackedInt32(),n=r[s(2081)][s(2216)];this.setOwner(n[s(2919)](e))}this[s(1085)](t,e,i)}deserializeComponents(t,e,s){const i=n;s&_0x95e7f2[i(1693)]&&(this._isProcessingInitialState=e,this[i(1974)][i(582)](t))}[n(3302)](t,e){const s=n;try{t[s(582)](e,this[s(1001)])}catch(e){const n=t[s(3414)];console[s(4447)](s(4238)+n[s(3773)]+'" on entity "'+this[s(2954)][s(3773)]+'":',e)}}onIdChangedInternal(t,e){const s=n,i=t>0;e>0!==i&&(i?this[s(2478)]():this[s(2835)]())}[n(2478)](){const t=n;this[t(1558)](),this[t(4146)].safeInvoke(this)}[n(2835)](){const t=n;this[t(1558)](),this[t(467)][t(2356)](this)}}e.NetworkHandle=_0x95e7f2,_0x95e7f2[n(3879)]=1,_0x95e7f2[n(1693)]=2,_0x95e7f2[n(3311)](n(3554),[new(i[n(3024)])(n(1501),{type:i.AttributeType[n(3836)],default:!0})])},3435:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e[n(466)]=void 0;const i=s(1432),o=s(1402),a=s(7956),r=s(1068),c=s(6486),h=s(1869),l=s(5500);class _0x359771{constructor(){const t=n;this[t(3354)]=0,this[t(705)]=new Map,this._spawnableSceneEntities=new Map,this[t(3531)]=[],this[t(2067)]=new(r[t(1990)]),this[t(2065)]=new(r[t(1990)]),this.onEntityDespawned=new r.DelegateP1,this[t(2014)]=!0,h[t(932)].instance[t(3306)][t(324)](this[t(3306)],this)}static get instance(){return _0x359771._instance||(_0x359771._instance=new _0x359771)}get entities(){return this[n(705)]}static[n(1081)](){const t=n;this[t(446)]&&(this[t(446)][t(1740)](),this._instance=void 0)}[n(1740)](){const t=n;this[t(2975)](),this._entities[t(4326)](),this._spawnableSceneEntities[t(4326)](),h[t(932)].instance[t(3306)].removeListener(this.onPreSceneLoad,this)}static[n(3452)](t,e=null,s=null,r=null){const c=n;if(!t)throw new Error(c(3882));const h=o[c(3604)].instantiate(t,e,s,r),l=a[c(1904)][c(3590)](h,i[c(3554)]);return l?l[c(617)]=t.id:console[c(4273)]("Instantiated template without a network handle."),h}static[n(1804)](t,e=null,s=null,i=null){const r=n;if(!t)throw new Error(r(4355));const c=o[r(3604)].getTemplate(t.entity),h=this.instantiate(c,e,s,i),l=t.constructor;return a.EntityUtils.getScript(h,l)}[n(4223)](t){const e=n;c[e(3597)][e(1902)]?t[e(1528)]?console[e(4273)](e(799),t):(t.id=++this[e(3354)],this[e(2637)](t)):console.error(e(2472))}[n(3474)](){const t=n;if(!c.GameSession[t(1902)])return void console[t(4447)](t(3071));const e=this._spawnableSceneEntities,s=e[t(2773)];if(0===s)return;const i=this[t(3531)];i[t(650)](0,i[t(3171)]);for(const s of e[t(4364)]())s[t(1501)]&&i[t(1757)](s);for(let e=0;e<s;e++){const s=i[e];this[t(4223)](s)}i.splice(0,i[t(3171)])}despawnEntity(t,e){const s=n;if(!t)throw new Error("No handle provided.");c[s(3597)][s(1902)]?t[s(1528)]?this[s(2288)](t,e):console[s(4273)]("Can't despawn entity because it has not been spawned.",t):console[s(4447)](s(3827),t)}addSpawnableSceneEntity(t){const e=n;return t[e(1528)]?(console[e(4273)](e(1136),t),!1):t[e(2688)]?(this._spawnableSceneEntities[e(2936)](t[e(3568)],t),!0):(console.warn("Can't register spawnable scene entity: the provided entity is not a scene entity.",t),!1)}addEntity(t){const e=n;if(!t.hasSpawned)return console[e(4273)](e(4308),t),!1;this._entities[e(2936)](t.id,t);const s=t[e(3568)];return s&&this[e(4360)].delete(s),this.onEntitySpawned[e(2356)](t),!0}[n(2288)](t,e){const s=n;return t[s(1528)]?(this[s(2065)][s(2356)](t),this[s(705)][s(1049)](t.id),this[s(4246)][s(2356)](t),t.id=0,e&&t.entity[s(3039)](),!0):(console[s(4273)](s(348),t),!1)}[n(2975)](t){const e=n;null==t&&(t=!this[e(2014)]);const s=this._handleBuffer;s.splice(0,s.length);const i=this._entities;for(let t of i.values())s[e(1757)](t);const o=s[e(3171)];for(let e=0;e<o;e++){const n=s[e];this.removeEntity(n,t)}s[e(650)](0,s.length)}[n(2670)](t){const e=n;return this[e(705)][e(3155)](t)}[n(2405)](t){return this._spawnableSceneEntities.get(t)}[n(991)](t){t[n(1528)]&&(c.GameSession.isServer?this.despawnEntity(t,!1):this.removeEntity(t,!1))}[n(3306)](t){const e=n;t[e(2089)]===l.SceneLoadMode[e(2419)]&&t.onPreActivation[e(324)]((()=>{const t=e;this[t(4360)][t(4326)]()}))}}e[n(466)]=_0x359771},9933:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(4137)]=void 0;const i=s(5518),o=s(6244),a=s(2269),r=s(855),c=s(3338),h=s(5972),l=s(9991),d=s(4950),u=s(1813);class _0x44e674 extends i[n(3520)]{get[n(622)](){return this._rigidBody}[n(3488)](){const t=n;super[t(3488)](),this._rigidBody=this[t(2954)][t(1954)];let e=this[t(3590)](l[t(3252)]);e||(e=this.addScript(l.StateReplicator)),this[t(3356)]=e[t(3038)](this,_0x1eec01)}[n(1847)](t,e,s){const i=n,r=o[i(2395)][i(3155)](),h=a.QuatPool[i(3155)](),l=this[i(2954)],d=r.lerp(t[i(639)],e.position,s),u=h[i(3081)](t[i(479)],e.rotation,s),p=this[i(3320)];if(p){const n=r.lerp(t[i(853)],e[i(853)],s),o=r[i(372)](t.angularVelocity,e.angularVelocity,s);let a=0;const l=this.snapSettings,_=r[i(2266)](d,this[i(2954)][i(1344)]()),m=_[i(4269)](),g=l[i(3993)];if(m>g*g){const t=Math.sqrt(m),e=r[i(633)](_,t),s=n[i(2285)](e);a=s>0?t/s:1/0}if(a>l[i(1988)])this[i(1345)](d,u,n,o);else{const t=this[i(2687)],e=t.positionCorrectionStrength;n[i(1565)](_.mulScalar(e)),p[i(853)]=n;const s=h.invert(this[i(2954)][i(1955)]()),a=h[i(3059)](u,s)[i(1642)](r[i(3155)](!1)),l=r.mulScalar(a,c.math.DEG_TO_RAD),d=t.rotationCorrectionStrength,m=r[i(830)](l,d);o.add(m),p[i(1424)]=o}}else l[i(4345)](d),l[i(927)](u);r[i(1081)](),h.dispose()}[n(1395)](t,e){const s=n,i=this[s(3320)];if(i){if(t.hasExtrapolatedRigidBody)return;return i[s(853)]=t[s(853)],i[s(1424)]=t[s(1424)],void(t.hasExtrapolatedRigidBody=!0)}const r=t.olderState;if(r)return;const c=o[s(2395)][s(3155)](),h=a[s(2848)][s(3155)]();try{const n=this.entity,i=Math[s(1417)](t[s(1829)]-r[s(1829)],0),o=Math[s(1417)](e-t[s(1829)],0),a=c[s(2266)](t[s(639)],r[s(639)]),l=h.mul(t[s(479)],h[s(1367)](r[s(479)]))[s(1642)](c[s(3155)](!0)),d=1/i,u=c[s(830)](a,d),p=c[s(830)](l,d),_=c[s(2792)](t[s(639)]);_[s(1565)](c[s(830)](u,o));const m=h[s(2792)](t[s(479)]),g=c[s(830)](p,o),f=h[s(2491)](g.x,g.y,g.z);m[s(3059)](f),n[s(4345)](_),n[s(927)](m)}finally{c[s(1081)](),h[s(1081)]()}}[n(406)](t){const e=n;this[e(1345)](t[e(639)],t[e(479)],t[e(853)],t[e(1424)])}[n(1345)](t,e,s,i){const o=n,a=this[o(3590)](d[o(4432)]);if(a)return a[o(3587)](t,e),void a.setVelocities(s,i);const r=this[o(3320)];if(r)r.teleport(t,e),s&&(r[o(853)]=s),i&&(r[o(1424)]=i);else{const s=this[o(2954)];s[o(4345)](t),s[o(927)](e)}}}e[n(4137)]=_0x44e674;class _0x587a08 extends r[n(3184)]{}_0x587a08[n(394)]([new r.Attribute(n(3993),{type:r[n(4031)][n(1311)],default:1}),new(r[n(3024)])("etaDeadZone",{type:r.AttributeType.number,default:2})]);class _0x4fd1ff extends r[n(3184)]{}var p;_0x4fd1ff.addAttributes([new(r[n(3024)])(n(3700),{type:r[n(4031)].number,default:20}),new(r[n(3024)])(n(4088),{type:r[n(4031)][n(1311)],default:5})]),_0x44e674[n(3311)](n(4137),[new(r[n(3024)])("correctionSettings",{customType:_0x4fd1ff}),new(r[n(3024)])("snapSettings",{customType:_0x587a08})]),function(t){const e=n;t[t[e(4008)]=1]="positionX",t[t[e(3946)]=2]=e(3946),t[t[e(1034)]=4]="positionZ",t[t[e(3991)]=8]=e(3991),t[t.rotationY=16]=e(4411),t[t[e(2813)]=32]=e(2813),t[t.velocityX=64]=e(2300),t[t[e(4080)]=128]=e(4080),t[t[e(4225)]=256]="velocityZ",t[t[e(877)]=512]=e(877),t[t[e(1171)]=1024]=e(1171),t[t.angVelocityZ=2048]="angVelocityZ"}(p||(p={}));class _0x1eec01 extends h[n(4433)]{constructor(){const t=n;super(...arguments),this[t(639)]=new(c[t(1561)]),this[t(479)]=c[t(2894)].IDENTITY.clone(),this[t(853)]=new c.Vec3,this[t(1424)]=new(c[t(1561)]),this[t(522)]=!1}static[n(863)](t,e,s,i,o,a){const r=n;let c=0;return Math[r(961)](t.x-e.x)>s&&(c|=i),Math[r(961)](t.y-e.y)>s&&(c|=o),Math[r(961)](t.z-e.z)>s&&(c|=a),c}static copyAxes(t,e,s,n,i,o){let a=!1;return s&n&&(e.x=t.x,a=!0),s&i&&(e.y=t.y,a=!0),s&o&&(e.z=t.z,a=!0),a}getDifferenceMask(t){const e=n;let s=0;return s|=_0x1eec01[e(863)](this[e(639)],t[e(639)],_0x1eec01[e(2528)],p[e(4008)],p[e(3946)],p[e(1034)]),s|=_0x1eec01.diffAxes(this[e(479)],t.rotation,_0x1eec01[e(1358)],p[e(3991)],p[e(4411)],p.rotationZ),s|=_0x1eec01[e(863)](this[e(853)],t.linearVelocity,_0x1eec01._linearVelocityDeadZone,p[e(2300)],p[e(4080)],p[e(4225)]),s|=_0x1eec01.diffAxes(this[e(1424)],t.angularVelocity,_0x1eec01[e(3796)],p[e(877)],p[e(1171)],p.angVelocityZ),s}[n(4328)](t,e){const s=n;_0x1eec01[s(685)](t[s(639)],this[s(639)],e,p[s(4008)],p[s(3946)],p[s(1034)]),_0x1eec01[s(685)](t.rotation,this[s(479)],e,p[s(3991)],p.rotationY,p.rotationZ)&&(this.rotation.w=t.rotation.w),_0x1eec01[s(685)](t.linearVelocity,this.linearVelocity,e,p[s(2300)],p.velocityY,p[s(4225)]),_0x1eec01[s(685)](t[s(1424)],this.angularVelocity,e,p[s(877)],p[s(1171)],p.angVelocityZ)}[n(2520)](t,e){const s=n,i=t[s(2954)],o=i.rigidbody;_0x1eec01[s(685)](i[s(1344)](),this.position,e,p[s(4008)],p.positionY,p[s(1034)]);const a=i[s(1955)]();_0x1eec01[s(685)](a,this[s(479)],e,p[s(3991)],p[s(4411)],p[s(2813)])&&(this[s(479)].w=a.w),o&&(_0x1eec01[s(685)](o[s(853)],this[s(853)],e,p[s(2300)],p.velocityY,p[s(4225)]),_0x1eec01[s(685)](o[s(1424)],this[s(1424)],e,p[s(877)],p[s(1171)],p[s(1576)]))}[n(2064)](t,e){const s=n,i=this[s(639)];e&p[s(4008)]&&t.writeFloat(i.x),e&p[s(3946)]&&t.writeFloat(i.y),e&p[s(1034)]&&t[s(3117)](i.z);const o=this[s(479)];let a=!1;e&p[s(3991)]&&(_0x1eec01[s(294)](o.x,t),a=!0),e&p[s(4411)]&&(_0x1eec01[s(294)](o.y,t),a=!0),e&p[s(2813)]&&(_0x1eec01[s(294)](o.z,t),a=!0),a&&_0x1eec01[s(294)](o.w,t),_0x1eec01[s(3561)](this.linearVelocity,e,p[s(2300)],p[s(4080)],p[s(4225)],t,_0x1eec01[s(613)]),_0x1eec01[s(3561)](this[s(1424)],e,p[s(877)],p[s(1171)],p[s(1576)],t,_0x1eec01[s(3582)])}static[n(294)](t,e){const s=n,i=Math[s(1599)](c[s(2930)][s(3464)](t,-1,1)*u[s(3866)][s(3924)]);e.writeInt16(i)}static[n(3561)](t,e,s,i,o,a,r){const c=n;e&s&&this[c(3126)](t.x,a,r),e&i&&this[c(3126)](t.y,a,r),e&o&&this[c(3126)](t.z,a,r)}static[n(3126)](t,e,s){const i=n,o=u[i(3866)][i(3924)],a=c.math[i(3464)](Math[i(1599)](t*Math[i(3455)](10,s)),-o,o);e[i(3968)](a)}[n(582)](t,e){const s=n,i=this.position;e&p[s(4008)]&&(i.x=t.readFloat()),e&p.positionY&&(i.y=t[s(2876)]()),e&p.positionZ&&(i.z=t.readFloat());let o=!1;const a=this[s(479)];e&p.rotationX&&(a.x=_0x1eec01[s(1349)](t),o=!0),e&p[s(4411)]&&(a.y=_0x1eec01[s(1349)](t),o=!0),e&p[s(2813)]&&(a.z=_0x1eec01[s(1349)](t),o=!0),o&&(a.w=_0x1eec01.deserializeRotationAxis(t)),_0x1eec01[s(2447)](this[s(853)],e,p[s(2300)],p.velocityY,p[s(4225)],t,_0x1eec01[s(613)]),_0x1eec01[s(2447)](this[s(1424)],e,p.angVelocityX,p.angVelocityY,p[s(1576)],t,_0x1eec01[s(3582)])}static deserializeRotationAxis(t){const e=n;return t[e(1774)]()/u[e(3866)].Int16MaxValue}static[n(2447)](t,e,s,i,o,a,r){const c=n;e&s&&(t.x=this.deserializeVelocityAxis(a,r)),e&i&&(t.y=this[c(2342)](a,r)),e&o&&(t.z=this.deserializeVelocityAxis(a,r))}static deserializeVelocityAxis(t,e){const s=n;return t[s(1774)]()/Math[s(3455)](10,e)}[n(4326)](){const t=n;this[t(639)][t(2936)](0,0,0),this[t(479)][t(3172)](c[t(2894)][t(2992)]),this[t(853)].set(0,0,0),this[t(1424)][t(2936)](0,0,0),this[t(522)]=!1}}_0x1eec01[n(2528)]=.01,_0x1eec01._rotationDeadZone=1/360*.5,_0x1eec01[n(1708)]=.01,_0x1eec01[n(3796)]=.01,_0x1eec01[n(613)]=2,_0x1eec01[n(3582)]=2},4104:(t,e)=>{Object[a0_0x520a(3104)](e,"__esModule",{value:!0})},4178:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e[n(3759)]=void 0;const i=s(7639),o=s(8230),a=s(1465),r=s(6486),c=s(3338);class _0x23ed02 extends i.ClientHandleModule{constructor(){const t=n;super(...arguments),this._hasSetInitialDisplacement=!1,this[t(2841)]=0,this._targetTimeDisplacement=0}get[n(1271)](){return this[n(2841)]}[n(3311)](){const t=n;r[t(3597)][t(1902)]&&(this._tickFunction=new(o[t(674)])(o[t(357)].tick,this[t(2593)][t(4467)](this),a[t(630)][t(2613)]),this[t(736)][t(3303)][t(3139)][t(324)](this[t(3139)],this))}start(){const t=n;var e;null===(e=this._tickFunction)||void 0===e||e[t(3400)]()}[n(2785)](){var t;null===(t=this._tickFunction)||void 0===t||t.unregister()}tickDisplacement(t){const e=n,s=t*_0x23ed02.displacementChangeSpeed;this[e(2841)]=c[e(2930)].lerp(this[e(2841)],this[e(4299)],s)}[n(3139)](t,e){const s=n;this[s(4299)]=.5*e,this[s(1849)]||(this[s(2841)]=this[s(4299)],this[s(1849)]=!0)}}e[n(3759)]=_0x23ed02,_0x23ed02[n(2733)]=.25},3927:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e[n(2119)]=void 0;const i=s(6435),o=s(6486),a=s(6202),r=s(6510),c=s(3338);class _0x2cc2b3 extends a.ClientModule{static get[n(1079)](){return this[n(385)]}[n(3311)](){const t=n,e=_0x2cc2b3,s=i[t(465)].instance,o=this[t(4407)]=s.interpolationSettings;e._delay=e[t(2001)]=o.startingDelay}[n(3088)](){}[n(2785)](){}[n(1339)](t){this[n(3429)](t)}[n(3429)](t){const e=n,s=_0x2cc2b3,i=.5*r[e(3060)][e(1830)],a=o[e(3597)][e(2216)][e(721)][e(902)];s[e(2001)]=i+this[e(4407)][e(3249)]*(1/a);const h=this[e(4407)][e(3085)];s._delay=c.math[e(372)](s[e(385)],s[e(2001)],t*h)}}e[n(2119)]=_0x2cc2b3,_0x2cc2b3[n(385)]=0,_0x2cc2b3[n(2001)]=0},5116:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,"__esModule",{value:!0}),e.ServerInterpolationModule=void 0;const i=s(6546),o=s(4178);class _0x9da75c extends i.ServerModule{[n(3311)](){const t=n,e=this[t(736)][t(1310)].room;e.onClientJoined[t(324)](this[t(541)],this);const s=e[t(3296)],i=s[t(3171)];for(let e=0;e<i;e++){const n=s[e];this[t(541)](n)}}start(){}stop(){}[n(541)](t){const e=n;t[e(3731)](new(o[e(3759)]))}}e[n(872)]=_0x9da75c},1461:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e[n(1456)]=e[n(3967)]=void 0;const i=s(6880),o=s(4919);var a;!function(t){const e=n;t[t.delta=0]="delta",t[t[e(3201)]=1]=e(3201),t[t[e(1861)]=2]=e(1861)}(a=e[n(3967)]||(e.StateFrameType={}));class _0x172480{constructor(){const t=n;this[t(722)]=0,this._totalStates=0,this[t(4236)]=Array(5)}get[n(1829)](){return this[n(1102)]}get[n(2403)](){return this[n(1643)]}get[n(550)](){return this[n(1820)]}get[n(1752)](){const t=n;var e;return null===(e=this[t(494)].previous)||void 0===e?void 0:e[t(4158)]}get next(){const t=n;var e;return null===(e=this[t(494)][t(456)])||void 0===e?void 0:e[t(4158)]}static[n(3155)](t,e=a.delta,s=0){const i=n,o=this[i(852)][i(363)]();return o._replicator=t,o[i(1102)]=s,o[i(1643)]=e,o.validateStateBufferSize(),e===a[i(1861)]&&o.createSupplementalStates(),o}static[n(4289)](t){const e=n;t[e(1081)](),this[e(852)][e(2925)](t)}[n(1081)](){const t=n;this._type=this[t(1102)]=this[t(722)]=this._totalStates=0,this[t(265)]=this[t(494)]=this.forwardNode=void 0,this[t(1589)]()}[n(3690)](){const t=n;return"T:"+this[t(1102)][t(390)](2)}[n(2364)](t,e){const s=n,i=e[s(1198)],o=this[s(4236)];o[i]?console[s(4447)](s(4456)+this+s(2339)+e[s(1263)].name+'".'):(t.frame=this,t[s(2136)]=e,o[i]=t,this._totalStates++,0!==t[s(3005)]&&(this._moduleMask|=1<<i))}[n(2220)](t){const e=n;return this._states[t[e(1198)]]}[n(1401)](){const t=n,e=this._replicator,s=e[t(1824)];if(!s)return void console[t(4447)](t(1850),e);const i=this[t(265)][t(2928)],o=i.length;for(let e=0;e<o;e++){const n=i[e],o=s[t(2220)](n),a=n[t(2315)](o);a.deltaMask=0,this[t(2364)](a,n)}}[n(4064)](){const t=n,e=this[t(1643)]===a[t(3201)],s=this[t(4236)],i=this[t(265)][t(2928)],o=i[t(3171)];for(let n=0;n<o;n++){const o=i[n];if(s[o[t(1198)]]){console[t(4447)](t(4228)+o[t(1263)][t(3773)]+t(1622));continue}const a=o[t(2365)](e);this[t(2364)](a,o)}}[n(2259)](){const t=n,e=this[t(265)][t(2928)][t(3171)],s=this[t(4236)],i=s[t(3171)];if(i>=e)return;const o=Array(2*e);for(let t=0;t<i;t++)o[t]=s[t];this._states=o}[n(1589)](){const t=n,e=this[t(4236)],s=e[t(3171)];for(let n=0;n<s;n++){const s=e[n];s&&(s[t(2136)][t(3511)](s),e[n]=void 0)}this._totalStates=0}serialize(t,e,s){const i=n,o=e?255:this._moduleMask;if(0===o&&!s)return!1;const r=e?a.full:this[i(1643)];if(r===a.supplemental)return console[i(4447)](i(2416)+this+".",this),!1;t[i(1186)](r),t.writeFloat(this[i(1102)]),t[i(1186)](o);const c=this._replicator[i(2571)];c.enabled&&this[i(593)](c,r,o);const h=this[i(4236)],l=r===a[i(3201)],d=this[i(265)][i(2928)],u=d[i(3171)];for(let s=0;s<u;s++){const n=d[s];if(0!=(o&1<<s))try{const s=h[n[i(1198)]];if(!s)return console.error('State of type "'+n[i(1263)].name+i(1126)+this+i(1553),this),!1;if(!e&&0===s[i(3005)])return console[i(4447)](i(2548)+n[i(1263)][i(3773)]+i(3363)+this+i(2099),this),!1;if(!n[i(3934)](t,s,l))return console[i(4447)](i(2548)+n[i(1263)].name+i(3363)+this+i(3912),this,s),!1;if(c.enabled){const t=l?65535:s[i(3005)];this[i(2272)](n,t,c)}}catch(t){return console[i(4447)](i(2548)+n[i(1263)][i(3773)]+i(3363)+this+i(2082),t,this),!1}else c[i(3471)]&&this[i(2272)](n,0,c)}return c.enabled&&this.appendFooterDebug(c),!0}[n(582)](t,e,s){const i=n,o=this._type=t[i(2574)]();this[i(1102)]=t[i(2876)]()+e;const r=this._moduleMask=t[i(2574)]();0!==r||s||console.warn(i(3920)+this+i(4373),this);const c=this._replicator.serializationDebugger;c[i(3471)]&&this[i(593)](c,o,r);const h=this[i(265)],l=h[i(1824)];l||o===a[i(3201)]||console[i(4273)](i(3202));const d=o===a[i(3201)],u=h[i(2928)],p=u[i(3171)];for(let e=0;e<p;e++){const s=u[e];let n;if(0!=(r&1<<e)){try{if(n=s.deserializeState(t,d),!n)return console[i(4447)](i(1581)+this+i(366),this),!1}catch(t){return console[i(4447)](i(4479)+s[i(1263)][i(3773)]+i(260)+this+i(315),this,t),!1}if(c.enabled){const t=d?65535:n[i(3005)];this.appendStateDebug(s,t,c)}}else{if(!l)return console[i(4447)](i(669)+s[i(1263)][i(3773)]+i(260)+this+i(1379)+d),!1;const t=l[i(2220)](s);n=s[i(2315)](t),n.deltaMask=0,c[i(3471)]&&this.appendStateDebug(s,0,c)}this.addState(n,s)}return c[i(3471)]&&this[i(1196)](c),!0}[n(593)](t,e,s){const i=n;t[i(3706)](i(1096)),t.indentLevel++,t[i(3706)](i(1518)+a[e]),t[i(3706)](i(2369)+this[i(1102)][i(390)](2)),t[i(3706)](i(1826)+o.StringUtils[i(2760)](s,8)),t[i(3706)](i(2495)),t.indentLevel++}[n(1196)](t){t.indentLevel-=2}[n(2272)](t,e,s){const i=n;s[i(3706)](o[i(4452)].formatBitMask(e,16)+i(4394)+t[i(1263)].name)}}e.StateFrame=_0x172480,_0x172480[n(852)]=new i.Pool((()=>new _0x172480))},4659:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e[n(3241)]=void 0;const i=s(6880),o=s(1813);e[n(3241)]=class _0x2f912f{constructor(t,e){const s=n;this[s(1312)]=t,this[s(1263)]=e,this[s(3707)]=i[s(1910)][s(1130)](e),this[s(254)]=this.getEmptyState()}get[n(2898)](){return this[n(265)]}get[n(1198)](){return this[n(431)]}[n(1876)](t,e){const s=n;this._replicator=t,this[s(431)]=e}[n(1339)](t,e){const s=n,i=this[s(1312)];if(i.hasAuthority)return;const a=e.newerState;if(a){const n=o.MathUtils.inverseLerp(e.time,a[s(1829)],t);i.interpolateState(e,a,n)}else i[s(1395)](e,t)}snap(t){const e=n,s=this._target;s[e(490)]||s[e(406)](t)}[n(1081)](){const t=n;this._lastSentState&&this[t(3511)](this[t(1641)]),this[t(3511)](this._tempState)}[n(2428)](){const t=n;return this._statePool[t(363)]()}[n(3511)](t){t[n(520)](),this._statePool.returnObject(t)}duplicateState(t){const e=n,s=this[e(2428)]();return s.module=this,s[e(3005)]=t.deltaMask,s[e(4328)](t,4294967295),s}[n(2365)](t){const e=n,s=4294967295;if(t||this._lastSentState||(console[e(4273)]('Tried to create a delta-state as the first state of type "'+this[e(1263)][e(3773)]+e(4149)),t=!0),t){const t=this[e(2428)]();return t.copyFromTarget(this[e(1312)],s),t[e(3005)]=s,!this._lastSentState&&((this[e(1641)]=this[e(2315)](t))[e(3005)]=s),t}const i=this[e(254)];i[e(2520)](this[e(1312)],s);const o=this[e(1641)],a=o[e(4128)](i);0!==a&&(o[e(3005)]=a,o[e(4328)](i,a));const r=this.duplicateState(i);return r[e(3005)]=a,r}[n(3934)](t,e,s){const i=n,o=t.position;try{const n=s?4294967295:e[i(3005)];return s||t.writePackedUInt32(n),e.serialize(t,n),!0}catch(e){return t[i(639)]=o,console.error(i(1153)+this[i(1263)][i(3773)]+'":',e),!1}}deserializeState(t,e){const s=n,i=this[s(2428)]();try{const n=i.deltaMask=e?4294967295:t[s(2633)]();i[s(582)](t,n)}catch(t){return console.error(s(4479)+this[s(1263)][s(3773)]+'":',t),this.disposeState(i),null}try{if(!e){const t=this[s(265)][s(1824)];if(!t)return console[s(4447)](s(920)+this[s(1263)][s(3773)]+'": no previous state exists.'),this.disposeState(i),null;const e=t[s(2220)](this);i.copyFrom(e,~i[s(3005)])}}catch(t){return console[s(4447)](s(4479)+this.stateConstructor[s(3773)]+s(3613),t),this[s(3511)](i),null}return i}}},9991:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e.StateReplicatorDebugger=e[n(3252)]=void 0;const i=s(5518),o=s(4659),a=s(7409),r=s(8367),c=s(6065),h=s(1465),l=s(6486),d=s(4178),u=s(6842),p=s(1461),_=s(3927),m=s(7983);class _0x3ae1f8 extends i.NetworkBehavior{constructor(){const t=n;super(...arguments),this.enableDebugging=!1,this[t(3222)]=!0,this[t(2340)]=new(u[t(2358)]),this._totalPastFrames=0,this[t(2727)]=0,this._hasSentInitialState=!1,this._outgoingFramesBuffer=[],this._frameForwardBuffer=new u.LinkedList,this[t(2571)]=new _0x3f7f75,this._frameSerializationParams=new _0x1a94c4,this[t(3994)]=new _0x456bba,this._framesSerializer=new m.CollectionSerializer(this[t(2462)][t(4467)](this),this[t(2820)].bind(this)),this._modules=[],this.modules=this[t(906)]}get[n(2499)](){const t=n;return Math[t(1417)](h[t(289)].getTime(h[t(630)][t(2731)])-_[t(2119)][t(1079)],0)}get[n(2615)](){var t;return null===(t=this[n(708)])||void 0===t?void 0:t.value}get[n(1824)](){const t=n;var e;return null===(e=this._frames[t(516)])||void 0===e?void 0:e.value}construct(){const t=n;super[t(3488)](),this[t(3671)][t(2873)](1,_0x5f032c,this.onFrameReceived[t(4467)](this))}[n(610)](){const t=n;super.deconstruct();const e=this[t(906)],s=e[t(3171)];for(let t=0;t<s;t++)e[t].dispose();e[t(650)](0,s)}[n(3038)](t,e){const s=n,i=new(o[s(3241)])(t,e),a=this[s(906)],r=a[s(3171)];return a[s(1757)](i),i[s(1876)](this,r),i}tick(t){const e=n;super[e(1339)](t),this[e(975)]()}[n(1106)](t){super.netTick(t),this.sendFrameToServer()}[n(3523)](){const t=n,e=this[t(4422)];if(l[t(3597)].isServer||!e[t(490)]||!e[t(1528)])return void(this[t(1659)]=!1);const s=!this[t(1659)],i=a.MessagePool.getMessage(_0x5f032c);i.configure(this,s),this[t(3671)][t(1383)](1,i,r[t(944)][t(1251)]),this[t(1659)]=!0}[n(975)](){const t=n;this.updateCurrentFrame();const e=this[t(708)];if(!e)return;const s=e[t(4158)],i=this.viewTime,o=this[t(906)],a=o.length;for(let e=0;e<a;e++){const n=o[e];try{const e=s.getState(n);n[t(1339)](i,e)}catch(t){console.error(t)}}}snapToFrame(t){const e=n,s=this[e(906)],i=s.length;for(let n=0;n<i;n++){const i=s[n];try{const s=t[e(2220)](i);i[e(1345)](s)}catch(t){console.error(t)}}}createFrame(t){const e=n;let s=h[e(289)].getTime(h[e(630)][e(2731)]);const i=this[e(2340)];if(i[e(3171)]>0){const t=i.last[e(4158)];s=Math[e(1417)](s,t[e(1829)])}const o=t?p[e(3967)].full:p[e(3967)][e(1526)],a=p[e(1456)][e(3155)](this,o,s);return a[e(4064)](),a}[n(4032)](t){const e=n;if(this[e(2727)]>=_0x3ae1f8._maxFutureFrames)return console[e(4273)]('Future frames buffer at capacity for entity "'+this[e(2954)][e(3773)]+'". Max capacity: '+_0x3ae1f8[e(1131)]+e(3503),this[e(2954)]),!1;const s=this[e(906)][e(3171)];if(t.totalStates!==s)return console[e(4447)](e(3609)+t[e(1829)]+" because it is missing states. Required states: "+s+e(3077)+t[e(550)]+".",t,this),!1;this[e(1351)](t.time);const i=0===this[e(2340)][e(3171)];return this[e(4022)](t),i&&!this[e(4422)][e(490)]&&this[e(1537)](t),this[e(1714)](),!0}[n(4022)](t){const e=n;t.replicatorNode?console.error(e(2526)+t+": already registered.",t):t[e(494)]=_0x3ae1f8[e(2025)](t,this[e(2340)])}static addFrameChronologically(t,e){const s=n;if(e[s(3171)]>0){const n=t[s(1829)];let i=e[s(516)];for(;i;){if(!(i[s(4158)][s(1829)]>n))return e[s(1636)](i,t);i=i[s(1752)]}}return e[s(907)](t)}[n(3729)](t){const e=n,s=t[e(494)];if(!s)return console[e(4447)](e(2623)+t+e(3786)),!1;this[e(2340)][e(3469)](s,!0),t.replicatorNode=void 0,t===this[e(1123)]&&(this[e(1123)]=void 0);const i=t[e(3944)];return i&&(this[e(4235)][e(3469)](i,!0),t[e(3944)]=void 0),p[e(1456)][e(4289)](t),!0}tryAddSupplementalFrame(t){const e=n,s=this._frames;if(0===s[e(3171)])return;const i=1/l[e(3597)][e(2216)][e(721)].tickRate;if(t-s[e(516)][e(4158)][e(1829)]<1.5*i)return;const o=t-i,a=p[e(1456)].get(this,p.StateFrameType[e(1861)],o);this[e(4022)](a)}[n(1714)](){const t=n,e=this[t(2340)];if(e.length>0){const s=this[t(2499)];for(;;){const n=this._currentFrameNode;if(n)if(s>=n[t(4158)][t(1829)]){const e=n[t(456)];if(!e)break;if(!(s>=e[t(4158)][t(1829)]))break;this[t(708)]=e}else{const e=n.previous;if(!e)break;this[t(708)]=e}else this[t(708)]=e[t(1941)]}}else this[t(708)]=null;let s=0,i=this._currentFrameNode;for(;i;)s++,i=i[t(1752)];this[t(2440)]=s,this[t(2727)]=this[t(2340)].length-s,this[t(460)]()}[n(460)](){const t=n,e=this[t(2340)],s=this._currentFrameNode,i=this[t(2440)]-_0x3ae1f8[t(980)];for(let n=0;n<i;n++){const n=e[t(1941)];if(n===s)return void console[t(4447)](t(2953)+_0x3ae1f8[t(980)]+").");const i=n[t(4158)];if(!this[t(3729)](i))return;this._totalPastFrames--}}[n(1488)](t,e){const s=n,i=this[s(2340)];if(this[s(4422)][s(490)]){if(e&&i[s(3171)]>0){const e=i[s(516)][s(4158)];t[s(1757)](e)}else{const n=this[s(1334)](e);t.push(n),this[s(4022)](n),this[s(1714)]()}return}const o=this[s(4235)];if(o.length>0){if(!e){for(;o[s(3171)]>0;){const e=o.first,n=e[s(4158)];o[s(3469)](e,!0),n.forwardNode=void 0,t[s(1757)](n)}return}{const e=this[s(1123)];if(e)return void t[s(1757)](e)}}if(e){if(i[s(3171)]>0){const e=i[s(516)][s(4158)];return void t[s(1757)](e)}const e=this[s(1334)](!0);this[s(4022)](e),t[s(1757)](e)}}[n(2064)](t,e){const s=n;let i=super[s(2064)](t,e),o=0;const a=t[s(639)];if(t[s(1186)](o),this[s(3151)](t,e)&&(o|=1,i=!0),0!==o){const e=t[s(639)];t[s(639)]=a,t[s(1186)](o),t[s(639)]=e}return i}[n(3151)](t,e){const s=n,i=this[s(4095)];return i[s(650)](0,i[s(3171)]),this[s(1488)](i,e),this.serializeFramesBuffered(t,i,e)}[n(2297)](t,e,s){const i=n;try{if(0===e[i(3171)])return!1;const n=this[i(1252)];n[i(1876)](s);const o=this[i(3981)],a=this[i(2571)];o&&a[i(3088)]();const r=t[i(639)],c=this._framesSerializer[i(2064)](e,t);return n[i(4326)](),c||(t[i(639)]=r),o&&a[i(2785)](),c}finally{e[i(650)](0,e[i(3171)])}}[n(2462)](t,e){const s=n;try{const n=this._frameSerializationParams[s(538)],i=t[s(2064)](e,n,this.sendEmptyFrames);return i&&(this[s(1123)]=t),i}catch(e){return console[s(4447)](s(1811)+t+":",e),!1}}[n(2476)](t,e){const s=n;if(!e&&!this[s(4422)][s(490)])return!1;const i=this[s(4095)];i[s(650)](0,i[s(3171)]);const o=this[s(1334)](e);i[s(1757)](o);const a=this.serializeFramesBuffered(t,i,e);return i[s(650)](0,i[s(3171)]),p[s(1456)][s(4289)](o),a}deserialize(t,e){const s=n;super[s(582)](t,e),1&t[s(2574)]()&&this[s(3191)](t,!1)}[n(3191)](t,e){const s=n,i=this[s(3994)];if(i[s(4326)](),i[s(1802)]=e,this[s(1902)]){const t=this[s(4422)][s(736)];if(t){const e=t[s(2197)](d[s(3759)]);i[s(3898)]=e[s(1271)]}}this[s(1519)][s(582)](t)}[n(2820)](t){const e=n,s=this[e(3994)],i=p[e(1456)].get(this);try{const n=s[e(3898)];if(!i.deserialize(t,n,this[e(3222)]))return void p[e(1456)][e(4289)](i)}catch(t){return console.error(e(2847)+this[e(2954)].name+'":',t,this),void p[e(1456)][e(4289)](i)}this[e(4032)](i)?s[e(1802)]&&(i[e(3944)]=_0x3ae1f8[e(2025)](i,this._frameForwardBuffer)):p.StateFrame[e(4289)](i)}onFrameReceived(t){const e=n;if(!l[e(3597)][e(1902)])return void console.warn(e(2929),t[e(3376)].routingId);const s=t[e(3376)];if(s[e(3269)])return void console[e(4273)]("Received a frame replication RPC from a local client.");const i=this[e(4422)];if(i[e(736)]!==s)return void console[e(4273)](e(1738)+this.entity[e(3773)]+e(4190)+i.id+e(3136)+s.routingId+" but the sender does not own the entity.");const o=t[e(2977)],a=o.stateStream;a[e(639)]=o[e(3120)],this[e(3191)](a,!0)}}e.StateReplicator=_0x3ae1f8,_0x3ae1f8[n(980)]=10,_0x3ae1f8[n(1131)]=200,_0x3ae1f8.initialize(n(3252));class _0x5f032c extends c[n(2952)]{get[n(4162)](){return this._stateStream}get[n(3120)](){return this[n(2465)]}[n(1876)](t,e){const s=n;this[s(265)]=t,this[s(1651)]=e}[n(2064)](t){const e=n;return this[e(265)][e(2476)](t,this._isInitialState)}[n(582)](t){const e=n;this[e(4306)]=t,this[e(2465)]=t[e(639)]}[n(1081)](){const t=n;this[t(265)]=this[t(4306)]=void 0,this._isInitialState=!1,this[t(2465)]=0}}class _0x1a94c4{constructor(){this[n(538)]=!1}[n(1876)](t){this[n(538)]=t}clear(){this[n(538)]=!1}}class _0x456bba{constructor(){const t=n;this.timeStampDisplacement=0,this[t(1802)]=!1}[n(4326)](){const t=n;this[t(3898)]=0,this[t(1802)]=!1}}class _0x3f7f75{constructor(){const t=n;this.enabled=!1,this[t(2660)]=0,this[t(2039)]="",this._text=""}get[n(3678)](){return this[n(3065)]}[n(3088)](){const t=n;this[t(3471)]=!0,this[t(4326)]()}[n(2785)](){const t=n;0!==this[t(2039)][t(3171)]&&(this[t(3065)]=this._buffer,this.clear())}[n(4326)](){this[n(2039)]="",this.indentLevel=0}prepend(t){this[n(2377)](t,!0)}[n(3706)](t){this[n(2377)](t,!1)}[n(2377)](t,e){const s=n;if(this.enabled){for(let e=0;e<this[s(2660)];e++)t="\t\t\t"+t;t+="\n",this[s(2039)]=e?t+this._buffer:this[s(2039)]+t}else console[s(4273)](s(1477))}}e[n(1494)]=_0x3f7f75},5972:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,s(3500),{value:!0}),e.State=void 0,e[s(4433)]=class _0x2cf5db{constructor(){this.deltaMask=0}get time(){const t=s;return this[t(657)][t(1829)]}get[s(838)](){const t=s,e=this[t(657)][t(1752)];return null==e?void 0:e[t(2220)](this[t(2136)])}get[s(417)](){const t=s,e=this.frame[t(456)];return null==e?void 0:e.getState(this[t(2136)])}[s(520)](){const t=s;this[t(3005)]=0,this[t(2136)]=void 0,this.frame=void 0,this.clear()}}},1986:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(1555)]=void 0;const i=s(1068),o=s(1666),a=s(7541),r=s(5129),c=s(3255),h=s(3927),l=s(2379),d=s(6040);class _0x93793a{constructor(t){const e=n;if(this[e(486)]=!1,this[e(2950)]=new i.Delegate,_0x93793a[e(446)]=this,this._session=t,this[e(4462)]=t[e(1773)],this[e(1177)]=t.messageDomains.client,this[e(906)]=new(l[e(4296)])(this),t[e(2701)])this[e(1523)]=t[e(3177)][e(3467)];else{const t=this[e(4462)][e(1742)];this[e(1523)]=t[e(3303)]}this[e(2872)]=new(d[e(536)])(this[e(1177)],this[e(4462)]),this[e(2452)]()}static get[n(2216)](){return this[n(446)]}static get[n(2917)](){return!!this._instance}get session(){return this[n(1444)]}get[n(3303)](){return this._connection}get messageDomain(){return this[n(1177)]}[n(3731)](t){const e=n;return this[e(906)][e(3731)](t)}[n(2452)](){const t=n;this[t(3731)](new(o[t(934)])),this[t(3731)](new(c[t(699)])),this[t(3731)](new(a[t(2863)])),this[t(3731)](new(r[t(2797)])),this[t(3731)](new h.ClientInterpolationModule)}getModule(t){const e=n;return this[e(906)][e(2197)](t)}start(){const t=n;this._isRunning?console[t(4447)](t(237)):(this._isRunning=!0,this[t(906)][t(3088)]())}[n(2785)](){const t=n;this[t(1444)][t(2785)]()}stopInternal(){const t=n;this._isRunning?(this[t(486)]=!1,this[t(906)][t(2785)](),this[t(2872)].dispose(),_0x93793a[t(446)]===this&&(_0x93793a[t(446)]=null),this[t(2950)][t(2356)]()):console[t(4447)](t(772))}}e.Client=_0x93793a},6435:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,"__esModule",{value:!0}),e[n(465)]=e.InterpolationSettings=void 0;const i=s(822),o=s(6486),a=s(6943),r=s(5171),c=s(2546),h=s(855),l=s(1068),d=s(4581);class _0xfd7db0 extends h[n(3184)]{}_0xfd7db0.addAttributes([new(a[n(3024)])(n(902),{type:a[n(4031)].number,default:10})]);class _0x222f58 extends h[n(3184)]{}e.InterpolationSettings=_0x222f58,_0x222f58[n(394)]([new(a[n(3024)])("startingDelay",{description:"The starting interpolation delay measured in seconds.",type:a[n(4031)][n(1311)],default:.2}),new(a[n(3024)])(n(3249),{description:n(1855),type:a.AttributeType[n(1311)],default:2}),new(a[n(3024)])(n(3085),{description:n(1574),type:a[n(4031)][n(1311)],default:.1})]);class _0x19abce extends i.Manager{constructor(){super(...arguments),this.onSessionStarted=new l.DelegateP1,this.onSessionStarting=new l.DelegateP1}static get instance(){const t=n;return i[t(3656)][t(2922)](_0x19abce)}[n(2492)](t,e,s){const i=n,o=d[i(2152)][i(2216)];if(o)return this.startSessionInternal(t,e,o,s);console[i(4447)](i(1892))}startLocalSession(t){const e=n,s=new(c[e(345)]);s[e(1107)]=new(c[e(1195)])(!0,0);const i=r.InputManager[e(2216)][e(3132)],o=s[e(1903)];for(const t of i){const s=c[e(3784)].getEmpty();s[e(2753)]=t.id,o[e(1757)](s)}const a=new(c[e(3831)]);return a[e(4282)]=99,a.id=e(719),a[e(3296)][e(1757)](s),this[e(3054)](a,s,void 0,t)}[n(3054)](t,e,s,i){const a=n;if(this[a(1444)])return void console.error("Can't start game session: another session is already active.",this[a(1444)]);const r=this._session=new(o[a(3597)])(t,e,s);r[a(4150)][a(324)](this.onSessionStopping,this),this.onSessionStarting[a(2356)](r);try{null==i||i(r)}catch(t){console[a(4447)](t)}try{r[a(3088)]()}catch(t){return console[a(4447)](a(1128),t,r),r[a(4150)][a(3491)](this.onSessionStopping,this),void(this[a(1444)]=void 0)}return this[a(2857)][a(2356)](r),r}[n(3218)](){const t=n,e=this._session;e?e[t(2785)]():console[t(4273)]("Can't stop session: no session available.")}onSessionStopping(t){const e=n;t===this[e(1444)]?(t[e(4150)][e(3491)](this[e(4130)],this),this[e(1444)]=void 0):console[e(4447)](e(2332))}}e.GameSessionManager=_0x19abce,_0x19abce[n(3311)](n(465),[new(a[n(3024)])(n(2227),{customType:_0xfd7db0}),new(a[n(3024)])(n(4160),{customType:_0x222f58})])},6486:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(783)]=e.GameSessionStopReason=e[n(4430)]=e[n(3597)]=void 0;const i=s(3784),o=s(3490),a=s(933),r=s(3519),c=s(3721),h=s(1986),l=s(6853),d=s(1068),u=s(6435),p=s(2379),_=s(7541);class _0x3daffc{constructor(t,e,s){const o=n;this[o(1420)]=!1,this[o(3177)]=new _0x5c92fc,this[o(666)]=new _0x49b262,this[o(4150)]=new d.DelegateP2,this[o(2950)]=new d.DelegateP2,_0x3daffc[o(446)]=this,this[o(4189)]=s,this._isHost=e.roomSession[o(2701)],_0x3daffc[o(1091)]=this[o(1165)],_0x3daffc[o(2101)]=!0;const a=u.GameSessionManager[o(2216)].sessionDefaults;this[o(721)]=new _0x9b7575(a[o(902)],t[o(4282)]),this[o(1204)](),this[o(3805)](),this[o(1773)]=new(i[o(2081)])(this,t,e),this[o(3454)](),this[o(3864)](),null==s||s.onStopped[o(324)](this.onNetworkSessionStopped,this)}static get[n(2216)](){return this._instance}get[n(3641)](){return!!this[n(4189)]}get[n(2701)](){return this[n(1165)]}get[n(3357)](){return this[n(1977)]}get[n(1404)](){return this[n(1602)]}static get isServer(){return this[n(1091)]}static get isClient(){return this._isClient}[n(3088)](){const t=n;var e;this[t(1420)]?console[t(4447)](t(4468),this):(this[t(1420)]=!0,null===(e=this[t(1977)])||void 0===e||e[t(3088)](),this[t(1602)][t(3088)](),this[t(906)][t(3088)]())}[n(3454)](){const t=n;this[t(906)]=new(p[t(4296)])(this);const e=new(_[t(2610)])(this[t(1073)].bind(this));this[t(3731)](e)}[n(3864)](){const t=n;this[t(2701)]&&(this._server=new c.Server(this)),this[t(1602)]=new h.Client(this)}[n(1204)](){const t=n,e=this[t(4189)],s=this[t(666)];if(!e)return s.client=new(r[t(1962)]),void(s.server=new r.GameMessageDomain);const i=s[t(3224)]=new r.GameMessageDomain,o=e[t(283)];o[t(4343)](i),this[t(2701)]?(s[t(1404)]=new(r[t(1962)]),s[t(3357)]=i):s[t(1404)]=i,s[t(1773)]=o.getDomain(a[t(989)].room)}createConnections(){const t=n,e=this.messageDomains,s=this.connections;s.toLocalClient=new(o[t(3720)])(null,null,e[t(1404)]),this.isHost&&(s[t(3467)]=new(o[t(3720)])(null,null,e.server)),this[t(4189)]&&(s[t(3224)]=new o.NetworkConnection(this.networkSession[t(547)],null,e.remote))}addModule(t){return this[n(906)].addModule(t)}[n(2197)](t){const e=n;return this[e(906)][e(2197)](t)}[n(2866)](){const t=n,e=this[t(3177)][t(3224)];e&&e.socket[t(1953)]&&e[t(1862)]()}[n(2785)](t=m[n(1502)],e){const s=n,i=new _0x15ffc0(t,e);this[s(2649)](i)}[n(2649)](t){const e=n;this._isActive?(this[e(1420)]=!1,this[e(4150)][e(2356)](this,t),this[e(1081)](),this.onStopped[e(2356)](this,t)):console[e(4273)](e(3436),this)}[n(1081)](){const t=n;var e,s,i,o,a,r,c,h;this[t(906)][t(2785)](),null===(e=this[t(1602)])||void 0===e||e[t(2649)](),null===(s=this[t(1977)])||void 0===s||s[t(2649)](),null===(i=this.room)||void 0===i||i[t(1081)](),this[t(2866)]();const d=this[t(4189)];if(d){d.onStopped[t(3491)](this[t(2624)],this);const e=d[t(547)];e.isConnected&&e[t(3388)](l[t(2254)].normalClosure)}const u=this[t(3177)];null===(o=u[t(1084)])||void 0===o||o.dispose(),null===(a=u[t(3467)])||void 0===a||a[t(1081)](),null===(r=u[t(3224)])||void 0===r||r[t(1081)]();const p=this[t(666)];null===(c=p[t(1404)])||void 0===c||c[t(1081)](),null===(h=p.server)||void 0===h||h[t(1081)](),this[t(1977)]=this[t(1602)]=void 0,_0x3daffc._isServer=!1,_0x3daffc[t(2101)]=!1,_0x3daffc[t(446)]===this&&(_0x3daffc[t(446)]=void 0)}[n(1073)](){this[n(2866)]()}[n(2624)](t){const e=n,s=new _0x15ffc0(m[e(2731)],t[e(2977)]);s[e(2127)]=t,this.stopInternal(s)}}e.GameSession=_0x3daffc;class _0x5c92fc{}class _0x49b262{}var m;!function(t){const e=n;t[t[e(1502)]=0]=e(1502),t[t.network=1]=e(2731)}(m=e.GameSessionStopCode||(e[n(4430)]={}));class _0x15ffc0{constructor(t,e){const s=n;this[s(3423)]=t,this[s(2977)]=e}}e[n(865)]=_0x15ffc0;class _0x9b7575{constructor(t,e){const s=n;this.onChanged=new(d[s(1990)]),this[s(887)]=t,this._maxPlayers=e}get tickRate(){return this[n(887)]}set tickRate(t){const e=n;Number[e(1241)](t)?t<=0?console.error("The new tick-rate must be a positive value.",t):t!==this._tickRate&&(this[e(887)]=t,this[e(2983)]()):console.error(e(4473),t)}get[n(4282)](){return this[n(2825)]}[n(2983)](){const t=n;this.onChanged[t(2356)](this)}[n(4328)](t){const e=n;this._tickRate=t[e(887)],this[e(2825)]=t[e(2825)],this[e(2983)]()}serialize(t){const e=n;t[e(4133)](this[e(887)]),t.writePackedUInt32(this._maxPlayers)}deserialize(t){const e=n;this[e(887)]=t.readPackedUInt32(),this._maxPlayers=t[e(2633)]()}}e[n(783)]=_0x9b7575},6202:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(2630)]=void 0;const i=s(2379);class _0xfb072f extends i[n(1468)]{}e.ClientModule=_0xfb072f},1666:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(934)]=void 0;const i=s(1456),o=s(4568),a=s(2871),r=s(8367),c=s(7409),h=s(6557),l=s(1869),d=s(1068),u=s(6202),p=s(6486);class _0x4337e0 extends u[n(2630)]{constructor(){const t=n;super(...arguments),this[t(3013)]=!1,this[t(1161)]=!1,this.onScenesMatched=new d.Delegate}get isChangingScenes(){return!!this._sceneLoadCommand}initialize(){const t=n,e=this[t(736)][t(2215)];e.setHandler(o[t(3514)][t(3649)],a[t(1897)],this[t(3105)][t(4467)](this)),e[t(327)](o[t(3514)][t(2775)],a.StringMessage,this[t(3272)].bind(this)),e[t(327)](o[t(3514)][t(3482)],a[t(1897)],this[t(415)].bind(this)),l[t(932)].instance[t(3306)][t(324)](this.onPreSceneLoad,this)}[n(3088)](){const t=n;p[t(3597)][t(1902)]?this[t(3627)]():this[t(369)]()}[n(2785)](){const t=n;l.SceneManager.instance[t(3306)][t(3491)](this[t(3306)],this)}[n(369)](){const t=n,e=this.owner[t(3303)],s=r[t(944)][t(4182)];e[t(2230)](o[t(3514)].sceneInfo,c[t(1965)][t(1753)](h[t(1397)]),s)}[n(3274)](t){const e=n;if(this.isChangingScenes){const t=this._sceneLoadCommand.sceneHandle[e(3773)];return void console[e(4273)](e(4421)+t+'" is still loading.')}const s=l[e(932)][e(2216)],i=s[e(2859)](t);i?!this[e(3013)]&&!this[e(1161)]||s[e(2299)]!==i?this[e(1532)](i,!0):this[e(3627)]():console.error(e(508)+t+'" could be found.')}changeSceneByName(t,e){const s=n;if(!t)return void console[s(4447)](s(778));const i=l[s(932)][s(2216)][s(2859)](t);i?this[s(1532)](i,e):console[s(4447)](s(3035)+t+s(3629))}[n(1532)](t,e){const s=n,o=new(i[s(3595)])(t);o[s(2373)]=e,this[s(3164)](o)}[n(3164)](t){const e=n;p[e(3597)][e(1902)]?console[e(4447)](e(1668)):(this[e(3013)]=!0,this[e(3402)]?console[e(4273)]('Tried to change to scene "'+t[e(2076)][e(3773)]+'" but we\'re already changing to scene "'+this[e(4352)].sceneHandle[e(3773)]+'".'):(this[e(4352)]=t,t.onLoadStopped.addListener(this[e(3877)],this),t[e(2920)][e(324)](this[e(2955)],this),l.SceneManager[e(2216)][e(4125)](t)))}[n(3272)](t){const e=n;if(p[e(3597)].isServer)return;const s=t.message[e(4158)];if(s){if(this[e(3402)]){const t=this[e(4352)],n=t[e(2076)][e(3773)];return s!==n&&console[e(4273)](e(4298)+s+'" but we\'re (still) loading scene "'+n+'". Will reevaluate scenes after the current scene has finished loading.'),void(t[e(2373)]=!0)}this[e(3663)](s,!1)}else console[e(4273)](e(277))}[n(415)](t){const e=n;if(p.GameSession[e(1902)])return;const s=t[e(2977)][e(4158)];if(!s)return void console[e(4447)]("Received a scene change finished message, but the scene name is empty.");const i=this[e(4352)];if(!i)return void this[e(3663)](s,!0);const o=i[e(2076)];if(o[e(3773)]!==s)return console[e(4273)](e(2974)+s+e(1798)+o[e(3773)]+'". The scene difference will be rectified after scene "'+o[e(3773)]+e(1475)),void(i.autoActivateScene=!0);i[e(2373)]=!0}[n(3105)](t){const e=n;p[e(3597)][e(1902)]||this[e(3402)]||this.validateCurrentScene(t[e(2977)].value)}[n(3877)](t,e){const s=n;e[s(1747)]||(console[s(3015)](t===this[s(4352)]),console[s(4447)]('Scene "'+t[s(2076)].name+'" failed to load. Retrying...'),this[s(4352)]=null,this[s(1532)](t[s(2076)],t.autoActivateScene))}[n(2955)](t){const e=n;console[e(3015)](t===this[e(4352)]),this[e(4352)]=null,this[e(369)]()}[n(3306)](t){const e=n;p[e(3597)][e(1902)]&&t.onPostActivation[e(324)]((()=>{this[e(3627)]()}))}[n(3627)](){const t=n;this[t(2514)][t(2356)]()}}e.ClientSceneModule=_0x4337e0},3803:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(1332)]=void 0;const i=s(2379);class _0x48fe3e extends i[n(1468)]{}e[n(1332)]=_0x48fe3e},6546:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(2411)]=void 0;const i=s(2379);class _0x5f3267 extends i.Module{}e[n(2411)]=_0x5f3267},4430:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(605)]=void 0;const i=s(1869),o=s(7409),a=s(6557),r=s(4568),c=s(8367),h=s(2871),l=s(1068),d=s(5500),u=s(6546);class _0x381483 extends u[n(2411)]{constructor(){const t=n;super(...arguments),this.onSceneReady=new(l[t(299)])}[n(3311)](){const t=n;this[t(736)].messageDomain[t(327)](r.GameMessageType.sceneInfo,a[t(1397)],this[t(3175)][t(4467)](this)),i[t(932)][t(2216)][t(3306)][t(324)](this[t(3306)],this)}[n(3088)](){this[n(2330)]()}[n(2785)](){const t=n;this[t(3106)](),i[t(932)].instance[t(3306)][t(3491)](this[t(3306)],this)}[n(3106)](){const t=n,e=o.MessagePool[t(1753)](a[t(1397)]),s=c.NetworkChannel[t(1251)],i=this[t(736)][t(1773)][t(3296)],h=i.length;for(let n=0;n<h;n++){const o=i[n];o[t(744)]&&(o[t(744)]=!1,o[t(3303)][t(2230)](r[t(3514)][t(1431)],e,s))}}[n(3306)](t){const e=n;if(t[e(2089)]!==d.SceneLoadMode.single)return;t[e(2920)][e(324)](this[e(631)],this),this.setClientsNotReady();const s=o.MessagePool.getMessage(h.StringMessage);s[e(4158)]=t[e(2076)][e(3773)];const i=c.NetworkChannel[e(1251)];this[e(736)].sendMessageToAll(r[e(3514)][e(2775)],s,i,!1)}[n(631)](){const t=n;if(!this.owner||!this[t(736)][t(2552)])return;const e=i[t(932)].instance[t(2299)],s=o[t(1965)][t(1753)](h[t(1897)]);s.value=e[t(3773)];const a=c[t(944)].reliableSequenced;this[t(736)].sendMessageToAll(r[t(3514)][t(3482)],s,a,!1),this.onSceneReadyInternal()}[n(3175)](t){const e=n,s=i.SceneManager[e(2216)],a=o.MessagePool[e(1753)](h.StringMessage);a[e(4158)]=s[e(2299)].name;const l=t[e(3376)],d=c[e(944)][e(1251)];l[e(3303)][e(2230)](r[e(3514)].sceneInfo,a,d)}[n(2330)](){const t=n;this.onSceneReady[t(2356)]()}}e[n(605)]=_0x381483},5129:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e.ServerSessionModule=e[n(2797)]=void 0;const i=s(4568),o=s(6065),a=s(6557),r=s(7409),c=s(8367),h=s(6486),l=s(6202),d=s(6546);class _0x394ecf extends o[n(2952)]{constructor(){const t=n;super(...arguments),this.sessionInfo=new(h[t(783)])(0,0)}[n(2064)](t){const e=n;return this[e(3675)][e(2064)](t),!0}[n(582)](t){const e=n;this[e(3675)][e(582)](t)}[n(1081)](){}}class _0x4ec7e4 extends l[n(2630)]{initialize(){const t=n;this[t(736)].messageDomain.setHandler(i[t(3514)][t(3675)],_0x394ecf,this[t(2189)][t(4467)](this))}start(){this[n(2879)]()}[n(2785)](){}[n(2879)](){const t=n;this.owner[t(3303)][t(4315)](i[t(3514)][t(3675)],r[t(1965)][t(1753)](a[t(1397)]),c.NetworkChannel.reliable)}[n(2189)](t){const e=n;if(!t.sender.isHost||h.GameSession.isServer)return;const s=t[e(2977)];h.GameSession[e(2216)][e(721)][e(4328)](s[e(3675)])}}e[n(2797)]=_0x4ec7e4;class _0x4fafff extends d[n(2411)]{[n(3311)](){const t=n;h[t(3597)][t(2216)][t(721)].onChanged.addListener(this[t(1003)],this),this[t(736)][t(2215)][t(327)](i[t(3514)][t(3675)],a[t(1397)],this[t(3756)].bind(this))}[n(3088)](){}[n(2785)](){}broadcastSessionInfo(){const t=n,e=this[t(2772)]();this.owner[t(1952)](i[t(3514)][t(3675)],e,c[t(944)][t(4182)],!1)}[n(2772)](){const t=n,e=r.MessagePool[t(1753)](_0x394ecf);return e.sessionInfo[t(4328)](h[t(3597)][t(2216)][t(721)]),e}[n(3756)](t){const e=n,s=this[e(2772)]();t[e(3376)][e(3303)].sendMessageImmediate(i[e(3514)].sessionInfo,s,c[e(944)][e(4182)])}}e.ServerSessionModule=_0x4fafff},7541:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e[n(2243)]=e[n(2610)]=e[n(2703)]=e[n(2863)]=void 0;const i=s(4568),o=s(7409),a=s(1465),r=s(3338),c=s(6202),h=s(6546),l=s(6065),d=s(8367),u=s(3784),p=s(6510),_=s(6486),m=s(3803),g=s(8230),f=s(6880),x=s(6842);class _0x2f4082 extends c[n(2630)]{constructor(){const t=n;super(...arguments),this._lastMessageId=-1,this[t(1619)]=-1,this[t(471)]=-1,this[t(3248)]=!1,this[t(2522)]=0,this[t(2240)]=0,this[t(3852)]=!1,this.syncIntervalMs=3e3,this[t(2058)]=5e3,this[t(2473)]=.25,this[t(4347)]=.75,this[t(2024)]=10}[n(3311)](){const t=n,e=u[t(2081)].instance;this[t(2640)]=new _0x100e02(e[t(1832)],10);const s=this[t(736)][t(1310)];this._sessionTimeModule=s[t(2197)](_0x517617)}[n(3088)](){const t=n;this[t(736)][t(2215)][t(327)](i.GameMessageType.time,_0x410d56,this[t(1050)][t(4467)](this))}[n(2785)](){const t=n;this[t(736)][t(2215)].unsetHandler(i[t(3514)][t(1829)])}[n(2167)](t){const e=n;_[e(3597)].isServer||(this[e(4176)].setNetworkTime(this[e(2522)]+=a[e(289)].realTimeDelta),this[e(2359)](),this[e(1082)](),this[e(4401)]())}tickAutoRequest(){const t=n;if(this._isAwaitingResponse)return;const e=Date[t(2448)](),s=this[t(1422)],i=this[t(1619)];if(i>=0&&e-i<s)return;const o=this._lastResponseTime;o>=0&&e-o<s||this[t(1710)]()}[n(1082)](){const t=n,e=this[t(2240)];if(e>this[t(2024)])return this[t(2522)]+=e,void(this._timeDifference=0);const s=a.TimeManager[t(2750)],i=r.math.lerp(e,0,s*this.timeEqualizeSpeed),o=Math[t(1417)](e-i,-s*this[t(4347)]);this[t(2240)]=i,this[t(2522)]+=o}[n(4401)](){const t=n;this[t(3852)]&&!_[t(3597)][t(1902)]&&(Date[t(2448)]()-this[t(1619)]<this.syncTimeOutMs||(this._isAwaitingResponse=!1))}[n(1710)](){const t=n;this[t(3852)]=!0,this[t(1619)]=Date[t(2448)]();const e=o.MessagePool.getMessage(_0x34a06c);e.id=this._lastMessageId=(this[t(3141)]+1)%255,this.owner[t(3303)][t(4315)](i[t(3514)][t(1829)],e,d[t(944)].reliableSequenced)}[n(1050)](t){const e=n;if(!t[e(3376)][e(2701)]||!this[e(3852)])return;const s=t[e(2977)].id;if(s!==this[e(3141)])return void console.warn("Received out of sequence time response from the server. Receive ID "+s+", expected ID "+this._lastMessageId+".");const a=Date[e(2448)]();this[e(471)]=a,this._isAwaitingResponse=!1;const r=.001*(a-this[e(1619)]);let c=t[e(2977)][e(4341)];c+=.5*r,this[e(3248)]?this[e(2240)]=c-this[e(2522)]:(this[e(2522)]=c,this[e(2240)]=0,this[e(3248)]=!0);const h=this[e(2640)];h[e(3470)](r),p[e(3060)][e(2970)]=r,p.NetworkStats.averagePing=h.averagePing;const l=o[e(1965)][e(1753)](_0x125909);l.id=s,this[e(736)][e(3303)][e(4315)](i[e(3514)][e(1436)],l,d[e(944)][e(4182)])}}e[n(2863)]=_0x2f4082;class _0x5b2601 extends h[n(2411)]{constructor(){const t=n;super(...arguments),this[t(1102)]=0,this[t(1233)]=new Map}[n(3311)](){const t=n;p[t(3060)][t(2970)]=p[t(3060)][t(1830)]=0}[n(3088)](){const t=n,e=this[t(736)].messageDomain;e[t(327)](i[t(3514)][t(1829)],_0x34a06c,this[t(3018)][t(4467)](this)),e.setHandler(i[t(3514)][t(1436)],_0x125909,this[t(2765)].bind(this)),this[t(736)][t(1773)].onClientLeft[t(324)](this.onClientLeft,this);const s=this.owner.session;this._sessionTimeModule=s[t(2197)](_0x517617)}[n(2785)](){const t=n,e=this[t(736)].messageDomain;e[t(2248)](i.GameMessageType[t(1829)]),e[t(2248)](i.GameMessageType[t(1436)]),this[t(736)].room[t(3521)][t(3491)](this[t(3521)],this),this[t(1233)].clear()}earlyTick(t){const e=n;this[e(4176)][e(3834)](this[e(1102)]+=a[e(289)][e(2750)])}[n(2346)](t){const e=n,s=this[e(1233)];let i=s[e(3155)](t);return i||(i=new _0x100e02(t,10),s[e(2936)](t,i)),i}onTimeRequestReceived(t){const e=n,s=t.message.id,a=o.MessagePool[e(1753)](_0x410d56);a.id=s,a.serverTime=this[e(1102)];const r=t.sender;if(!r[e(3303)][e(4315)](i[e(3514)][e(1829)],a,d.NetworkChannel[e(4182)])[e(1747)])return;const c=this.getPingTracker(r);c[e(1856)]=Date[e(2448)](),c[e(3463)]=s}onTimeAckReceived(t){const e=n,s=t[e(3376)],i=this[e(2346)](s),o=t.message.id;if(o!==i[e(3463)])return void console[e(4273)](e(3497)+o+", expected ack ID "+i.lastRequestId+".");const a=i[e(1856)],r=Math[e(1417)](.001*(Date[e(2448)]()-a),0);i[e(3470)](r)}[n(3521)](t){const e=n;this[e(1233)][e(1049)](t)}}e[n(2703)]=_0x5b2601;class _0x517617 extends m[n(1332)]{constructor(t){const e=n;super(),this[e(844)]=0,this[e(3574)]=0,this[e(3539)]=0,this[e(1478)]=t,this.setNetworkTime(0)}[n(3311)](){const t=n,e=this[t(736)];e[t(721)][t(3317)][t(324)](this.onSessionInfoChanged,this),(this[t(4375)]=new(g[t(674)])(g[t(357)][t(2861)],this[t(4059)].bind(this),a[t(630)][t(2613)]))[t(2507)]=1/e[t(721)].tickRate}start(){const t=n;this[t(4375)][t(3400)]()}stop(){const t=n;this._netTickFunction[t(3219)]()}[n(4156)](){const t=n;a[t(289)][t(1138)](a[t(630)][t(2731)],this[t(844)],this[t(3574)])}setNetworkTime(t){const e=n;this[e(844)]=t,this[e(4156)]()}[n(4059)](){const t=n;this[t(3574)]=this._netTime-this[t(3539)],this[t(3539)]=this[t(844)],this[t(4156)](),g[t(3010)][t(954)](g.TickType[t(1106)]);try{this[t(1478)]()}catch(e){console[t(4447)](e)}}onSessionInfoChanged(){const t=n,e=this.owner;this[t(4375)][t(2507)]=1/e[t(721)][t(902)]}}e[n(2610)]=_0x517617;class _0x34a06c extends l[n(2952)]{constructor(){super(...arguments),this.id=0}[n(2064)](t){return t.writeByte(this.id),!0}[n(582)](t){const e=n;this.id=t[e(2574)]()}[n(1081)](){this.id=0}}class _0x410d56 extends l.GameMessage{constructor(){const t=n;super(...arguments),this.id=0,this[t(4341)]=0}serialize(t){const e=n;return t[e(1186)](this.id),t.writeFloat(this[e(4341)]),!0}[n(582)](t){const e=n;this.id=t[e(2574)](),this[e(4341)]=t[e(2876)]()}[n(1081)](){this.id=0,this.serverTime=0}}class _0x125909 extends _0x410d56{}class _0x100e02{constructor(t,e){const s=n;this[s(1856)]=-1,this[s(3463)]=-1,this[s(2035)]=0,this[s(3945)]=0,this.client=t,this[s(2117)]=new _0xf8c8c9(e)}get ping(){return this[n(2035)]}get[n(1830)](){return this[n(3945)]}setPing(t){const e=n;this[e(2035)]=t,this._pingHistory.addPingRecord(t),this[e(3945)]=this[e(2117)][e(1830)],this[e(1404)][e(3303)].setPing(this[e(2035)],this[e(3945)])}}class _0xf8c8c9{constructor(t){const e=n;this[e(2117)]=new(x[e(2358)]),this._averagePing=0,this[e(1380)]=t}get[n(1830)](){return this._averagePing}[n(1304)](t){const e=n,s=.001*Date[e(2448)]();let i=0;const o=s-this._maxHistoryDuration,a=this[e(2117)];let r=a.first;for(;r;){const t=r,s=r[e(4158)];r=r[e(456)],s[e(1829)]<o?(a[e(3469)](t,!0),_0x49fa0f.disposeRecord(s)):i+=s[e(2970)]}const c=_0x49fa0f[e(3209)](t,s);a[e(876)](c),i+=t;const h=a.length;this[e(3945)]=i/h}}e.PingHistory=_0xf8c8c9;class _0x49fa0f{get[n(2970)](){return this._ping}get[n(1829)](){return this[n(1102)]}static[n(3209)](t,e){const s=n,i=this[s(852)][s(363)]();return i[s(2035)]=t,i[s(1102)]=e,i}static[n(1226)](t){const e=n;t[e(2035)]=t[e(1102)]=0,this[e(852)][e(2925)](t)}}_0x49fa0f[n(852)]=new(f[n(1495)])((()=>new _0x49fa0f))},3721:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(4155)]=void 0;const i=s(4430),o=s(7541),a=s(1614),r=s(6880),c=s(5129),h=s(1240),l=s(2379),d=s(6040),u=s(5116);class _0x2e1090{constructor(t){const e=n;this[e(486)]=!1,this[e(3244)]=new(r[e(1495)])((()=>[]),(t=>t[e(650)](0,t[e(3171)]))),this._hashedClientBufferPool=new(r[e(1495)])((()=>new Set),(t=>t.clear())),_0x2e1090[e(446)]=this,this._session=t,this[e(4462)]=t[e(1773)],this[e(1177)]=t.messageDomains.server,this[e(906)]=new l.ModuleContainer(this),this.requester=new d.Requester(this._messageDomain,this[e(4462)]),this.addDefaultModules()}get[n(1773)](){return this[n(4462)]}get[n(1310)](){return this[n(1444)]}get messageDomain(){return this[n(1177)]}get[n(2552)](){return this[n(486)]}static get[n(2216)](){return this._instance}static get[n(2917)](){return!!this[n(446)]}[n(3731)](t){const e=n;return this._modules[e(3731)](t)}[n(2452)](){const t=n;this.addModule(new(i[t(605)])),this[t(3731)](new(h[t(2911)])),this[t(3731)](new(o[t(2703)])),this[t(3731)](new(c[t(3308)])),this.addModule(new(u[t(872)]))}[n(2197)](t){const e=n;return this[e(906)][e(2197)](t)}[n(3088)](){const t=n;this[t(486)]?console[t(4447)](t(1163)):(console[t(2045)](t(3016),this[t(1444)]),this[t(486)]=!0,this[t(906)][t(3088)]())}stop(){const t=n;this[t(1444)][t(2785)]()}[n(2649)](){const t=n;this[t(486)]?(this._isRunning=!1,this[t(906)].stop(),this[t(2872)][t(1081)](),this[t(1444)][t(1773)][t(3388)](),_0x2e1090[t(446)]===this&&(_0x2e1090[t(446)]=null)):console.error(t(3728))}[n(1952)](t,e,s,i,o){const a=n,r=this[a(757)],c=r[a(363)]();if(o){const t=o.length;for(let e=0;e<t;e++){const t=o[e];t&&c[a(1565)](t)}}const h=this[a(3244)],l=h.getObject(),d=this[a(4462)][a(3296)],u=d.length;for(let t=0;t<u;t++){const e=d[t];c[a(1374)](e)||i&&!e[a(744)]||l[a(1757)](e)}try{l[a(3171)]>0&&this[a(2230)](t,e,s,l)}finally{r[a(2925)](c),h[a(2925)](l)}}sendMessage(t,e,s,i){const o=n;let r=!1;const c=i[o(3171)];for(let n=0;n<c;n++){const c=i[n],h=c[o(3303)][o(2230)](t,e,s);if(h.wasSuccessful){c[o(3269)]||(r=!0);continue}const l=h.errorType;if(l===a.ErrorType[o(3145)]||l===a.ErrorType[o(403)]){console[o(3015)](!r);break}}}}e[n(4155)]=_0x2e1090},6850:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,s(3500),{value:!0}),e[s(3863)]=void 0,function(t){const e=s;t[t[e(904)]=1]=e(904)}(e[s(3863)]||(e[s(3863)]={}))},4470:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e[n(2273)]=void 0;const i=s(855),o=s(822),a=s(5171);class _0x56f1af extends o.Manager{static get[n(2216)](){return o[n(3656)].getInstanceByType(_0x56f1af)}[n(4460)](){const t=n;return[...a[t(2577)][t(2216)][t(3132)]]}}e[n(2273)]=_0x56f1af,_0x56f1af[n(3311)]("MatchmakingManager",[new(i[n(3024)])(n(2160),{type:i.AttributeType.number,default:-1}),new(i[n(3024)])(n(2048),{type:i[n(4031)][n(1311)],default:1})])},1779:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(1184)]=e.CreateRoomRequest=e[n(4267)]=e.SignInRequest=void 0;const i=s(7700),o=s(2546),a=s(1112),r=s(4736),c=s(4470);class _0x257398 extends r[n(2605)]{constructor(t,e,s){const r=n;super(a[r(4371)],i[r(1089)]),this[r(3970)]=t,this._domainId=e,this[r(356)]=s;const h=c[r(2273)][r(2216)][r(4460)]();0===h[r(3171)]&&console.warn(r(1807)),this[r(2221)]=[];for(let t=0;t<h[r(3171)];t++){const e=h[t],s=new(o[r(3784)]);s.localId=e.id,this[r(2221)][r(1757)](s)}}configureRequestMessage(t){const e=n;t[e(1876)](this[e(3970)],this[e(3149)],this[e(356)],this._players)}}e[n(2450)]=_0x257398;class _0x450671 extends r.Request{constructor(t){const e=n;super(a[e(914)],i[e(2483)]),this[e(3535)]=t}[n(2401)](t){const e=n;t.availableRoomsOnly=this[e(3535)]}}e[n(4267)]=_0x450671;class _0x35bf6d extends r[n(2605)]{constructor(t){const e=n;super(a[e(4061)],i[e(1064)]),this._maxPlayers=t}configureRequestMessage(t){const e=n;t[e(4282)]=this[e(2825)]}}e[n(444)]=_0x35bf6d;class _0x533863 extends r.Request{constructor(t){const e=n;super(a[e(2735)],i[e(1890)]),this[e(2609)]=t}[n(2401)](t){const e=n;t[e(880)]=this[e(2609)].id}}e[n(1184)]=_0x533863},8622:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e[n(3389)]=e[n(1628)]=e[n(3417)]=e.MatchmakingStrategy=void 0;const i=s(1068),o=s(1779),a=s(4470),r=s(5852),c=s(933),h=s(4581),l=s(1331),d=s(6850),u=s(5474),p=s(6853),_=new(u[n(4204)])(n(1911));class _0x4ab724{constructor(){const t=n;this[t(1420)]=!1,this[t(1482)]=new(i[t(2503)]),this[t(2132)]=new i.DelegateP1,this[t(2950)]=new(i[t(1990)])}[n(3088)](){const t=n;if(this[t(1420)])return void _[t(4273)](t(2212));this[t(1420)]=!0,this._session&&(this[t(2148)](null),_[t(4273)](t(2108),this));const e=h[t(2152)].instance;e?(this[t(2148)](e),e[t(634)]?this.startInternal():this[t(904)]()):(_[t(2045)]("Creating a network session..."),l.NetworkManager[t(2216)][t(1538)](this[t(3161)][t(4467)](this)))}[n(2148)](t){const e=n;t!==this[e(1444)]&&(this._session&&this[e(1444)][e(2950)][e(3491)](this.onSessionStopped,this),this[e(1444)]=t,this[e(1444)]&&this._session[e(2950)][e(324)](this.onSessionStopped,this))}[n(1529)](t,e,s){const i=n;h[i(2152)][i(2216)][i(283)][i(1529)](t,e,s)}[n(904)](){const t=n;_.log(t(1895));const e=h.NetworkSession[t(2216)].accessToken,s=a[t(2273)][t(2216)],i=new(o[t(2450)])(s[t(2160)],s[t(2048)],e);i.onSucceeded.addListener(this[t(1109)],this),i[t(2132)][t(324)](this[t(261)],this),this[t(1529)](c[t(989)][t(482)],d[t(3863)][t(904)],i)}succeed(t,e){const s=n;this[s(1420)]&&(this[s(1482)][s(2356)](t,e),this[s(2785)]())}[n(314)](t){const e=n;if(!this[e(1420)])return;const s=this[e(1444)];s&&(this.setSession(null),s[e(1953)]&&s[e(2785)](p[e(2254)][e(425)],e(2561))),this[e(2132)][e(2356)](t),this[e(2785)]()}[n(426)](t,e){const s=n;!e&&(e=s(4270)+(t[s(1810)]?t[s(1810)].messageId:-1)+" failed");const i=new _0x1c9600(m.requestFailed,e);i[s(2201)]=t,this.fail(i)}[n(2785)](){const t=n;this._isActive&&(this._isActive=!1,this[t(2148)](null),this[t(2950)][t(2356)](this))}[n(4019)](){const t=n;if(!this[t(1420)])return;const e=new _0x1c9600(m[t(1502)],t(3174));this[t(314)](e)}onCreateSessionResult(t){const e=n;if(this[e(1420)])if(t[e(1747)])this[e(2148)](t[e(1310)]),this[e(904)]();else{const s=new _0x1c9600(m[e(2731)],"could not connect: "+t[e(1733)]);this[e(314)](s)}else t[e(1747)]&&t[e(1310)][e(2785)](p[e(2254)].normalClosure,e(2561))}[n(4239)](t){const e=n;if(!this[e(1420)])return void _[e(4447)](e(663));this[e(2148)](null);const s=t.message?e(507)+t[e(2977)]:e(1481)+t.code,i=new _0x1c9600(m[e(2731)],s);this[e(314)](i)}[n(1109)](t){const e=n;this[e(1420)]&&(_[e(2045)](e(2724)),h.NetworkSession[e(2216)].accessToken=t[e(634)],this[e(3047)]())}[n(261)](t){this.failRequest(t)}}e[n(1819)]=_0x4ab724,e[n(3417)]=class _0x5f41e7 extends _0x4ab724{constructor(t,e=null){const s=n;super(),this[s(3801)]=t,this._pickRoomCallback=e}[n(3047)](){const t=n,e=new(o[t(4267)])(!0);e[t(1482)][t(324)](this[t(303)],this),e[t(2132)].addListener(this.failRequest,this),this.sendRequest(c[t(989)][t(551)],r[t(2269)][t(1390)],e)}[n(3339)](){const t=n,e=new o.CreateRoomRequest(this[t(3801)]);e.onSucceeded.addListener(this[t(3103)],this),e[t(2132)][t(324)](this[t(426)],this),this[t(1529)](c[t(989)].matchmaking,r.MatchmakingMessageType[t(4406)],e)}[n(303)](t){const e=n,s=t[e(3270)];if(0===s.length)return void this[e(3339)]();let i;if(this._pickRoomCallback)try{i=this[e(2085)](s)}catch(t){const s=e(3342);_[e(4447)](s,t);const n=new _0x1c9600(m.unspecified,s);return void this[e(314)](n)}else i=s[0];if(!i)return void this[e(3339)]();const a=new(o[e(1184)])(i);a[e(1482)][e(324)](this[e(2134)],this),a[e(2132)].addListener(this[e(426)],this),this[e(1529)](c.MessageDomainId.matchmaking,r[e(2269)][e(1037)],a)}[n(3103)](t){const e=n;this[e(4441)](t[e(1773)],t.client)}[n(2134)](t){const e=n;this[e(4441)](t[e(1773)],t[e(1404)])}};class _0x1c9600{constructor(t,e){const s=n;this[s(2403)]=t,this[s(2977)]=e}}var m;e[n(1628)]=_0x1c9600,function(t){const e=n;t[t[e(2425)]=0]=e(2425),t[t[e(1502)]=1]=e(1502),t[t[e(2731)]=2]=e(2731),t[t[e(3003)]=3]=e(3003)}(m=e[n(3389)]||(e.MatchmakingFailureType={}))},2546:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e.PlayerInfo=e[n(1195)]=e.ClientInfo=e.RoomInfo=void 0;const i=s(6880);class _0x20974d{constructor(){const t=n;this.clients=[],this[t(4201)]=!1}[n(2064)](t){const e=n;let s=0;if(this[e(4201)]&&(s|=1),t[e(1186)](s),t[e(3229)](this.id),t[e(2389)](this[e(4282)]),1&s){const s=this[e(3296)],n=s[e(3171)];t[e(4133)](n);for(let i=0;i<n;i++)s[i][e(2064)](t)}}[n(582)](t){const e=n;this[e(4326)]();const s=t[e(2574)]();if(this.id=t[e(3148)](),this[e(4282)]=t[e(359)](),this[e(4201)]=(1&s)>0){const s=this[e(3296)],n=t[e(2633)]();for(let i=0;i<n;i++){const n=_0x47dcd6.getEmpty();n[e(582)](t),s[e(1757)](n)}}}[n(4326)](){const t=n;this.id=void 0,this.maxPlayers=0,this[t(4201)]=!1;const e=this[t(3296)],s=e[t(3171)];for(let n=0;n<s;n++){const s=e[n];_0x47dcd6[t(4289)](s)}e[t(650)](0,s)}static[n(3282)](){const t=n;return this[t(852)][t(363)]()}static return(t){t.clear(),this._pool.returnObject(t)}}e[n(3831)]=_0x20974d,_0x20974d[n(852)]=i[n(1910)][n(1130)](_0x20974d);class _0x47dcd6{constructor(){this[n(1903)]=[]}[n(2064)](t){const e=n,s=this[e(1107)],i=this.players,o=i[e(3171)];let a=0;if(s&&(a|=1),o>0&&(a|=2),t[e(1186)](a),1&a&&s[e(2064)](t),2&a){t[e(4133)](o);for(let s=0;s<o;s++)i[s][e(2064)](t)}}[n(582)](t){const e=n;this[e(4326)]();const s=t.readByte();if(1&s&&(this[e(1107)]=_0x25ab84[e(3282)]())[e(582)](t),2&s){const s=this[e(1903)];s[e(650)](0,s.length);const n=t[e(2633)]();for(let i=0;i<n;i++){const n=_0x23d5b0.getEmpty();n[e(582)](t),s[e(1757)](n)}}}clear(){const t=n;this[t(1107)]&&(_0x25ab84[t(4289)](this[t(1107)]),this[t(1107)]=void 0);const e=this.players,s=e[t(3171)];for(let n=0;n<s;n++){const s=e[n];_0x23d5b0[t(4289)](s)}e[t(650)](0,s)}static[n(3282)](){return this[n(852)].getObject()}static[n(4289)](t){const e=n;t[e(4326)](),this[e(852)][e(2925)](t)}}e[n(345)]=_0x47dcd6,_0x47dcd6[n(852)]=i.PoolRegistry[n(1130)](_0x47dcd6);class _0x25ab84{constructor(t,e){const s=n;this[s(2701)]=t,this[s(4263)]=e}[n(2064)](t){const e=n;t.writeBool(this[e(2701)]),t[e(4133)](this[e(4263)])}deserialize(t){const e=n;this[e(2701)]=t.readBool(),this[e(4263)]=t[e(2633)]()}[n(4326)](){const t=n;this[t(2701)]=!1,this[t(4263)]=-1}static[n(3282)](){const t=n;return this._pool[t(363)]()}static[n(4289)](t){const e=n;t[e(4326)](),this[e(852)][e(2925)](t)}}e[n(1195)]=_0x25ab84,_0x25ab84._pool=i.PoolRegistry[n(1130)](_0x25ab84);class _0x23d5b0{constructor(t=-1){this[n(2753)]=t}[n(2064)](t){const e=n;t[e(1186)](this[e(2753)])}deserialize(t){const e=n;this[e(2753)]=t[e(2574)]()}clear(){this[n(2753)]=-1}static[n(3282)](){const t=n;return this[t(852)][t(363)]()}static[n(4289)](t){const e=n;t[e(4326)](),this[e(852)].returnObject(t)}}e[n(3784)]=_0x23d5b0,_0x23d5b0[n(852)]=i[n(1910)][n(1130)](_0x23d5b0)},5852:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,s(3500),{value:!0}),e[s(2269)]=void 0,function(t){const e=s;t[t[e(1390)]=1]="roomList",t[t[e(4406)]=2]=e(4406),t[t[e(1037)]=3]="roomJoin"}(e[s(2269)]||(e[s(2269)]={}))},1112:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e.JoinRoomRequestMessage=e[n(4061)]=e[n(914)]=e[n(4371)]=e[n(2509)]=void 0;const i=s(4570),o=s(2546);class _0x1c5329 extends i[n(1147)]{}e[n(2509)]=_0x1c5329,e[n(4371)]=class _0x1ef6cc extends _0x1c5329{constructor(){super(),this.players=[]}configure(t,e,s,i){const o=n;this[o(2160)]=t,this[o(2048)]=e,this.accessToken=s,this[o(1903)][o(1757)](...i)}[n(2064)](t){const e=n;super[e(2064)](t);let s=0;this.accessToken&&(s|=1),t[e(1186)](s),t.writePackedInt32(this[e(2160)]),t.writePackedInt32(this.domainId),1&s&&t[e(3229)](this[e(634)]);const i=this[e(1903)],o=i.length;t[e(1186)](o);for(let s=0;s<o;s++)i[s][e(2064)](t);return!0}deserialize(t){const e=n;super[e(582)](t);const s=t.readByte();this.gameId=t[e(359)](),this[e(2048)]=t[e(359)](),1&s&&(this.accessToken=t[e(3148)]());const i=this[e(1903)],a=t[e(2574)]();for(let s=0;s<a;s++){const s=o[e(3784)][e(3282)]();s[e(582)](t),i[e(1757)](s)}}[n(1081)](){const t=n;this[t(2160)]=this[t(2048)]=0,this[t(634)]=void 0;const e=this[t(1903)],s=e[t(3171)];for(let n=0;n<s;n++){const s=e[n];o[t(3784)][t(4289)](s)}e[t(650)](0,s)}},e[n(914)]=class _0x413d4d extends _0x1c5329{constructor(){super()}[n(2064)](t){const e=n;return super.serialize(t),t[e(1608)](this[e(4173)]),!0}deserialize(t){const e=n;super[e(582)](t),this.availableRoomsOnly=t[e(3812)]()}[n(1081)](){this.availableRoomsOnly=!1}},e[n(4061)]=class _0x1a8786 extends _0x1c5329{constructor(){super()}serialize(t){const e=n;return super[e(2064)](t),t[e(2389)](this[e(4282)]),!0}[n(582)](t){const e=n;super[e(582)](t),this[e(4282)]=t[e(359)]()}[n(1081)](){this[n(4282)]=0}},e.JoinRoomRequestMessage=class _0x2628ab extends _0x1c5329{constructor(){super()}[n(2064)](t){const e=n;return super[e(2064)](t),t[e(3229)](this[e(880)]),!0}deserialize(t){super[n(582)](t),this.roomId=t.readString()}[n(1081)](){this[n(880)]=void 0}}},7700:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,"__esModule",{value:!0}),e[n(1890)]=e[n(1064)]=e[n(2483)]=e[n(1089)]=e[n(2973)]=void 0;const i=s(2546),o=s(4570);class _0x44b8d2 extends o[n(2161)]{}e[n(2973)]=_0x44b8d2,e.SignInResponseMessage=class _0x3163c4 extends _0x44b8d2{[n(2064)](t){const e=n;return super[e(2064)](t),this.header.wasSuccessful&&(t[e(3229)](this.accessToken),this[e(1404)][e(2064)](t)),!0}[n(582)](t){const e=n;super[e(582)](t),this[e(3118)][e(1747)]&&(this[e(634)]=t[e(3148)](),(this[e(1404)]=i.ClientInfo[e(3282)]())[e(582)](t))}[n(1081)](){const t=n;this.accessToken=void 0,this[t(1404)]=void 0}},e.ListRoomsResponseMessage=class _0x476122 extends _0x44b8d2{constructor(){const t=n;super(...arguments),this[t(3270)]=[]}[n(2064)](t){const e=n;if(super[e(2064)](t),this.header[e(1747)]){const s=this[e(3270)],n=s[e(3171)];t.writePackedUInt32(n);for(let i=0;i<n;i++)s[i][e(2064)](t)}return!0}[n(582)](t){const e=n;if(super[e(582)](t),this[e(3118)].wasSuccessful){const s=this.rooms,n=t[e(2633)]();for(let o=0;o<n;o++){const n=i[e(3831)][e(3282)]();n.deserialize(t),s[e(1757)](n)}}}dispose(){const t=n,e=this[t(3270)],s=e[t(3171)];for(let t=0;t<s;t++){const s=e[t];i.RoomInfo.return(s)}e.splice(0,s)}},e[n(1064)]=class _0x35a7e9 extends _0x44b8d2{serialize(t){const e=n;return super[e(2064)](t),this[e(3118)][e(1747)]&&(this[e(1773)][e(2064)](t),this[e(1404)][e(2064)](t)),!0}[n(582)](t){const e=n;super[e(582)](t),this[e(3118)][e(1747)]&&((this.room=i.RoomInfo[e(3282)]())[e(582)](t),(this[e(1404)]=i.ClientInfo[e(3282)]())[e(582)](t))}[n(1081)](){const t=n;this[t(1773)]=void 0,this[t(1404)]=void 0}},e[n(1890)]=class _0x507e50 extends _0x44b8d2{[n(2064)](t){const e=n;return super.serialize(t),this.header[e(1747)]&&(this[e(1773)][e(2064)](t),this.client.serialize(t)),!0}[n(582)](t){const e=n;super.deserialize(t),this[e(3118)][e(1747)]&&((this[e(1773)]=i[e(3831)].getEmpty())[e(582)](t),(this.client=i[e(345)].getEmpty())[e(582)](t))}[n(1081)](){const t=n;this[t(1773)]=void 0,this[t(1404)]=void 0}}},3724:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e.ServerCloseMessage=e[n(3927)]=e[n(448)]=void 0;const i=s(2546),o=s(4570);class _0x19f835 extends o.RpcMessage{[n(2064)](t){const e=n;return this[e(1404)][e(2064)](t),!0}[n(582)](t){const e=n;(this[e(1404)]=i[e(345)][e(3282)]()).deserialize(t)}[n(1081)](){const t=n;this[t(1404)]&&(i[t(345)][t(4289)](this[t(1404)]),this.client=void 0)}}e[n(448)]=_0x19f835;class _0x359b9b extends o[n(992)]{serialize(t){return t[n(1186)](this.id),!0}[n(582)](t){const e=n;this.id=t[e(2574)]()}[n(1081)](){this.id=-1}}e[n(3927)]=_0x359b9b;class _0x1dabcb extends o.RpcMessage{serialize(t){const e=n;return t[e(2389)](this[e(3937)]),!0}deserialize(t){const e=n;this[e(3937)]=t[e(359)]()}dispose(){this[n(3937)]=-1}}e.ServerCloseMessage=_0x1dabcb},3845:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,s(3500),{value:!0}),e[s(3909)]=void 0,function(t){const e=s;t[t.clientJoined=20]=e(4e3),t[t[e(2109)]=21]="clientLeft",t[t[e(572)]=22]=e(572),t[t[e(3388)]=40]=e(3388),t[t.kick=41]=e(1615)}(e[s(3909)]||(e[s(3909)]={}))},3784:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e.Room=void 0;const i=s(1536),o=s(6492),a=s(1068),r=s(5162),c=s(3724),h=s(3845),l=s(7409),d=s(6853),u=new(s(5474)[n(4204)])("Room");class _0x537561{constructor(t,e,s){const i=n;this[i(1e3)]=!0,this[i(1213)]=[],this._clientsByRoutingId=new Map,this[i(1983)]=[],this[i(3360)]=[],this[i(3296)]=this[i(1213)],this[i(2051)]=this[i(1983)],this[i(2224)]=this[i(3360)],this.onClientJoined=new(a[i(1990)]),this[i(3521)]=new(a[i(1990)]),_0x537561[i(446)]=this,this[i(1444)]=t;const o=this[i(1177)]=t[i(666)][i(1773)];o&&(o[i(327)](h[i(3909)][i(4e3)],c[i(448)],this[i(2833)][i(4467)](this)),o[i(327)](h[i(3909)].clientLeft,c[i(448)],this[i(1314)].bind(this))),this[i(1032)]=s[i(1107)][i(4263)],this[i(3517)](e)}static get[n(2216)](){return this[n(446)]}get localClient(){return this[n(4120)]}get[n(1742)](){return this[n(458)]}get[n(3350)](){const t=n;return this._readyClients[t(3171)]>0}get[n(2903)](){return this._remoteClients.length>0}get[n(2701)](){const t=n;var e;return null===(e=this[t(458)])||void 0===e?void 0:e[t(3269)]}[n(3388)](){const t=n;if(!this.isHost)return void u.error(t(3956));if(!this[t(1e3)])return void u[t(4447)](t(3600));this[t(1e3)]=!1;const e=this[t(1177)];if(e&&e.gateway[t(1953)]){const s=new(c[t(816)]);s[t(3937)]=d.SomSocketCloseCode[t(2044)],e[t(2230)](h[t(3909)][t(3388)],s)}}kick(t){const e=n;if(!this[e(2701)])return void u[e(4447)](e(302)+t.routingId+e(1354));const s=this[e(1177)];if(!s)return;const i=new(c[e(3927)]);i.id=t[e(4263)],s.sendMessage(h[e(3909)][e(1615)],i)}[n(1081)](){const t=n;this[t(1e3)]&&this[t(2701)]&&this[t(3388)]();const e=this._clients,s=e[t(3171)];for(let n=0;n<s;n++){const s=e[n];try{s[t(1081)]()}catch(e){u[t(4447)](e)}}e[t(650)](0,s),r.ArrayUtils[t(4326)](this[t(1213)]),r[t(1125)][t(4326)](this[t(1983)]),this[t(969)].clear(),this[t(4120)]=void 0,this[t(1032)]=-1;const i=this[t(1177)];i&&(i[t(2248)](h[t(3909)][t(4e3)]),i[t(2248)](h[t(3909)][t(2109)]),this[t(1177)]=void 0),this[t(1444)]=void 0,_0x537561[t(446)]===this&&(_0x537561._instance=void 0)}[n(3517)](t){const e=n,s=t[e(3296)],i=new Map;if(s)for(const t of s)_0x537561[e(3941)](t)?i[e(2936)](t[e(1107)][e(4263)],t):u[e(4273)](e(1885));const o=[...this[e(1213)]];for(const t of o){const s=t[e(4263)];i.has(t.routingId)?i[e(1049)](s):this.removeClient(t)}i[e(3855)]((t=>this[e(738)](t)))}addClientByInfo(t){const e=n;if(!_0x537561[e(3941)](t))return void u.warn(e(1885));const s=t[e(1107)],a=s[e(4263)];if(this[e(969)][e(1374)](a))return void u[e(4273)](e(3699)+a+e(3732));const r=a===this[e(1032)],c=new(i[e(531)])(a,r,this._session);c[e(1958)](s[e(2701)]);const h=t[e(1903)],l=h[e(3171)];0===l&&u.warn(e(3782)+a+e(1932));for(let t=0;t<l;t++){const s=h[t].localId;if(s<0){u[e(4273)](e(1479)+a+e(2557));continue}const n=new(o[e(815)])(s);c[e(614)](n)}this[e(3938)](c)||c[e(1081)]()}[n(3938)](t){const e=n,s=t.routingId;return this[e(969)][e(1374)](s)?(u[e(4447)]("Can't add new client with ID "+s+e(4002)),!1):(this._clients.push(t),this[e(969)].set(s,t),t[e(3269)]?this._localClient=t:this[e(3360)][e(1757)](t),t[e(2701)]&&(this[e(458)]=t),t[e(1935)].addListener(this[e(4202)],this),this[e(1060)](t),!0)}[n(1737)](t){const e=n;if(!t||!t[e(1107)])return u[e(4273)](e(1937)),!1;const s=t.roomSession.routingId,i=this.getClient(s);return i?this[e(3533)](i):(u.error(e(1479)+s+e(3008)),!1)}[n(3533)](t){const e=n,s=t[e(4263)];if(!this[e(969)].has(s))return u[e(4447)](e(2998)+s+", because the client has not been added to the room."),!1;const i=this[e(1213)].indexOf(t);return u.assert(i>=0),i>=0&&this._clients[e(650)](i,1),this._clientsByRoutingId[e(1049)](s),t[e(3269)]?this[e(4120)]=null:r[e(1125)][e(855)](this[e(3360)],t),t[e(2701)]&&(this[e(458)]=null),t[e(744)]&&r.ArrayUtils[e(855)](this._readyClients,t),t[e(1935)][e(3491)](this[e(4202)],this),this[e(2305)](t),!0}[n(2919)](t){return this[n(969)].get(t)}static[n(3941)](t){const e=n;if(!t)return u[e(4273)](e(3633)),!1;const s=t[e(1107)];if(!s||!Number[e(1241)](s[e(4263)]))return u[e(4273)](e(3096)+s.routingId+"."),!1;const i=t[e(1903)];return!(!i||0===i[e(3171)])||(u.warn(e(436)+s[e(4263)]+e(332)),!1)}[n(2833)](t){const e=n;this.addClientByInfo(t[e(2977)][e(1404)])}[n(1314)](t){const e=n;var s;const i=t[e(2977)];if(this[e(1737)](i[e(1404)]),this._session[e(2701)]){const t=null===(s=i[e(1404)])||void 0===s?void 0:s[e(1107)];if(t){const s=l.MessagePool[e(3155)](c[e(3927)]),n=s[e(1753)]();n.id=t[e(4263)],this[e(1177)][e(2230)](h[e(3909)][e(572)],n),s[e(1185)](n)}else u[e(4447)](e(4291))}}[n(1060)](t){const e=n;u.log(e(3825),t),this.onClientJoined[e(2356)](t)}[n(2305)](t){const e=n;u[e(2045)](e(459),t),this[e(3521)].safeInvoke(t),t.dispose()}onClientReadinessChangedInternal(t){const e=n;t.isReady?this._readyClients[e(1757)](t):r.ArrayUtils[e(855)](this._readyClients,t)}}e[n(2081)]=_0x537561},933:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,s(3500),{value:!0}),e[s(989)]=void 0,function(t){const e=s;t[t[e(547)]=0]="socket",t[t.system=1]=e(2796),t[t[e(482)]=2]=e(482),t[t.matchmaking=3]=e(551),t[t[e(1773)]=4]=e(1773),t[t[e(2690)]=5]="game",t[t.analytics=6]=e(643)}(e[s(989)]||(e.MessageDomainId={}))},3994:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e.MessageDomain=void 0;const i=s(1614);e[n(995)]=class _0x131132{constructor(t){this[n(3954)]=t}get id(){return this._id}get[n(283)](){return this[n(2694)]}set gateway(t){this[n(2694)]=t}[n(2230)](t,e){const s=n,o=this[s(283)];return o?o[s(2230)](this.id,t,e):(console[s(4273)](s(684),this),new i.MessageSendResult(!1,i[s(2061)][s(4271)]))}}},4071:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(2292)]=void 0;const i=s(6880);e[n(2292)]=class _0x1e14e1{static[n(2047)](t){const e=n,s=i[e(1910)][e(1130)](t),o=s.getObject();return o[e(852)]=s,o}[n(1081)](){const t=n;this[t(2120)]=-1,this[t(2977)]=this.socket=void 0,this[t(852)]&&(this[t(852)].returnObject(this),this[t(852)]=void 0)}}},2002:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e.MessageGateway=void 0;const i=s(4736),o=s(3931),a=s(933),r=s(6853),c=s(6565),h=s(1614),l=s(8952);class _0x2ca138{constructor(t){const e=n;this[e(4066)]=new Map,this._outgoingStream=new(o[e(2662)]),this._requests=[],this._lastRequestId=0,this._socket=t,t[e(3243)]=this.onMessageReceived.bind(this),this[e(4343)](new(l[e(2031)])),this[e(4343)](new(c[e(3596)])(a[e(989)][e(2796)])),this[e(4343)](new c.OpenMessageDomain(a[e(989)][e(482)])),this[e(4343)](new c.OpenMessageDomain(a.MessageDomainId.matchmaking)),this[e(4343)](new(c[e(3596)])(a[e(989)][e(1773)])),this[e(4343)](new(c[e(3596)])(a.MessageDomainId[e(643)]))}get[n(1953)](){const t=n;return!!this[t(2474)]&&this._socket[t(1953)]}[n(2230)](t,e,s){const i=n;if(!this.isConnected)return console.error(i(457)),new(h[i(2222)])(!1,h[i(2061)].transport);const o=this[i(4475)];try{if(o[i(1699)](),o[i(1186)](t),o.writePackedInt32(e),!s[i(2064)](o))return new(h[i(2222)])(!1,h[i(2061)][i(3145)])}catch(s){return console[i(4447)](i(2013)+t+i(2357)+e+i(621),s),new(h[i(2222)])(!1,h[i(2061)][i(403)])}try{this[i(2474)][i(1534)](o)}catch(s){return console.error("Encountered an error whilst sending message "+e+i(279)+t+":",s),new(h[i(2222)])(!1,h[i(2061)][i(4271)])}return new(h[i(2222)])(!0)}sendRequest(t,e,s){const o=n;if(s.isActive)return void console[o(4447)](o(1484));if(!this[o(1953)]){const t=new(i[o(365)])(i.RequestFailureType.network,o(3143));return void s[o(314)](t)}const a=this[o(727)](t);if(a)if(a instanceof c[o(3596)])try{this[o(2182)][o(1757)](s);const t=this[o(1183)]=(this[o(1183)]+1)%255;s.onStopped[o(324)](this[o(3624)],this),s[o(3670)](e,t,a)}catch(t){console[o(4447)]("Encountered an error whilst sending message "+e+":",t);const n=new(i[o(365)])(i[o(3806)][o(4271)],"encountered an error: "+t);s[o(314)](n)}else{const e=new(i[o(365)])(i[o(3806)][o(4271)],o(3771)+t+o(2236));s[o(314)](e)}else{const e=new(i[o(365)])(i.RequestFailureType[o(4271)],"no domain with ID "+t+o(1781));s[o(314)](e)}}[n(4343)](t){const e=n,s=t.id,i=this[e(4066)];i[e(1374)](s)&&console.warn("Overwriting message domain for domain ID "+s+"."),i[e(2936)](s,t),t[e(283)]=this}getDomain(t){return this[n(4066)].get(t)}[n(1081)](){const t=n,e=this._domains;for(const s of e[t(4364)]())s.dispose();e[t(4326)]();const s=[...this[t(2182)]],o=s[t(3171)];for(let e=0;e<o;e++){const n=s[e],o=new(i[t(365)])(i.RequestFailureType[t(2731)],t(4386));n.fail(o)}this._requests[t(650)](0,this[t(2182)].length)}onMessageReceived(t){const e=n,s=t[e(3951)];if(s[e(1172)][e(3171)]>_0x2ca138._maxMessageSize)return void t[e(547)].close(r[e(2307)][e(2223)]);let i,o;try{i=s[e(2574)](),o=s.readPackedInt32()}catch(t){return void console[e(4447)](e(3495),t)}const a=this[e(727)](i);if(a)try{a[e(2944)](o,t)}catch(t){console[e(4447)]("SocketMessage: encountered an error whilst forwarding a message to a message domain. Message domain: "+i+e(2357)+o+", error:",t)}else console.warn(e(4126)+i+".")}[n(3624)](t){const e=n,s=this[e(2182)],i=s[e(2614)](t);i>=0&&s[e(650)](i,1)}}e[n(1905)]=_0x2ca138,_0x2ca138[n(2214)]=1048576},7409:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e[n(1965)]=void 0;const i=s(9609),o=s(4570),a=s(6842);class _0x43faac{constructor(t){const e=n;this[e(3416)]=new(i[e(3082)]),this[e(758)]=new(a[e(2358)]),this[e(2362)]=t,_0x43faac.pools.push(this)}getMessage(){const t=n;let e;const s=this[t(3416)];e=s[t(3206)]>0?s.pop():new(this[t(2362)]);const i=this._usedMessages,o=i[t(691)](e);return e[t(809)]=o,i[t(4268)](o),e}[n(1185)](t){const e=n,s=t[e(809)];s?s[e(2069)]===this._usedMessages?this[e(581)](s):console.error("Can't dispose message because it does not belong to this pool."):console.error("Can't dispose message because it has no pool node.")}[n(581)](t){const e=n,s=t[e(4158)];s[e(1740)](),s[e(809)]=null,this[e(758)].removeNode(t,!0),this[e(3416)].push(s)}disposeMessages(){const t=n,e=this._usedMessages;if(0===e[t(3171)])return;let s;for(;s=e[t(1941)];)this[t(581)](s)}static[n(3332)](){const t=n,e=this.pools,s=e[t(3171)];for(let n=0;n<s;n++)e[n][t(3332)]()}static[n(3155)](t){const e=n,s=this[e(952)];let i=s.get(t);if(!i){if(!(t[e(495)]instanceof o.NetworkMessage))return console[e(4447)]("Can't fetch network message pool for type \""+t[e(3773)]+e(2114)),null;i=new _0x43faac(t),s[e(2936)](t,i)}return i}static[n(1753)](t){const e=_0x43faac.get(t);return e?e.getMessage():null}static disposeMessage(t){const e=n,s=t.constructor,i=this[e(3155)](s);i?i[e(1185)](t):console.warn('Could not return network message: no pool found for class "'+s.name+'".')}}e.MessagePool=_0x43faac,_0x43faac[n(4105)]=[],_0x43faac[n(952)]=new Map},1099:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e.MessageHandler=e.MessageRelay=void 0;const i=s(7409);e.MessageRelay=class _0x3149f7{constructor(){this[n(2475)]=new Map}[n(327)](t,e,s){const o=n,a=this._messageHandlers;a[o(1374)](t)&&console[o(4273)]("Overwriting message handler for message ID "+t+".");const r=i[o(1965)].get(e),c=this[o(3766)](t,r,s);a[o(2936)](t,c)}[n(3766)](t,e,s){return new _0x4012f(t,e,s)}[n(2248)](t){const e=n;this._messageHandlers[e(1049)](t)}unsetHandlers(){const t=n;this._messageHandlers[t(4326)]()}[n(4003)](t){const e=n;return this[e(2475)][e(3155)](t)}[n(1108)](t,e){const s=n;try{t[s(3213)](e)}catch(e){console[s(4447)]("Encountered an error whilst invoking a handler for a network message with ID "+t.id+":",e)}}[n(4326)](){this[n(3277)]()}};class _0x4012f{constructor(t,e,s){const i=n;this.id=t,this[i(690)]=e,this[i(3213)]=s}}e[n(4310)]=_0x4012f},1614:(t,e)=>{const s=a0_0x520a;var n;Object.defineProperty(e,"__esModule",{value:!0}),e[s(2061)]=e[s(2222)]=void 0,e[s(2222)]=class _0x35601e{constructor(t,e){const i=s;this[i(1747)]=!1,this.errorType=n[i(1270)],this[i(1747)]=t,this[i(3335)]=e}},function(t){const e=s;t[t[void 0]=0]=e(1270),t[t.cancelled=1]=e(3145),t[t.batch=2]="batch",t[t.serialization=3]="serialization",t[t.transport=4]="transport"}(n=e.ErrorType||(e[s(2061)]={}))},4570:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,s(3500),{value:!0}),e[s(992)]=e[s(694)]=e[s(2161)]=e.RequestMessage=e[s(1664)]=e.NetworkMessage=void 0;class _0x13ea75{constructor(){const t=s;this[t(1626)]=this[t(3804)]()}get[s(2659)](){return this[s(1626)]}get[s(3382)](){return!!this[s(809)]}createMetadata(){return new _0x404d6d}[s(1740)](){const t=s;try{this[t(1081)]()}catch(e){console[t(4447)](t(3687),e,this)}this[t(1626)][t(1081)]()}}e[s(1673)]=_0x13ea75;class _0x404d6d{[s(1081)](){this.id=-1,this.socket=void 0}}e[s(1664)]=_0x404d6d,e[s(1147)]=class _0x202f97 extends _0x13ea75{constructor(){const t=s;super(...arguments),this[t(3123)]=new _0x41451f}get[s(3118)](){return this[s(3123)]}serialize(t){const e=s;return this._header[e(2064)](t),!0}[s(582)](t){const e=s;this[e(3123)][e(582)](t)}[s(1081)](){const t=s;this[t(3123)][t(4326)]()}};class _0x41451f{clear(){this[s(2655)]=0}[s(2064)](t){t[s(2389)](this.requestId)}[s(582)](t){const e=s;this[e(2655)]=t[e(359)]()}}e[s(2161)]=class _0x5dbca1 extends _0x13ea75{constructor(){const t=s;super(...arguments),this[t(3123)]=new _0x50ae58}get[s(3118)](){return this[s(3123)]}[s(2064)](t){return this[s(3123)].serialize(t),!0}[s(582)](t){const e=s;this[e(3123)][e(582)](t)}dispose(){const t=s;this[t(3123)][t(4326)]()}};class _0x50ae58{get[s(1747)](){return this[s(2208)]===n.success}[s(3377)](){let t=0;return this.error&&(t|=i.hasErrorMessage),t}[s(2064)](t){const e=s,n=this[e(3377)]();t[e(1186)](n),t[e(2389)](this[e(2655)]),t[e(2389)](this.statusCode),n&i[e(270)]&&t[e(3229)](this[e(4447)])}[s(582)](t){const e=s,n=t[e(2574)]();this[e(2655)]=t[e(359)](),this[e(2208)]=t.readPackedInt32(),n&i.hasErrorMessage&&(this[e(4447)]=t[e(3148)]())}clear(){const t=s;this[t(2655)]=0,this[t(2208)]=0,this[t(4447)]=void 0}}var n,i,o;(o=n=e[s(694)]||(e.StatusCode={}))[o[s(3614)]=200]="success",function(t){const e=s;t[t[e(270)]=1]=e(270)}(i||(i={})),e[s(992)]=class _0x3f686d extends _0x13ea75{}},6565:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,"__esModule",{value:!0}),e.OpenMessageDomain=void 0;const i=s(4071),o=s(3994),a=s(1099);class _0x1d16e2 extends o[n(995)]{constructor(t){const e=n;super(t),this[e(2378)]=new(a[e(2158)])}[n(2944)](t,e){const s=n,i=this._messageRelay.getHandler(t);if(!i)return void console.warn(s(776)+t+".");const o=i[s(690)],a=o[s(1753)](),r=a[s(2659)];r.id=t,r[s(547)]=e.socket;try{a.deserialize(e[s(3951)])}catch(e){return void console.error(s(1899)+t+":",e)}const c=this[s(1585)](t,a,e.socket);this._messageRelay[s(1108)](i,c),c[s(1081)](),o.disposeMessage(a)}getMessageEventArgs(t,e,s){const i=n,o=this[i(1203)]();return o[i(2120)]=t,o.message=e,o.socket=s,o}createEventArgs(){const t=n;return i.MessageEventArgs.getInstance(i[t(2292)])}dispose(){this[n(2378)].clear()}setHandler(t,e,s){this._messageRelay.setHandler(t,e,s)}[n(4003)](t){const e=n;return this[e(2378)][e(4003)](t)}[n(1108)](t,e){const s=n;this[s(2378)][s(1108)](t,e)}unsetHandler(t){const e=n;this._messageRelay[e(2248)](t)}[n(3277)](){this._messageRelay.unsetHandlers()}}e.OpenMessageDomain=_0x1d16e2},4736:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e.RequestFailureType=e.RequestFailureReason=e[n(2605)]=void 0;const i=s(1068),o=s(7409);e[n(2605)]=class _0x424519{constructor(t,e){const s=n;this[s(2950)]=new(i[s(1990)]),this.onSucceeded=new(i[s(1990)]),this[s(2132)]=new(i[s(1990)]),this[s(271)]=t,this[s(3881)]=e}get isActive(){return this[n(1420)]}get[n(2120)](){return this[n(1368)]}[n(3670)](t,e,s){const i=n;if(this[i(1420)])return void console.error(i(1325),t);this._messageId=t,this[i(2865)]=e,this[i(1177)]=s,this[i(1420)]=!0;const r=o[i(1965)][i(1753)](this[i(271)]);r[i(3118)].requestId=e,this[i(2401)](r),s[i(327)](t,this[i(3881)],this[i(1620)][i(4467)](this));const c=s[i(2230)](t,r);if(!c[i(1747)]){const t=new _0x5e59c0(a[i(4271)],i(1512)+c.errorType+")");t[i(1410)]=c[i(3335)],this.fail(t)}}[n(4441)](t){const e=n;this[e(1420)]&&(this.stop(),this[e(1482)].safeInvoke(t))}[n(314)](t){const e=n;this[e(1420)]&&this[e(2785)](),t[e(1810)]=this,this[e(2132)].safeInvoke(t)}stop(){const t=n;this[t(1420)]&&(this[t(1420)]=!1,this._messageDomain.unsetHandler(this._messageId),this[t(2950)][t(2356)](this))}[n(1620)](t){const e=n;if(!this[e(1420)])return;const s=t[e(2977)],i=s[e(3118)];if(i.requestId!==this._requestId){const t=e(3322)+this[e(1368)]+e(765)+this[e(2865)]+e(3650)+i.requestId+".";console[e(4447)](t);const s=new _0x5e59c0(a[e(2326)],t);return s[e(3246)]=-1,void this[e(314)](s)}if(i[e(1747)])this[e(4441)](s);else{const t=new _0x5e59c0(a[e(2326)],i[e(4447)]);t[e(3246)]=i[e(2208)],this[e(314)](t)}}};class _0x5e59c0{constructor(t,e){const s=n;this[s(2403)]=t,this[s(2977)]=e||s(3340)+t}}var a;e[n(365)]=_0x5e59c0,function(t){const e=n;t[t.unspecified=0]=e(2425),t[t.transport=1]=e(4271),t[t.network=2]=e(2731),t[t[e(2326)]=3]=e(2326)}(a=e[n(3806)]||(e[n(3806)]={}))},9964:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},4581:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e[n(807)]=e[n(2152)]=void 0;const i=s(2002),o=s(1068),a=s(6853);class _0x579e9c{constructor(t){const e=n;this[e(2950)]=new o.DelegateP1,_0x579e9c[e(446)]=this,this._socket=t,this[e(2694)]=new(i[e(1905)])(t),t.onPing[e(324)](this[e(1677)],this),t.onClosed[e(324)](this[e(1938)],this),this[e(1677)]()}static get[n(2216)](){return this[n(446)]}get[n(547)](){return this[n(2474)]}get[n(283)](){return this[n(2694)]}get[n(1953)](){const t=n;return this[t(2474)][t(1953)]}resetTimeout(){const t=n;this._pingTimeout&&clearTimeout(this[t(2594)]),this[t(2594)]=setTimeout(this[t(683)][t(4467)](this),35e3)}[n(2785)](t,e){const s=n,i=this[s(2474)];i[s(1953)]?i[s(3388)](t,e):console[s(4447)](s(3312))}[n(2649)](t){const e=n;_0x579e9c[e(446)]===this&&(_0x579e9c._instance=void 0),this[e(634)]=void 0,this[e(2694)].dispose(),this[e(2594)]&&(clearTimeout(this._pingTimeout),this._pingTimeout=void 0),this[e(2950)][e(2356)](t)}[n(683)](){const t=n;this[t(2594)]=void 0,this[t(2785)](a[t(2307)][t(2534)],t(2289))}[n(1938)](t,e){const s=n,i=new _0x60b409(e[s(3423)],e[s(4387)],e.wasClean);this.stopInternal(i)}}e[n(2152)]=_0x579e9c;class _0x60b409{constructor(t=-1,e,s){const i=n;this[i(3423)]=t,this.message=e,this[i(521)]=s}[n(3690)](){const t=n;return"("+this[t(3423)]+") "+(this[t(2977)]||t(455))}}e[n(807)]=_0x60b409},3931:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e.NetworkStream=void 0;const i=s(3338);class _0xe35fba{constructor(t){const e=n;this[e(3230)]=0,t||(t=new Uint8Array(_0xe35fba[e(1039)])),this[e(2302)](t,!0)}get buffer(){return this[n(2039)]}set[n(1172)](t){this[n(2302)](t,!0)}get[n(639)](){return this[n(3230)]}set[n(639)](t){this[n(3230)]=t}get[n(3171)](){const t=n;return this._buffer[t(3171)]}[n(1785)](t,e=!1){this[n(943)](this._position+t,e)}[n(943)](t,e=!1){const s=n,i=this[s(2039)],o=i.length;if(o>=t)return;let a=Math[s(1417)](Math[s(2252)](o*_0xe35fba[s(3657)]),_0xe35fba[s(1039)]);for(;a<t;)a=Math[s(2252)](a*_0xe35fba[s(3657)]);const r=_0xe35fba[s(2672)](a);if(!e)for(let t=0;t<o;t++)r[t]=i[t];this[s(2302)](r,!1)}static createBuffer(t){const e=n;return t>=_0xe35fba[e(4301)]&&console.warn("NetworkBuffer size exceeding "+_0xe35fba._bufferSizeWarning+e(3959)),new Uint8Array(t)}setBuffer(t,e){const s=n;this[s(2039)]=t,e&&this[s(1699)]()}[n(1699)](){this[n(3230)]=0}[n(4328)](t,e,s){this[n(943)](s,!0),this.seekZero(),this.writeBytes(t,e,s),this.seekZero()}[n(1186)](t){const e=n;this[e(1785)](1),this[e(2039)][this[e(3230)]++]=t}[n(2238)](t,e){const s=n;this[s(1785)](2),this._buffer[this[s(3230)]++]=t,this._buffer[this[s(3230)]++]=e}[n(3735)](t,e,s){const i=n;this.ensureCanAdd(3),this._buffer[this[i(3230)]++]=t,this[i(2039)][this._position++]=e,this._buffer[this[i(3230)]++]=s}writeByte4(t,e,s,i){const o=n;this[o(1785)](4),this._buffer[this[o(3230)]++]=t,this._buffer[this[o(3230)]++]=e,this[o(2039)][this._position++]=s,this._buffer[this[o(3230)]++]=i}[n(4216)](t,e,s,i,o){const a=n;this[a(1785)](5),this._buffer[this._position++]=t,this._buffer[this[a(3230)]++]=e,this[a(2039)][this[a(3230)]++]=s,this._buffer[this[a(3230)]++]=i,this[a(2039)][this[a(3230)]++]=o}[n(3518)](t,e=0,s){const i=n;if(Number[i(4388)](s)||(s=t[i(3171)]),0===s)return;this.ensureCanAdd(s);const o=this._buffer;if(s>256){const n=t.subarray(e,e+s);o.set(n,this[i(3230)]),this._position+=s}else for(let n=0;n<s;n++)o[this[i(3230)]++]=t[e+n]}[n(3119)](t,e=0,s){const i=n;Number.isFinite(s)||(s=t[i(3171)]-e),this[i(4133)](s),this.writeBytes(t,e,s)}[n(4018)](t){this[n(2238)](t,t>>8)}[n(3968)](t){this.writeByte2(t,t>>8)}[n(2988)](t){this[n(3612)](t,t>>8,t>>16,t>>24)}[n(3058)](t){this[n(3612)](t,t>>8,t>>16,t>>24)}writePackedInt32(t){this.writePackedUInt32(t)}[n(4133)](t){const e=n;(t>>>=0)<=240?this[e(1186)](t):t<=2287?this[e(2238)]((t-240)/256+241,(t-240)%256):t<=67823?this[e(3735)](249,(t-2288)/256,(t-2288)%256):t<=16777215?this[e(3612)](250,255&t,t>>8&255,t>>16&255):this[e(4216)](251,255&t,t>>8&255,t>>16&255,t>>24&255)}[n(1608)](t){this[n(1186)](t?1:0)}[n(3117)](t){const e=n;_0xe35fba[e(4058)][0]=t,this[e(3518)](_0xe35fba._floatByteArray)}writeVector2(t){const e=n;this[e(3117)](t.x),this[e(3117)](t.y)}writeVector3(t){const e=n;this.writeFloat(t.x),this[e(3117)](t.y),this[e(3117)](t.z)}[n(3910)](t){const e=n;this[e(3117)](t.x),this[e(3117)](t.y),this[e(3117)](t.z),this[e(3117)](t.w)}[n(3229)](t){const e=n,s=_0xe35fba[e(1070)][e(514)](t);this[e(4133)](s[e(3171)]),this.writeBytes(s)}[n(2574)](){const t=n;if(this[t(3230)]>=this[t(3171)])throw new Error(t(4054)+this[t(3230)]+t(2412)+this[t(3171)]+").");return this._buffer[this._position++]}readBytes(t,e,s){const i=n;if(this._position+s>this.length)throw new Error(i(2264)+s+i(297)+this[i(3230)]+i(2412)+this.length+").");const o=this._buffer;if(s>256){const n=o[i(2737)](this._position,this._position+s);t[i(2936)](n,e),this._position+=s}else for(let n=0;n<s;n++)t[e+n]=o[this[i(3230)]++]}[n(819)](){const t=n;return(this[t(2574)]()|this[t(2574)]()<<8)>>>0}readInt16(){const t=n;return(this[t(2574)]()|this[t(2574)]()<<8)<<16>>16}[n(4276)](){const t=n;return(this[t(2574)]()|this[t(2574)]()<<8|this[t(2574)]()<<16|this[t(2574)]()<<24)>>>0}[n(282)](){const t=n;return this[t(2574)]()|this[t(2574)]()<<8|this[t(2574)]()<<16|this[t(2574)]()<<24}[n(3566)](t){const e=n,s=this[e(2633)]();if(t){if(t[e(3171)]<s)throw new Error(e(1545)+s+e(2957)+t[e(3171)]+".")}else t=new Uint8Array(s);return this[e(3080)](t,0,s),t}[n(359)](){return this[n(2633)]()<<0}[n(2633)](){const t=n,e=this[t(2574)]();if(e<241)return e;const s=this.readByte();if(e>=241&&e<=248)return 240+256*(e-241)+s>>>0;const i=this[t(2574)]();if(249==e)return 2288+256*s+i>>>0;const o=this[t(2574)]();if(250==e)return s+(i<<8)+(o<<16)>>>0;const a=this[t(2574)]();if(e>=251)return s+(i<<8)+(o<<16)+(a<<24)>>>0;throw new Error("readPackedUInt32 failure: "+e)}[n(3812)](){return 0!==this.readByte()}[n(2876)](){const t=n,e=_0xe35fba[t(3868)];return e[0]=this.readByte(),e[1]=this[t(2574)](),e[2]=this.readByte(),e[3]=this[t(2574)](),_0xe35fba[t(4058)][0]}[n(730)](t){const e=n;return t||(t=new i.Vec2),t.x=this[e(2876)](),t.y=this.readFloat(),t}[n(3797)](t){const e=n;return t||(t=new(i[e(1561)])),t.x=this.readFloat(),t.y=this[e(2876)](),t.z=this[e(2876)](),t}[n(2191)](t){const e=n;return t||(t=new(i[e(2894)])),t.x=this[e(2876)](),t.y=this[e(2876)](),t.z=this[e(2876)](),t.w=this.readFloat(),t}[n(3148)](){const t=n,e=this.readPackedUInt32(),s=new Uint8Array(e);return this[t(3080)](s,0,e),_0xe35fba[t(782)][t(3427)](s)}}e[n(2662)]=_0xe35fba,_0xe35fba[n(1039)]=64,_0xe35fba[n(3657)]=1.5,_0xe35fba._bufferSizeWarning=134217728,_0xe35fba._floatArray=new Float32Array(1),_0xe35fba[n(3868)]=new Uint8Array(_0xe35fba[n(4058)][n(1172)]),_0xe35fba[n(1070)]=new TextEncoder,_0xe35fba._stringDecoder=new TextDecoder},6853:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,s(3500),{value:!0}),e[s(2307)]=e[s(2254)]=void 0,function(t){const e=s;t[t[void 0]=0]=e(1270),t[t.normalClosure=1e3]=e(425),t[t.goingAway=1001]=e(1706),t[t.protocolError=1002]=e(3142),t[t[e(3696)]=1003]=e(3696),t[t[e(4034)]=1005]=e(4034),t[t[e(310)]=1006]=e(310),t[t[e(870)]=1007]=e(870),t[t[e(3567)]=1008]=e(3567),t[t[e(2223)]=1009]=e(2223),t[t[e(3125)]=1010]=e(3125),t[t.internalError=1011]="internalError",t[t[e(4309)]=1012]=e(4309),t[t.tryAgainLater=1013]="tryAgainLater",t[t[e(3073)]=1014]="badGateway",t[t[e(4314)]=1015]="tlsHandshake"}(e[s(2254)]||(e[s(2254)]={})),function(t){const e=s;t[t[e(3480)]=4e3]=e(3480),t[t[e(2534)]=4200]=e(2534),t[t[e(2223)]=4201]=e(2223),t[t[e(2625)]=4300]=e(2625),t[t.serverConnectionError=4400]=e(4069),t[t[e(2044)]=4401]=e(2044),t[t[e(1033)]=4402]=e(1033),t[t[e(2122)]=4403]=e(2122)}(e[s(2307)]||(e[s(2307)]={}))},8952:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(3433)]=e[n(2031)]=void 0;const i=s(3994),o=s(933),a=s(7409),r=s(6557);class _0x4e8cbf extends i[n(995)]{constructor(){const t=n;super(o[t(989)][t(547)]),_0x4e8cbf[t(446)]=this}static get instance(){return this[n(446)]}[n(2944)](t,e){const s=n,i=e.socket;switch(t){case c[s(2970)]:this[s(475)](i);break;case c[s(1590)]:this[s(2137)](i)}}ping(){const t=n;this[t(2230)](c[t(2970)],a.MessagePool[t(1753)](r[t(1397)]))}[n(1590)](){const t=n;this[t(2230)](c[t(1590)],a.MessagePool[t(1753)](r[t(1397)]))}dispose(){}[n(475)](t){this.pong(),t.onPingInternal()}[n(2137)](t){t[n(395)]()}}var c;e[n(2031)]=_0x4e8cbf,function(t){const e=n;t[t[e(2970)]=0]="ping",t[t.pong=1]=e(1590)}(c=e.SocketMessageType||(e[n(3433)]={}))},4792:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,s(3500),{value:!0}),e[s(3026)]=void 0,e.SocketMessage=class _0x292975{get socket(){return this[s(2474)]}get stream(){return this[s(3995)]}configure(t,e){const n=s;this[n(2474)]=t,this[n(3995)]=e}dispose(){const t=s;this._socket=this[t(3995)]=void 0}}},4729:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e[n(1015)]=void 0;const i=s(1068),o=s(3931),a=s(6880),r=s(4792);class _0xcf0a57{constructor(t){const e=n;this.onConnected=new i.DelegateP1,this[e(791)]=new(i[e(2503)]),this[e(1525)]=new i.DelegateP2,this.onPing=new(i[e(1990)]),this[e(2809)]=new(i[e(1990)]);const s=this[e(3883)]=t instanceof WebSocket?t:new WebSocket(t);s[e(3408)]=e(3618),s[e(239)]=this[e(4048)][e(4467)](this),s.onerror=this.onErrorInternal[e(4467)](this),s[e(2886)]=this[e(4396)][e(4467)](this),s.onclose=this.onClosedInternal.bind(this)}get[n(1953)](){const t=n;return this[t(3883)][t(1450)]===WebSocket[t(4221)]}[n(3670)](t){const e=n;this[e(3883)][e(3670)](t)}[n(1534)](t){const e=n,s=new DataView(t[e(1172)][e(1172)],0,t[e(639)]);this[e(3670)](s)}[n(3388)](t,e){const s=n;this[s(1953)]?(Number[s(4388)](t)&&1e3!==t&&(t<3e3||t>4999)&&(console[s(4273)](s(2804)+t+s(3795)),t=void 0),this[s(3883)].close(t,e)):console[s(4447)](s(1889))}[n(4048)](){const t=n;this.onConnected[t(2356)](this)}onClosedInternal(t){const e=n;this[e(791)][e(2356)](this,t)}[n(468)](t){const e=n;this[e(1525)][e(2356)](this,t)}[n(1959)](){const t=n;this.onPing[t(2356)](this)}onPongInternal(){const t=n;this[t(2809)][t(2356)](this)}onMessageInternal(t){const e=n;if(!this[e(3243)])return;const s=t[e(3987)];if(!s)return void console[e(4447)](e(2298));if(!(s instanceof ArrayBuffer))return void console.error(e(1610));const i=new Uint8Array(s);if(0===i[e(3171)])return void console[e(4447)](e(1657));const o=_0xcf0a57._streamPool,a=o[e(363)]();a[e(1172)]=i;const r=_0xcf0a57[e(867)],c=r[e(363)]();c.configure(this,a);try{this[e(3243)](c)}catch(t){console[e(4447)](t)}c[e(1081)](),r.returnObject(c),o.returnObject(a)}}e.Socket=_0xcf0a57,_0xcf0a57._emptyBuffer=new Uint8Array(0),_0xcf0a57[n(867)]=a[n(1910)][n(1130)](r[n(3026)]),_0xcf0a57[n(4024)]=new(a[n(1495)])((()=>new o.NetworkStream(_0xcf0a57._emptyBuffer)),(t=>t.buffer=_0xcf0a57[n(2807)]))},2978:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e.SerializationTest=void 0;const i=s(3931);e[n(2801)]=class _0x28c57b{static[n(3088)](){const t=n,e=[255,65535,16777215,-1>>>0],s=[0,50,-10,-1,2147483647,-2147483648],o=new(i[t(2662)]);for(let s of e)o[t(4133)](s);for(let e of s)o[t(2389)](e);let a=!0;const r=new i.NetworkStream(o[t(1172)]);for(let s of e){const e=r[t(2633)](),n=e===s;console[t(2045)](t(3434),e,n),n||(a=!1)}for(let e of s){const s=r[t(359)](),n=s===e;console[t(2045)](t(3635),s,n),n||(a=!1)}console.log(t(2496),a)}}},7983:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,s(3500),{value:!0}),e[s(1291)]=void 0,e[s(1291)]=class _0x2963d1{constructor(t,e){const n=s;this[n(2415)]=[],this[n(665)]=t,this[n(2517)]=e}[s(2064)](t,e){const n=s;this[n(3995)]=e;const i=this[n(2415)];i.splice(0,i[n(3171)]);try{const s=e[n(639)];e[n(4018)](0),t[n(3855)](this.serializeItemInternal,this);const o=i.length;if(0===o)return!1;const a=e.position;e[n(4133)](o);for(let t=0;t<o;t++){const s=i[t];e[n(4133)](s)}const r=e.position;return e[n(639)]=s,e[n(4018)](a),e[n(639)]=r,!0}finally{this[n(3995)]=void 0,i[n(650)](0,i[n(3171)])}}[s(2429)](t){const e=s,n=this[e(3995)],i=n[e(639)];this._serializeDelegate(t,n)?this[e(2415)][e(1757)](i):n.position=i}[s(582)](t){const e=s,n=this[e(2415)];n.splice(0,n.length);try{const s=t.readUInt16();if(0===s)return;t.position=s;const i=t[e(2633)]();for(let s=0;s<i;s++){const s=t.readPackedUInt32();n[e(1757)](s)}const o=t[e(639)];for(let s=0;s<i;s++)t.position=n[s],this[e(2517)](t);t[e(639)]=o}finally{n[e(650)](0,n[e(3171)])}}}},215:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e.FixedCollectionSynchronizer=void 0;const i=s(6880);e[n(3438)]=class _0x3e533c{constructor(t,e,s){const i=n;this._itemPointerBuffer=[],this[i(3896)]=t,this._serializeDelegate=e,this[i(2517)]=s}[n(2064)](t){const e=n,s=t[e(639)];t[e(4018)](0);let i=0;const o=this[e(560)];o[e(650)](0,o[e(3171)]);const a=this[e(3896)],r=a[e(3171)];for(let s=0;s<r;s++){const n=t[e(639)],r=a[s];try{if(!this._serializeDelegate(r,t)){t[e(639)]=n;continue}}catch(s){console[e(4447)](s),t[e(639)]=n;continue}const c=_0x415351.getInstance(s,n);o[e(1757)](c),i|=1<<s}if(0===i)return!1;const c=t[e(639)];t[e(4133)](i);const h=o.length;for(let s=0;s<h;s++){const n=o[s];t[e(4133)](n[e(1288)]),_0x415351[e(4412)](n)}o[e(650)](0,h);const l=t[e(639)];return t[e(639)]=s,t[e(4018)](c),t[e(639)]=l,!0}[n(582)](t){const e=n,s=t.readUInt16();if(0===s)return;t[e(639)]=s;let i=t[e(2633)]();if(0===i)return void console[e(4273)](e(4062),this);const o=this[e(560)];o[e(650)](0,o[e(3171)]);const a=this[e(3896)],r=a[e(3171)];for(let s=0;s<r&&0!==i;s++){const n=1<<s;if(0==(i&n))continue;i&=~n;const a=t[e(2633)](),r=_0x415351[e(2047)](s,a);o[e(1757)](r)}const c=t[e(639)],h=o[e(3171)];for(let s=0;s<h;s++){const n=o[s];try{t[e(639)]=n.pointer;const s=a[n[e(3872)]];this._deserializeDelegate(s,t)}catch(t){console.error(t)}_0x415351[e(4412)](n)}o[e(650)](0,h),t.position=c}};class _0x415351{constructor(){const t=n;this[t(3872)]=0,this[t(1288)]=0}[n(4326)](){const t=n;this.itemIndex=this[t(1288)]=0}static[n(2047)](t,e){const s=n,i=_0x415351._pool[s(363)]();return i[s(3872)]=t,i.pointer=e,i}static[n(4412)](t){const e=n;t[e(4326)](),_0x415351[e(852)][e(2925)](t)}}_0x415351[n(852)]=new(i[n(1495)])((()=>new _0x415351))},2379:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(1468)]=e[n(4296)]=void 0;const i=s(8230),o=s(1465);e.ModuleContainer=class _0x4b7113{constructor(t){const e=n;this[e(906)]=[],this[e(486)]=!1,this[e(3027)]=t}get[n(736)](){return this[n(3027)]}[n(3731)](t){const e=n;if(t[e(2796)])return console[e(4447)](e(4184),this,t),!1;this[e(906)].push(t),t[e(2796)]=this,this[e(486)]&&t[e(3047)]()}getModule(t){const e=n,s=this[e(906)],i=s[e(3171)];for(let e=0;e<i;e++){const n=s[e];if(n instanceof t)return n}return null}[n(3088)](){const t=n;if(this._isRunning)return void console.error("Can't start module system: already running.",this);this._isRunning=!0;const e=this._modules,s=e[t(3171)];for(let n=0;n<s;n++){const s=e[n];try{s[t(3047)]()}catch(e){console[t(4447)](t(2674)+s[t(3414)][t(3773)]+'":',e,s)}}}[n(2785)](){const t=n;if(!this[t(486)])return void console[t(4447)](t(2143));const e=this[t(906)],s=e.length;for(let n=0;n<s;n++){const s=e[n];try{s[t(2649)]()}catch(e){console[t(4447)](t(4185)+s[t(3414)][t(3773)]+'":',e,s)}}}};class _0x313ac6{constructor(){this[n(2525)]=[]}get[n(2796)](){return this[n(2965)]}get[n(736)](){return this[n(3027)]}set[n(2796)](t){const e=n;this[e(2965)]||(this[e(2965)]=t,this[e(3027)]=t[e(736)],this[e(3988)]())}[n(3988)](){const t=n;this[t(1639)]();try{this[t(3311)]()}catch(e){console[t(4447)](e)}}startInternal(){const t=n;try{this[t(3088)]()}catch(e){console[t(4447)](e)}}[n(2649)](){const t=n;try{this.stop()}catch(t){console.error(t)}this[t(3957)]()}[n(677)](t,e,s){const o=n,a=new i.TickFunction(t,e,s);a[o(3400)](),this[o(2525)][o(1757)](a)}[n(1639)](){const t=n,e=this[t(1148)]();this[t(355)](i.TickType[t(2167)],o[t(630)][t(2497)],e),this[t(355)](i[t(357)][t(1339)],o[t(630)][t(2497)],e),this.autoCreateTickFunction(i.TickType.lateTick,o[t(630)][t(2497)],e),this[t(355)](i[t(357)][t(1106)],o.TimeSpace[t(2731)],e)}[n(355)](t,e,s){const i=n;if(!(s&1<<t))return;const o=a[t];this[i(677)](t,this[o][i(4467)](this),e)}[n(1148)](){const t=n,e=this.constructor;let s=e[t(4469)];if(void 0!==s)return s;const o=e[t(495)];return s=0,s=this[t(3552)](o,s,i[t(357)][t(2167)]),s=this[t(3552)](o,s,i[t(357)][t(1339)]),s=this[t(3552)](o,s,i[t(357)].lateTick),s=this.modifyTickOverrideMask(o,s,i[t(357)][t(1106)]),e.tickOverrideMask=s}[n(3552)](t,e,s){const i=n,o=a[s],r=_0x313ac6[i(495)];return t[o]!==r[o]&&(e|=1<<s),e}[n(3957)](){const t=n,e=this[t(2525)],s=e[t(3171)];for(let n=0;n<s;n++)e[n][t(3219)]();e.splice(0,s)}[n(3425)](t){const e=n,s=this._tickFunctions,i=s[e(3171)];for(let n=0;n<i;n++){const i=s[n];if(i[e(607)]===t)return i}return null}[n(2167)](t){}[n(1339)](t){}[n(2861)](t){}netTick(t){}}e.Module=_0x313ac6;const a={};a[i[n(357)][n(2167)]]="earlyTick",a[i.TickType[n(1339)]]=n(1339),a[i[n(357)].lateTick]="lateTick",a[i[n(357)][n(1106)]]="netTick",Object[n(268)](a)},7045:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(3813)]=e[n(1606)]=e[n(4086)]=e.btCompoundShape=e[n(3847)]=e.btCapsuleShape=e[n(4353)]=e[n(1168)]=e[n(717)]=e[n(3682)]=e[n(435)]=e.btConeShapeZ=e[n(1382)]=e.btConeShape=e[n(290)]=e[n(3238)]=e[n(2933)]=e[n(2706)]=e[n(1331)]=e[n(1286)]=e[n(2905)]=e[n(3634)]=e[n(1140)]=e[n(3519)]=e.btBvhTriangleMeshShape=e[n(4191)]=e[n(3353)]=e[n(1776)]=void 0;class _0x1ad543{constructor(t,e,s){}x(){return 0}y(){return 0}z(){return 0}setX(t){}setY(t){}[n(2325)](t){}[n(4229)](t,e,s){}}e[n(1776)]=_0x1ad543;class _0x1e7992{constructor(t,e,s,n){}x(){return 0}y(){return 0}z(){return 0}w(){return 0}[n(2435)](t){}[n(3169)](t){}[n(2325)](t){}[n(1324)](t){}[n(4229)](t,e,s,n){}}e[n(3353)]=_0x1e7992;class _0x562c0d{[n(411)](t,e,s,n){}}e[n(4191)]=_0x562c0d;class _0x3619e5{constructor(t,e){}[n(3052)](t){}}e.btBvhTriangleMeshShape=_0x3619e5;class _0x362d7c{[n(3504)](){}[n(1955)](){}[n(4166)](){}setIdentity(){}setOrigin(t){}setRotation(t){}}e.btTransform=_0x362d7c;class _0x46a9dc{[n(2111)](t){}[n(4281)](t){}[n(1609)](t,e,s,n,i){}}e[n(1140)]=_0x46a9dc;class _0x1a6e7e{}e[n(3634)]=_0x1a6e7e;class _0x201561{getGravity(){return null}[n(2910)](t){}setCcdMotionThreshold(t){}[n(1447)](t){}[n(711)](t){}}e.btRigidBody=_0x201561;class _0x1375ae{[n(1399)](){return 0}[n(3530)](){return 0}get_m_maxSuspensionTravelCm(){return 0}[n(2080)](){return 0}get_m_suspensionDamping(){return 0}[n(3404)](){return 0}[n(1577)](t){}[n(4094)](t){}[n(1831)](t){}[n(2573)](t){}set_m_suspensionDamping(t){}[n(3156)](t){}}e[n(1286)]=_0x1375ae;class _0x267c3e{constructor(t){}}e[n(1331)]=_0x267c3e;class _0x35e936{constructor(t,e,s){}[n(4405)](t,e,s,n,i,o,a){}applyEngineForce(t,e){}[n(1763)](){}[n(4214)](){return 0}[n(3755)](){return 0}[n(3210)](){}[n(1384)](){return 0}[n(3677)](){return 0}getRigidBody(){}[n(3401)](t){return 0}[n(1104)](){return 0}[n(483)](){return 0}[n(4070)](t){}[n(2278)](t){}[n(1194)](t){return 0}resetSuspension(){}setBrake(t,e){}[n(574)](t,e,s){}[n(2678)](t){}[n(2887)](t,e){}[n(2008)](t){}[n(3646)](t){}[n(2436)](t,e){}updateFriction(t){}updateSuspension(t){}updateVehicle(t){}[n(2621)](t,e=!0){}[n(1145)](t,e=!0){}}e[n(2706)]=_0x35e936;class _0x45a052{[n(2335)](){return!1}[n(2578)](){return 0}[n(1969)](){}[n(1180)](){return 0}[n(658)](){return 0}get_m_engineForce(){return 0}[n(1399)](){return 0}get_m_maxSuspensionForce(){return 0}[n(801)](){return 0}get_m_raycastInfo(){}get_m_rollInfluence(){return 0}[n(3483)](){return 0}[n(645)](){return 0}[n(2551)](){return 0}[n(318)](){return 0}get_m_suspensionRestLength1(){return 0}[n(3404)](){return 0}[n(3550)](){}[n(2635)](){}get_m_wheelsDampingCompression(){return 0}[n(2959)](){return 0}[n(649)](){return 0}[n(2612)](){return 0}[n(1712)](){}set_m_bIsFrontWheel(t){}set_m_brake(t){}[n(2337)](t){}set_m_clippedInvContactDotSuspension(t){}[n(858)](t){}[n(529)](t){}[n(1577)](t){}[n(4094)](t){}[n(1831)](t){}[n(1556)](t){}[n(2544)](t){}[n(1768)](t){}set_m_skidInfo(t){}[n(1464)](t){}[n(1471)](t){}[n(2583)](t){}set_m_suspensionStiffness(t){}[n(544)](t){}set_m_wheelDirectionCS(t){}[n(3966)](t){}[n(2656)](t){}[n(1197)](t){}set_m_wheelsSuspensionForce(t){}set_m_worldTransform(t){}updateWheel(t,e){}}e[n(2933)]=_0x45a052,e[n(3238)]=class _0x2220a2{[n(882)](){}get_m_contactPointWS(){}[n(1598)](){return 0}[n(3992)](){}[n(2370)](){return!1}[n(1134)](){return 0}[n(4200)](){}get_m_wheelDirectionWS(){}set_m_contactNormalWS(t){}[n(2449)](t){}[n(1896)](t){}[n(2308)](t){}[n(3255)](t){}[n(4424)](t){}[n(2418)](t){}[n(2901)](t){}};class _0x1be92f{[n(2924)](t){}}e[n(290)]=_0x1be92f;class _0x14de4f extends _0x1be92f{constructor(t,e){super()}}e[n(4076)]=_0x14de4f;class _0x329a58 extends _0x1be92f{constructor(t,e){super()}}e.btConeShapeX=_0x329a58;class _0x3d4ca1 extends _0x1be92f{constructor(t,e){super()}}e[n(2815)]=_0x3d4ca1;class _0x112698 extends _0x1be92f{constructor(t){super()}}e[n(435)]=_0x112698;class _0x338df4 extends _0x1be92f{constructor(t){super()}}e[n(3682)]=_0x338df4;class _0x5d7cc1 extends _0x1be92f{constructor(t){super()}}e[n(717)]=_0x5d7cc1;class _0x213959 extends _0x1be92f{constructor(t){super()}}e[n(1168)]=_0x213959;class _0x342d14 extends _0x1be92f{constructor(t){super()}}e[n(4353)]=_0x342d14;class _0x531e68 extends _0x1be92f{constructor(t,e){super()}}e[n(2096)]=_0x531e68;class _0x1fe98a extends _0x1be92f{constructor(t,e,s=3){super()}}e[n(3847)]=_0x1fe98a;class _0x190ffa extends _0x1be92f{addChildShape(t,e){}}e.btCompoundShape=_0x190ffa;class _0x513203{[n(2213)](){return!1}get_m_closestHitFraction(){return 0}}e.ConvexResultCallback=_0x513203;class _0x44c5a5 extends _0x513203{constructor(t,e){super()}get_m_hitCollisionObject(){}[n(4240)](){}[n(2710)](){}}e[n(1606)]=_0x44c5a5,e[n(3813)]=s.g[n(3813)]||new class _0x518af0{constructor(){const t=n;this[t(1776)]=_0x1ad543,this[t(3353)]=_0x1e7992,this[t(4191)]=_0x562c0d,this[t(620)]=_0x3619e5,this[t(3519)]=_0x362d7c,this[t(2905)]=_0x201561,this[t(1140)]=_0x46a9dc,this.btCollisionWorld=_0x1a6e7e,this.btVehicleTuning=_0x1375ae,this.btDefaultVehicleRaycaster=_0x267c3e,this[t(2706)]=_0x35e936,this[t(2933)]=_0x45a052,this.btConeShape=_0x14de4f,this[t(1382)]=_0x329a58,this[t(2815)]=_0x3d4ca1,this.btSphereShape=_0x112698,this[t(3682)]=_0x338df4,this[t(717)]=_0x5d7cc1,this.btCylinderShapeX=_0x213959,this[t(4353)]=_0x342d14,this.btCapsuleShape=_0x531e68,this.btConvexHullShape=_0x1fe98a,this.btCompoundShape=_0x190ffa,this.ConvexResultCallback=_0x513203,this[t(1606)]=_0x44c5a5}destroy(t){}[n(1716)](t,e){}},e[n(1776)]=e.Ammo[n(1776)],e[n(3353)]=e.Ammo.btQuaternion,e.btTriangleMesh=e[n(3813)][n(4191)],e[n(620)]=e[n(3813)].btBvhTriangleMeshShape,e[n(3519)]=e[n(3813)].btTransform,e[n(2905)]=e[n(3813)][n(2905)],e.btDynamicsWorld=e.Ammo[n(1140)],e[n(3634)]=e.Ammo[n(3634)],e.btVehicleTuning=e[n(3813)][n(1286)],e[n(1331)]=e[n(3813)][n(1331)],e[n(2706)]=e[n(3813)].btRaycastVehicle,e.btWheelInfo=e[n(3813)][n(2933)],e[n(4076)]=e[n(3813)][n(4076)],e[n(1382)]=e[n(3813)][n(1382)],e[n(2815)]=e[n(3813)].btConeShapeZ,e[n(435)]=e[n(3813)][n(435)],e[n(3682)]=e[n(3813)].btBoxShape,e.btCylinderShape=e.Ammo.btCylinderShape,e[n(1168)]=e[n(3813)][n(1168)],e[n(4353)]=e[n(3813)][n(4353)],e[n(2096)]=e[n(3813)][n(2096)],e.btConvexHullShape=e[n(3813)][n(3847)],e[n(1666)]=e.Ammo.btCompoundShape,e[n(4086)]=e[n(3813)][n(4086)],e[n(1606)]=e[n(3813)][n(1606)]},4714:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,s(3500),{value:!0}),e[s(3484)]=void 0,function(t){const e=s;t[e(267)]="collisionstart",t.stay="contact",t[e(2938)]=e(1928)}(e.CollisionEventType||(e[s(3484)]={}))},9624:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e.PhysicsExtensions=e[n(600)]=void 0;const i=s(7045),o=s(3338),a=s(3830);class _0x2981b6{constructor(){const t=n;this[t(3037)]=0,this[t(1779)]=new(o[t(1561)]),this.normal=new(o[t(1561)])}[n(1876)](t,e,s,i){const o=n;this[o(2954)]=t,this[o(3037)]=e,this.point[o(2936)](s.x(),s.y(),s.z()),this[o(1535)].set(i.x(),i.y(),i.z())}[n(3760)](){const t=n;this[t(2954)]=null,this[t(3037)]=0,this.point[t(2936)](0,0,0),this.normal[t(2936)](0,0,0)}}e[n(600)]=_0x2981b6;class _0x23ca12{static[n(3775)](t,e,s,r,c,h,l){const d=n;l?l.reset():l=new _0x2981b6;let u=null;const p=this._cachedPrimitives;r&&c||(u=p[d(3745)][d(1873)](e,s,o[d(1561)].UP)),r||(r=p[d(2845)][d(1476)](u)),c||(c=p[d(2354)][d(1476)](u)),h||(h=0),p.ammoPosFrom.setValue(e.x,e.y,e.z),p[d(770)][d(4229)](s.x,s.y,s.z),p.ammoTransformFrom[d(3133)](p[d(1759)]),p[d(1028)].setOrigin(p.ammoPosTo),p[d(988)].setValue(r.x,r.y,r.z,r.w),p[d(2459)].setRotation(p[d(988)]),p[d(2665)].setValue(c.x,c.y,c.z,c.w),p[d(2459)][d(927)](p[d(2665)]);const _=new(i.Ammo[d(1606)])(p.ammoPosFrom,p[d(770)]);if(a.PhysicsManager[d(2216)][d(931)].convexSweepTest(t,p[d(2459)],p[d(1028)],_,h),_[d(2213)]()){const t=_[d(2958)](),e=i[d(3813)][d(1716)](t,i.Ammo.btRigidBody);if(e){const t=_.get_m_closestHitFraction(),s=_[d(4240)](),n=_[d(2710)]();l[d(1876)](e[d(2954)],t,s,n)}}return i[d(3813)][d(3039)](t),i[d(3813)].destroy(_),l}static[n(1851)](t,e,s,i,a,r,c,h,l){const d=n;a||(a=o[d(1561)].UP);const u=this[d(3713)](t,e,a);if(!u)throw d(1588);return this[d(3775)](u,s,i,r,c,h,l)}static[n(346)](t,e,s,i,o,a,r,c){const h=n,l=this[h(3297)](t,i);if(!l)throw"Failed to generate sphere shape. Check attributes.";return this[h(3775)](l,e,s,o,a,r,c)}static[n(2756)](t,e,s,i,o,a,r,c){const h=this[n(1647)](t,i);if(!h)throw"Failed to generate box shape. Check attributes.";return this.convexCast(h,e,s,o,a,r,c)}static cylinderCast(t,e,s,i,a,r,c,h){const l=n;i||(i=o.Vec3.UP);const d=this.getCylinderShape(t,i);if(!d)throw l(2290);return this[l(3775)](d,e,s,a,r,c,h)}static capsuleCast(t,e,s,i,o,a,r,c,h){const l=n,d=this[l(3397)](t,e,o);if(!d)throw l(276);return this[l(3775)](d,s,i,a,r,c,h)}static[n(3528)](t,e,s,i,o,a,r,c){const h=n,l=this[h(1533)](t);if(!l)throw h(1913);return this[h(3775)](l,e,s,o,a,r,c)}static[n(3713)](t,e,s){const a=n;let r=null;switch(s){case o[a(1561)].UP:r=new(i[a(4076)])(t,e);break;case o[a(1561)].RIGHT:r=new i.btConeShapeX(t,e);break;case o.Vec3.BACK:r=new i.btConeShapeZ(t,e);break;default:throw a(3478)}return r}static[n(3297)](t,e){const s=n,o=new i.btSphereShape(t);return e&&o[s(2924)](e),o}static[n(1647)](t,e){const s=n,o=_0x23ca12[s(2165)][s(2133)];o[s(4229)](t.x,t.y,t.z);const a=new i.btBoxShape(o);return e&&a[s(2924)](e),a}static[n(984)](t,e){const s=n;let a=null;const r=_0x23ca12._cachedPrimitives[s(2133)];switch(r[s(4229)](t.x,t.y,t.z),e){case o[s(1561)].UP:a=new(i[s(717)])(r);break;case o[s(1561)].RIGHT:a=new(i[s(1168)])(r);break;case o[s(1561)].BACK:a=new i.btCylinderShapeZ(r);break;default:throw s(3478)}return a}static getCapsuleShape(t,e,s){const n=new i.btCapsuleShape(t,e);return s&&n.setMargin(s),n}static[n(1533)](t){return new(i[n(3847)])(t,t.length,3)}}e[n(4103)]=_0x23ca12,_0x23ca12._cachedPrimitives=new class _0x25f2df{constructor(){const t=n;this[t(2133)]=new i.btVector3,this[t(2459)]=new i.btTransform,this[t(1759)]=new(i[t(1776)]),this[t(988)]=new(i[t(3353)]),this[t(1028)]=new(i[t(3519)]),this[t(770)]=new i.btVector3,this[t(2665)]=new(i[t(3353)]),this[t(3745)]=new(o[t(2539)]),this[t(2845)]=(new(o[t(2894)]))[t(3172)](o[t(2894)][t(2992)]),this[t(2354)]=(new(o[t(2894)]))[t(3172)](o[t(2894)][t(2992)])}}},3830:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e[n(384)]=void 0;const i=s(822),o=s(3338),a=s(8145),r=s(1813);class _0x59f408 extends i[n(3656)]{static get[n(2216)](){return i.Manager.getInstanceByType(_0x59f408)}get[n(1688)](){return this[n(2749)]}get[n(931)](){const t=n;return this[t(2749)][t(931)]}construct(){const t=n,e=a[t(1461)][t(2216)];this[t(2749)]=e[t(2871)](o.RigidBodyComponentSystem),this[t(2232)]()}[n(1339)](){this[n(2232)]()}[n(2232)](){const t=n,e=this._rigidBodySystem,s=e[t(3168)],i=e[t(931)],o=i[t(1467)]();r[t(3866)][t(4274)](s.x,o.x())&&r[t(3866)][t(4274)](s.y,o.y())&&r[t(3866)].approximately(s.z,o.z())||(o[t(4229)](s.x,s.y,s.z),i[t(711)](o),s.x=o.x(),s.y=o.y(),s.z=o.z(),e[t(3168)]=s)}}e[n(384)]=_0x59f408,_0x59f408[n(3311)](n(384))},6531:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,"__esModule",{value:!0}),e[n(2118)]=void 0;const i=s(3338),o=s(2269),a=s(6244),r=s(1813);e.PhysicsUtils=class _0x4caac0{static createAngularVelocity(t,e,s,r){const c=n;r||(r=new(i[c(1561)]));const h=o[c(2848)][c(3155)](),l=h[c(1367)](t),d=h[c(3059)](e,l),u=a[c(2395)][c(3155)](),p=d.getEulerAngles(u[c(3155)](!0)),_=u[c(830)](p,i[c(2930)][c(2779)]),m=u[c(830)](_,s);return r[c(3172)](m),h[c(1081)](),u.dispose(),r}static addForceInDirection(t,e,s,o,c){const h=n;c||(c=new(i[h(1561)])),c[h(3172)](t);const l=a[h(2395)][h(3155)]();r[h(3866)][h(4274)](e[h(4269)](),1)||(e=l[h(3030)](e));const d=t[h(2285)](e);if(d<o){const t=o-d,n=i[h(2930)][h(3464)](s,0,t),a=l[h(830)](e,n);c[h(1565)](a)}return l[h(1081)](),c}}},5772:(t,e)=>{const s=a0_0x520a;Object.defineProperty(e,s(3500),{value:!0}),e[s(3264)]=void 0,function(t){const e=s;t.static="static",t[e(993)]=e(993),t[e(845)]=e(845)}(e[s(3264)]||(e[s(3264)]={}))},9250:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,s(3500),{value:!0}),e.RigidBodyUtils=void 0,e[s(2271)]=class _0x3e6dec{static[s(2875)](t,e=1,n){const i=s,o=t[i(3548)];o[i(1301)](e),o[i(1447)](n)}static setGravity(t,e){const n=s,i=t[n(3548)],o=i.getGravity();o[n(4229)](e.x,e.y,e.z),i[n(711)](o)}}},6909:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,s(3500),{value:!0}),e.TriggerEventType=void 0,function(t){const e=s;t[e(412)]="triggerenter",t[e(3112)]=e(608)}(e[s(1791)]||(e[s(1791)]={}))},7086:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(2789)]=void 0;const i=s(3338),o=s(808);class _0x4281e6{constructor(t,e){const s=n;this[s(639)]=new i.Vec3,this[s(479)]=i[s(2894)][s(2992)].clone(),t instanceof i.Entity?this[s(3172)](t):(t&&this.position[s(3172)](t),e&&this[s(479)][s(3172)](e))}[n(3172)](t,e=o.Space[n(4026)]){const s=n;if(t instanceof _0x4281e6)return this[s(639)].copy(t[s(639)]),void this[s(479)][s(3172)](t[s(479)]);switch(e){case o[s(3845)][s(4026)]:this[s(639)][s(3172)](t[s(1344)]()),this[s(479)].copy(t[s(1955)]());break;case o[s(3845)][s(719)]:this[s(639)].copy(t[s(1949)]()),this[s(479)][s(3172)](t[s(414)]())}}[n(2758)](t,e){const s=n;switch(e){case o[s(3845)].global:t.setPosition(this[s(639)]),t[s(927)](this[s(479)]);break;case o[s(3845)].local:t[s(1504)](this[s(639)]),t[s(262)](this[s(479)])}}}e[n(2789)]=_0x4281e6},2256:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e.AccountManager=void 0;const i=s(822),o=s(1068),a=s(7762);class _0x151eac extends i.Manager{constructor(){const t=n;super(...arguments),this[t(2009)]=!1,this[t(2380)]=[],this._accountsById=new Map,this[t(2360)]=this[t(2380)],this[t(2355)]=new(o[t(1990)]),this[t(1007)]=new o.DelegateP1}static get instance(){const t=n;return i.Manager[t(2922)](_0x151eac)}get[n(860)](){const t=n,e=this[t(2380)];return e[t(3171)]>0?e[0]:void 0}postConstruct(){this[n(2071)]()}[n(3459)](){this._isSavePending=!0}[n(1339)](){const t=n;this[t(2009)]&&0!==this[t(2380)].length&&(this._isSavePending=!1,this[t(2858)]())}loadAccounts(){const t=n;let e;try{if(localStorage){const s=localStorage[t(3870)](_0x151eac._localStoragePath);s&&(e=JSON[t(2725)](s))}}catch(s){e=null,console.error(t(4071),s)}if(e)for(const t in e){const s=e[t];this.loadAccount(t,s)}else{const e=_0x151eac[t(2639)](0);this[t(2518)](e,null)}}[n(2518)](t,e){const s=n;if(this[s(3580)][s(1374)](t))return console[s(4273)](s(1281)+t+s(3859)),this._accountsById[s(3155)](t);const i=this[s(2657)](t,this._accounts.length);return this[s(2380)].push(i),this[s(3580)].set(t,i),this[s(2355)][s(2356)](i),e?(i.load(e),console.log(s(2722)+t+'".',i)):console[s(2045)](s(427)+t+'".',i),i[s(1259)](),this[s(1007)].safeInvoke(i),i}createAccount(t,e){return new(a[n(2482)])(t,e)}saveAccounts(){const t=n,e={},s=this[t(2380)];for(const n of s){const s={};e[n.id]=s,n[t(1790)](s)}try{if(localStorage){const s=JSON[t(4196)](e);localStorage[t(429)](_0x151eac[t(728)],s)}}catch(e){console[t(4447)](t(3935),e)}this[t(2009)]=!1,this[t(3348)]()}static[n(2639)](t){return t[n(3690)]()}[n(1051)](t,e){const s=n;let i=this[s(3580)].get(t);return i||(e?(i=this[s(2518)](t,null),i):null)}[n(1995)](t,e){const s=n,i=_0x151eac[s(2639)](t);return this[s(1051)](i,e)}onAccountsSavedInternal(){}}e[n(488)]=_0x151eac,_0x151eac[n(728)]="accounts",_0x151eac[n(3311)](n(488))},4883:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,s(3500),{value:!0}),e.AccountModule=void 0,e[s(3615)]=class _0x4af33b{constructor(t){const e=s;this._modules=[],this[e(4053)]=!1,this.id=t}get[s(482)](){return this._account}set[s(482)](t){this.setAccount(t)}static[s(3048)](t){return null}[s(1259)](){const t=s;if(this[t(4053)])return;const e=this._modules,n=e.length;for(let t=0;t<n;t++)e[t].fireLoaded();this[t(4053)]=!0,this.onLoaded()}[s(2646)](t){const e=s;if(t===this._account)return;if(this[e(583)])return void console[e(4273)](e(3422)+this.id+".",this);this[e(583)]=t;try{this.onAccountSet()}catch(t){console.error(t)}const n=this[e(906)],i=n.length;for(let s=0;s<i;s++)n[s][e(482)]=t}[s(4252)](t){this[s(4399)]=t}[s(3731)](t){const e=s;this[e(906)][e(2614)](t)>=0||(this[e(906)].push(t),this[e(583)]&&(t[e(482)]=this[e(583)]),this[e(4053)]&&t[e(1259)]())}[s(4040)](){}[s(2869)](){}[s(2960)](t){const e=s,n=this[e(906)],i=n.length;for(let s=0;s<i;s++){const i=n[s],o=t[i.id]={};i[e(2960)](o)}try{this[e(1790)](t)}catch(t){console[e(4447)](t)}}loadInternal(t){const e=s;this[e(1833)](t);try{this[e(2105)](t)}catch(t){console[e(4447)](t)}}[s(1833)](t){const e=s;if(this[e(4399)])return void this.loadModulesDynamic(t,this[e(4399)]);const n=this[e(906)],i=n[e(3171)];for(let e=0;e<i;e++){const s=n[e],i=t[s.id];i&&this.loadModule(s,i)}}[s(4448)](t,e){t.loadInternal(e)}[s(2576)](t,e){const n=s;for(const s in t)if(t.hasOwnProperty(s))try{const i=t[s],o=e[n(3048)](i);if(!o){console[n(4273)](n(4459)+s+n(555)+this.id+'".',this);continue}this[n(4448)](o,t),this.addModule(o)}catch(t){console[n(4447)](n(1584)+this.id+'".',t,this)}}}},7762:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(2482)]=void 0;const i=s(2307),o=s(2256);e[n(2482)]=class _0x105d9a{constructor(t,e){const s=n;this[s(906)]=[],this[s(2720)]=!1,this.id=t,this[s(3850)]=e,this[s(3731)](this.settings=new(i[s(590)]))}static get[n(3867)](){const t=n;return o[t(488)][t(2216)][t(860)]}[n(3731)](t){const e=n;if(t[e(482)])return void console.error(e(3331)+t.id+e(1638)+this.id+e(2675),t,this);const s=this[e(906)];if(s[e(2614)](t)>=0)console[e(4273)](e(3331)+t.id+e(1249)+this.id+e(3840));else if(s[e(1757)](t),t[e(482)]=this,this[e(2720)])try{t[e(1259)]()}catch(t){console[e(4447)](t)}}[n(1790)](t){const e=n;try{const s=this[e(906)],n=s[e(3171)];for(let i=0;i<n;i++){const n=s[i],o=t[n.id]={};try{n[e(2960)](o)}catch(t){console[e(4447)]("Failed to save account module:",n,t)}}}catch(t){console[e(4447)](e(1792)+this.id+":",t)}}[n(2105)](t){const e=n;try{const s=this[e(906)];for(let n=0;n<s[e(3171)];n++){const i=s[n],o=t[i.id];if(o)try{i.loadInternal(o)}catch(t){console[e(4447)](e(3304),i,t)}}}catch(t){console[e(4447)](e(2323)+this.id+":",t)}}[n(1259)](){const t=n;if(!this._hasLoaded){this._hasLoaded=!0;try{const e=this[t(906)];for(let s=0;s<e.length;s++)e[s][t(1259)]()}catch(e){console[t(4447)]("Encountered an unexpected error whilst firing onLoaded on account "+this.id+":",e)}}}[n(2197)](t){const e=n,s=this[e(906)],i=s[e(3171)];for(let e=0;e<i;e++){const n=s[e];if(n instanceof t)return n}return null}}},2307:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e.SettingsModule=void 0;const i=s(4883),o=s(9054),a=s(1068);class _0x3ba782 extends i[n(3615)]{constructor(){const t=n;super(t(4385)),this._settings=new Map,this[t(1887)]=new(a[t(2140)]),this[t(3731)](this.audio=new(o[t(713)]))}[n(2936)](t,e){const s=n;let i;this[s(4407)][s(1374)](t)&&(i=this._settings.get(t))===e||(this[s(4407)].set(t,e),this[s(1887)][s(2356)](t,e,i))}get(t,e){return this[n(4407)].has(t)?this._settings.get(t):e}[n(1790)](t){const e=n;if(0===this[e(4407)].size)return;const s=t[e(2445)]={};for(const t of this._settings)s[t[0]]=t[1]}load(t){const e=n,s=t.dictionary;if(!s)return;const i=this[e(4407)];for(const t in s)i[e(2936)](t,s[t])}}e[n(590)]=_0x3ba782},12:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(3347)]=void 0;const i=s(2619),o=s(6943),a=s(4006);class _0x57861c extends a[n(1559)]{}e[n(3347)]=_0x57861c,_0x57861c[n(3311)]("SceneHandle",[new(o[n(3024)])("id",{title:"ID",type:o[n(4031)][n(1311)]}),new(o[n(3024)])(n(3773),{title:n(619),type:o[n(4031)][n(990)]}),new(o[n(3024)])(n(2403),{title:n(1836),enum:i.SceneType,default:i[n(2130)][n(2596)]})])},1456:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e.SceneChangeResult=e[n(3595)]=void 0;const i=s(1068),o=s(3338),a=s(5500),r=s(3346),c=s(1465);e.SceneLoadCommand=class _0x3dd3ca{constructor(t,e=a[n(3997)][n(2419)]){const s=n;this._autoActivateScene=!0,this.autoRetry=!0,this[s(2951)]=!1,this[s(3510)]=!1,this[s(486)]=!1,this.onLoadStarted=new i.DelegateP1,this[s(2205)]=new i.DelegateP2,this.onLoadError=new(i[s(2503)]),this[s(2284)]=new(i[s(1990)]),this.onPostActivation=new(i[s(2503)]),this[s(2076)]=t,this[s(2089)]=e,e===a[s(3997)][s(892)]&&(this[s(924)](!1),this[s(1632)]=!1)}get autoActivateScene(){return this[n(3253)]}set[n(2373)](t){this.setAutoActivateScene(t)}get[n(1879)](){return this._hasStarted}get isRunning(){return this._isRunning}get[n(2033)](){return!!this[n(913)]}[n(3088)](){const t=n;this[t(3510)]?console[t(4447)]("Can't start scene load command of scene \""+this[t(2076)][t(3773)]+t(329)):(this[t(3510)]=this[t(486)]=!0,this[t(399)](),this[t(1491)]())}stop(){const t=n;this[t(4438)](new _0x37a6ef(!1,t(4078),this[t(913)]))}[n(4438)](t){const e=n;this[e(486)]?(this[e(486)]=!1,this[e(2205)][e(2356)](this,t)):console.error(e(1207)+this.sceneHandle.name+'" because the command is not running.')}[n(1458)](t){const e=n;this[e(486)]&&(this[e(4438)](new _0x37a6ef(!1,t)),this.onLoadError[e(2356)](this,t))}loadSceneData(){const t=n;if(!this[t(486)])return;const e=o[t(1461)][t(4307)]()[t(3384)],s=e.find(this[t(2076)][t(3773)]);s?e[t(1491)](s[t(3153)],this[t(2041)][t(4467)](this)):this.stopLoadWithError(t(1115))}onLoadStartedInternal(){const t=n;this[t(2176)][t(2356)](this)}onSceneLoadCallback(t,e){const s=n;if(this._isRunning)if(t)if(console[s(4447)](s(1605)+this[s(2076)][s(3773)]+'":',t),this[s(1632)]){const t=new(r[s(2351)])(this[s(1097)]());r[s(2512)][s(2216)][s(4288)](t)}else this[s(1458)](t);else this[s(913)]=e,this[s(4438)](new _0x37a6ef(!0,null,e,null)),this._autoActivateScene&&this[s(3271)]();else console[s(4273)]('Scene "'+this[s(2076)].name+s(3777))}*retryLoadSceneData(){const t=n;console[t(2045)](t(2327)+this.sceneHandle[t(3773)]+'".'),yield new r.WaitInstruction(c[t(630)][t(2613)],3),this[t(486)]&&this.loadSceneData()}setAutoActivateScene(t){const e=n;t!==this[e(3253)]&&(t&&this[e(2089)]===a[e(3997)][e(892)]?console[e(4273)](e(1439)+this[e(2076)].name+e(1455)+a[e(3997)][a.SceneLoadMode.preload]+'".'):(this._autoActivateScene=t,t&&this[e(2033)]&&!this[e(2951)]&&this[e(3271)]()))}[n(3271)](){const t=n;this[t(2951)]?console[t(4447)](t(3860)+this[t(2076)][t(3773)]+'" because it has already been activated.'):this[t(913)]?(this._hasSceneActivationStarted=!0,this[t(2284)][t(2356)](this),o[t(1461)].getApplication()[t(3384)][t(248)](this[t(913)],this.onSceneActivationCallback[t(4467)](this))):console.error(t(3860)+this[t(2076)].name+t(938))}[n(2286)](t,e){const s=n;this.onPostActivation[s(2356)](this,e)}};class _0x37a6ef{constructor(t,e,s=null,i=null){const o=n;this.wasSuccessful=t,this[o(4447)]=e,this[o(1514)]=i,this.sceneItem=s}}e.SceneChangeResult=_0x37a6ef},5500:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,s(3500),{value:!0}),e[s(3997)]=void 0,function(t){const e=s;t[t[e(2419)]=0]=e(2419),t[t[e(3399)]=1]="additive",t[t[e(892)]=2]=e(892)}(e[s(3997)]||(e[s(3997)]={}))},1869:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(932)]=void 0;const i=s(855),o=s(3338),a=s(822),r=s(1402),c=s(12),h=s(1456),l=s(6020),d=s(5500),u=s(1068),p=s(5162),_=s(8597);class _0x46fa8b extends a[n(3656)]{constructor(){const t=n;super(...arguments),this._pendingCommands=new(l[t(386)]),this.onPreSceneLoad=new(u[t(1990)]),this._sceneHandles=[],this[t(742)]=new Map,this[t(3570)]=new Map}static get[n(2216)](){const t=n;return a[t(3656)][t(2922)](_0x46fa8b)}get[n(3089)](){return this[n(3906)]}get[n(2299)](){return this[n(3917)]}[n(890)](){const t=n;super.awake(),this.loadSceneHandles(),this[t(2438)]()}[n(481)](){const t=n,e=this[t(2995)];if(!e)return;const s=this[t(742)],i=this[t(3570)],o=e[t(3171)];for(let n=0;n<o;n++){const o=e[n],a=r[t(3604)][t(3590)](o,c[t(3347)]);a&&(this[t(3906)][t(1757)](a),s[t(1374)](a.id)?console[t(4273)](t(3704)+a.id):s[t(2936)](a.id,a),i[t(1374)](a[t(3773)])?console.warn(t(569)+a[t(3773)]):i[t(2936)](a.name,a))}}[n(2438)](){const t=n,e=this[t(2834)]();if(!e)return void console[t(4273)](t(978));const s=this[t(4474)][t(3384)].findByUrl(e);if(!s)return void console[t(4273)](t(2207)+e);const i=this[t(2859)](s[t(3773)]);i?this[t(3917)]=i:console[t(4273)](t(3741)+s.name+'" could be found.')}[n(2834)](){const t=n,e=s.g[t(1686)];if(e)return e.scene.uniqueId+t(3779);const i=this[t(4474)][t(3384)].list();return 0===i[t(3171)]?null:i[0].url}[n(2859)](t){const e=n;return Number.isInteger(t)?this[e(742)][e(3155)](t):this._sceneHandlesByName.get(t)}static[n(4168)](t){const e=n;if(!t)throw new Error("No scene handle provided.");return o.Application.getApplication()[e(3384)].find(t[e(3773)])}static[n(1316)](t,e){const s=n,i=this.getRoot(e),a=o[s(1461)].getApplication(),r=new(o[s(3040)])(t,a);return i.addChild(r),r}static createPersistentRoot(){const t=n;if(this[t(3721)])return this._persistentRoot;const e=o[t(1461)][t(4307)](),s=this[t(3721)]=new(o[t(3040)])("root-persistent",e);return e[t(693)][t(996)](s),s}static[n(3333)](t){const e=n;return t===_[e(957)][e(1409)]?this[e(3721)]||this[e(3800)]():o[e(1461)][e(4307)]().root}static changeLifeTime(t,e){const s=n;if(!t)throw new Error(s(4084));const i=this[s(3333)](e);t[s(3740)](i)}static[n(588)](){const t=n,e=this[t(3721)],s=this[t(3333)](_[t(957)][t(2135)]),i=[];p[t(1125)][t(4262)](i,s[t(712)]);const o=i.length;for(let s=0;s<o;s++){const n=i[s];n!==e&&n[t(3039)]()}}[n(1339)](){const t=n;if(this[t(2078)])return;const e=this[t(3159)];if(0===e[t(3171)])return;const s=this[t(2078)]=e[t(1112)]();this[t(2740)](s),this[t(885)](s)}[n(4125)](t){const e=n;if(!t)throw new Error(e(492));let s;if(t instanceof h[e(3595)])s=t;else{const n=this[e(2859)](t);if(!n)return void console.error(e(252)+t+'" because it could not be found.');s=new(h[e(3595)])(n)}if(!s[e(2076)])return void console[e(4447)](e(1701),s);if(!_0x46fa8b[e(4168)](s[e(2076)]))return void console[e(4447)](e(252)+s.sceneHandle[e(3773)]+e(3629));const i=this[e(3159)],o=i[e(3171)];for(let t=0;t<o;t++)if(s===i.get(t))return void console.error("Can't add scene load command because it has already been added.",s);return s[e(2205)].addListener(this[e(667)],this),s[e(2284)].addListener(this[e(735)],this),s[e(2920)][e(324)](this[e(273)],this),i[e(1951)](s),this[e(2146)](s),s}[n(659)](t){const e=n;if(!t)throw new Error(e(4027));const s=t.name,i=this[e(4474)][e(3384)][e(2075)](s);if(!i)return console[e(2045)](e(2556)+s+e(3629)),null;if(i[e(3529)])return null;const o=new(h[e(3595)])(t,d[e(3997)][e(892)]);return this.loadScene(o),o}[n(474)](){const t=n,e=new(h[t(3595)])(this._currentScene);return this[t(4125)](e),e}[n(885)](t){t.start()}[n(2146)](t){}onPreSceneLoadInternal(t){const e=n;this[e(3306)][e(2356)](t)}[n(667)](t,e){const s=n;if(console[s(3015)](t===this._currentCommand),this[s(2078)]=null,!e[s(1747)]){const n=t.sceneHandle,i=n&&n[s(3773)]?n[s(3773)]:s(859);console[s(4447)](s(1605)+i+'":',e[s(4447)])}}[n(735)](t){const e=n;t.loadMode===d[e(3997)][e(2419)]&&_0x46fa8b[e(588)]()}[n(273)](t,e){const s=n;t.loadMode===d[s(3997)][s(2419)]&&(this[s(3917)]=t[s(2076)]),console[s(2045)]('Activated scene "'+t.sceneHandle[s(3773)]+'".')}}e.SceneManager=_0x46fa8b,_0x46fa8b[n(3311)](n(932),[new(i[n(3024)])(n(2995),{title:n(3584),type:i[n(4031)][n(3330)],isArray:!0})])},2619:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,s(3500),{value:!0}),e.SceneType=void 0,function(t){const e=s;t[t[e(2596)]=0]=e(2596),t[t.level=1]=e(2669)}(e[s(2130)]||(e[s(2130)]={}))},1065:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,"__esModule",{value:!0}),e.ScriptEventType=void 0,function(t){const e=s;t[e(3039)]=e(3039),t[e(3753)]=e(3753),t[e(1700)]=e(1700),t[e(1586)]=e(1586),t[e(4447)]=e(4447),t.attributeChange=e(4175)}(e.ScriptEventType||(e.ScriptEventType={}))},855:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e[n(3184)]=e[n(4031)]=e.AssetType=e[n(3024)]=e[n(1559)]=e[n(3691)]=void 0;const i=s(6849);Object[n(3104)](e,n(3691),{enumerable:!0,get:function(){return i[n(3691)]}});const o=s(6943);Object[n(3104)](e,n(2543),{enumerable:!0,get:function(){return o[n(2543)]}}),Object[n(3104)](e,n(3024),{enumerable:!0,get:function(){return o[n(3024)]}}),Object[n(3104)](e,n(4031),{enumerable:!0,get:function(){return o[n(4031)]}});const a=s(4006);Object.defineProperty(e,n(1559),{enumerable:!0,get:function(){return a[n(1559)]}});const r=s(8463);Object[n(3104)](e,n(3184),{enumerable:!0,get:function(){return r.SerializableStruct}})},808:(t,e)=>{const s=a0_0x520a;Object.defineProperty(e,s(3500),{value:!0}),e.Space=void 0,function(t){const e=s;t[t[e(4026)]=1]="global",t[t[e(719)]=2]=e(719)}(e[s(3845)]||(e[s(3845)]={}))},1465:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e[n(2437)]=e[n(289)]=e[n(1317)]=e[n(630)]=void 0;const i=s(3338),o=s(3338);var a;!function(t){const e=n;t[t[e(2497)]=0]=e(2497),t[t[e(979)]=1]="unscaled",t[t.realTime=2]=e(2613),t[t[e(2731)]=3]=e(2731)}(a=e.TimeSpace||(e.TimeSpace={})),e[n(1317)]=[a[n(2497)],a[n(979)],a[n(2613)],a[n(2731)]];class _0x2471ac extends i[n(2664)]{static get time(){return this[n(2250)][a.scaled]}static get[n(2128)](){const t=n;return this[t(2250)][a[t(979)]]}static get[n(2613)](){return this._times[a.realTime]}static get[n(4300)](){const t=n;return this[t(1681)][a[t(2497)]]}static get[n(2745)](){const t=n;return this[t(1681)][a[t(979)]]}static get[n(2750)](){const t=n;return this[t(1681)][a[t(2613)]]}static get[n(1970)](){return _0x2471ac[n(308)]}[n(3311)](){const t=n;_0x2471ac[t(1920)]=_0x2471ac[t(2177)]=Date[t(2448)]();const s=_0x2471ac[t(2250)],i=_0x2471ac._deltaTimes,o=e.TimeSpaces[t(3171)];for(let n=0;n<o;n++){const o=e[t(1317)][n];s[o]=0,i[o]=0}}static updateInternal(t){const e=n;this[e(308)]++;const s=this[e(2250)],o=this[e(1681)],r=i[e(1461)][e(4307)](),c=o[a.unscaled]=i[e(2930)].clamp(t/1e3,0,r.maxDeltaTime);s[a[e(979)]]+=c;const h=o[a[e(2497)]]=c*r[e(3837)];s[a[e(2497)]]+=h;const l=Date[e(2448)](),d=o[a[e(2613)]]=(l-this[e(2177)])/1e3;s[a[e(2613)]]+=d,this[e(2177)]=l}static[n(751)](t){return this[n(2250)][t]}static[n(3140)](t){return this[n(1681)][t]}static[n(1138)](t,e,s){this[n(2250)][t]=e,this._deltaTimes[t]=s}}e[n(289)]=_0x2471ac,_0x2471ac[n(2250)]=Array(e[n(1317)][n(3171)]),_0x2471ac[n(3648)]=_0x2471ac[n(2250)],_0x2471ac._deltaTimes=Array(e[n(1317)][n(3171)]),_0x2471ac[n(3948)]=_0x2471ac[n(1681)],_0x2471ac[n(1920)]=0,_0x2471ac[n(2177)]=0,_0x2471ac._frameCount=0;class _0x2421c5{constructor(t){const e=n;this[e(1829)]=0,this[e(2985)]=0,this[e(2538)]=0,this[e(565)]=0,this.seconds=0,this[e(1212)]=0,t&&this.setTime(t)}get totalHours(){return this[n(1829)]/_0x2421c5.secondsPerHour}get[n(3526)](){const t=n;return this[t(1829)]/_0x2421c5[t(3963)]}get[n(1704)](){return this[n(1829)]}[n(3971)](t,e=0){const s=n;return Math[s(961)](t[s(1829)]-this[s(1829)])<=e}[n(4328)](t){const e=n;this[e(1829)]=t.time,this.days=t[e(2985)],this[e(2538)]=t[e(2538)],this[e(565)]=t.minutes,this[e(3781)]=t[e(3781)],this[e(1212)]=t[e(1212)]}setTime(t){const e=n;this[e(1829)]=t;let s=t;this[e(2985)]=Math.floor(s/_0x2421c5.secondsPerDay),s%=_0x2421c5[e(829)],this.hours=Math.floor(s/_0x2421c5[e(1924)]),s%=_0x2421c5[e(1924)],this[e(565)]=Math[e(2328)](s/_0x2421c5[e(3963)]),s%=_0x2421c5[e(3963)],this[e(3781)]=Math[e(2328)](s),s%=1,this[e(1212)]=Math[e(1599)](1e3*s)}}e[n(2437)]=_0x2421c5,_0x2421c5.secondsPerDay=86400,_0x2421c5[n(1924)]=3600,_0x2421c5[n(3963)]=60,o.registerScript(_0x2471ac,n(289))},196:(t,e)=>{const s=a0_0x520a;Object.defineProperty(e,s(3500),{value:!0}),e[s(2899)]=void 0,(e[s(2899)]||(e.ButtonEventType={}))[s(280)]="click"},4356:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e.AnimationCurvePreset=void 0;const i=s(855);class _0x15b045 extends i.Script{}e[n(1612)]=_0x15b045,_0x15b045[n(3311)](n(1612),[new(i[n(3024)])(n(4138),{type:i[n(4031)][n(4138)],default:{keys:[0,0,1,1]}})])},3908:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(2568)]=void 0;const i=s(855),o=s(7634);class _0x3775d7 extends i.Behavior{constructor(){super(...arguments),this._linksByFromParameter=new Map}[n(3488)](){const t=n;if(!this[t(856)])return void console[t(4447)](_0x3775d7[t(3773)]+t(2736),this);if(!this[t(1592)]&&!(this[t(1592)]=this[t(3590)](o[t(2830)])))return void console[t(4447)](_0x3775d7[t(3773)]+t(4293),this);const e=this[t(4359)],s=this[t(4384)],i=s[t(3171)];for(let n=0;n<i;n++){const i=s[n],o=i[t(1042)];o?i[t(4330)]?e[t(2936)](o,i):console.warn(_0x3775d7[t(3773)]+t(2699)+n+".",this):console.warn(_0x3775d7[t(3773)]+t(788)+n+".",this)}}[n(2235)](){this[n(3493)]()}[n(1339)](){this[n(3918)]()}[n(3493)](){const t=n,e=this[t(856)],s=this[t(1592)],i=this[t(4384)],o=i[t(3171)];for(let n=0;n<o;n++){const o=i[n],a=o[t(1042)];a?e[t(3129)](a)||console[t(4273)](t(2608)+n+t(1794)+a+'".',this):console.warn(t(2608)+n+" doesn't have a from-parameter.");const r=o[t(4330)];r?s[t(3129)](r)||console[t(4273)](t(2608)+n+t(656)+a+'".',this):console.warn(t(2608)+n+t(773))}}[n(3918)](){const t=n,e=this[t(856)][t(3606)],s=e[t(3171)];for(let n=0;n<s;n++){const s=e[t(3155)](n);this[t(1026)](s)}}[n(1026)](t){const e=n,s=this[e(4359)][e(3155)](t[e(3773)]);s?this._toAnimator[e(2451)](s[e(4330)],t[e(4158)]):console[e(4273)](_0x3775d7[e(3773)]+' could not find a link for from-parameter "'+t.name+e(655),this)}}e[n(2568)]=_0x3775d7;class _0x348424 extends i.SerializableStruct{get fromParameter(){return this[n(646)]}get[n(4330)](){return this[n(1900)]}}_0x348424.addAttributes([new i.Attribute("_fromParameter",{title:n(3969),type:i[n(4031)][n(990)]}),new i.Attribute(n(1900),{title:n(1166),type:i[n(4031)][n(990)]})]),_0x3775d7[n(3311)](n(2568),[new(i[n(3024)])("_fromAnimator",{title:n(1371),scriptType:o.SimpleAnimator}),new(i[n(3024)])(n(1592),{title:n(3965),scriptType:o[n(2830)]}),new i.Attribute(n(4384),{title:n(293),customType:_0x348424,isArray:!0})])},4725:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e.SimpleAnimatorElementTarget=e[n(4121)]=void 0;const i=s(855),o=s(3338),a=s(6244),r=s(7634);class _0x12c8aa extends r.SimpleAnimatorTarget{[n(2050)](t,e){const s=n,i=this[s(3236)](t.fromState),o=this.getPose(t.toState);this[s(3875)](t,e,i,o)}[n(3875)](t,e,s,i){const o=n,a=this[o(2954)],r=this.entityMask;if(r[o(4199)]){const t=i[o(3471)];t!==a[o(3471)]&&(a.enabled=t)}if(r[o(639)]){const t=a[o(1949)]();t.lerp(s[o(1949)](),i[o(1949)](),e),a.setLocalPosition(t)}if(r[o(479)]){const t=a[o(414)]();t[o(3081)](s.getLocalRotation(),i[o(414)](),e),a[o(262)](t)}if(r[o(3851)]){const t=a[o(234)]();t.lerp(s[o(234)](),i[o(234)](),e),a.setLocalScale(t)}}}e.SimpleAnimatorEntityTarget=_0x12c8aa;class _0x2ef082 extends i.SerializableStruct{}_0x2ef082[n(394)]([new(i[n(3024)])("enabledState",{type:i[n(4031)][n(3836)],default:!1}),new(i[n(3024)])(n(639),{type:i[n(4031)][n(3836)],default:!0}),new(i[n(3024)])(n(479),{type:i[n(4031)].boolean,default:!0}),new(i[n(3024)])(n(3851),{type:i[n(4031)][n(3836)],default:!0})]),_0x12c8aa[n(3311)](n(4121),[new(i[n(3024)])(n(1780),{title:n(1660),customType:_0x2ef082})]);class _0x3ae35a extends _0x12c8aa{constructor(){const t=n;super(...arguments),this[t(3697)]=new(o[t(2139)])}[n(3488)](){const t=n;super[t(3488)](),(this[t(2523)]=this.entity[t(2209)])||(console[t(4273)](_0x3ae35a.name+" doesn't have an element.",this),this[t(3471)]=!1)}[n(3875)](t,e,s,i){const r=n;super[r(3875)](t,e,s,i);const c=a[r(2395)][r(3155)](),h=this[r(2523)],l=s[r(2209)];if(!l)return;const d=i[r(2209)];if(!d)return;const u=this[r(2385)];if(u[r(878)]){const t=h[r(878)];t[r(372)](l[r(878)],d[r(878)],e),h[r(878)]=t}if(u[r(1335)]){const t=h.pivot;t.lerp(l[r(1335)],d[r(1335)],e),h.pivot=t}if(u[r(430)]){const t=h[r(430)];t[r(372)](l.margin,d.margin,e),h[r(430)]=t}u[r(2773)].x&&(h[r(1617)]=o.math.lerp(l[r(1617)],d[r(1617)],e)),u[r(2773)].y&&(h.height=o[r(2930)][r(372)](l[r(1901)],d[r(1901)],e)),u[r(1022)]&&(this[r(3697)][r(372)](l[r(1022)],d[r(1022)],e),h[r(1022)]=this[r(3697)]),u[r(1363)]&&(h.opacity=o[r(2930)][r(372)](l[r(1363)],d[r(1363)],e)),c[r(1081)]()}}e[n(2046)]=_0x3ae35a;class _0x183db2 extends i[n(3184)]{}_0x183db2[n(394)]([new i.Attribute(n(878),{type:i[n(4031)][n(3836)],default:!0}),new(i[n(3024)])("pivot",{type:i[n(4031)][n(3836)],default:!0}),new(i[n(3024)])(n(430),{type:i[n(4031)].boolean,default:!0}),new(i[n(3024)])("size",{type:i.AttributeType[n(4174)],default:new(o[n(1772)])(1,1)}),new(i[n(3024)])("color",{type:i[n(4031)][n(3836)],default:!0}),new(i[n(3024)])(n(1363),{type:i[n(4031)][n(3836)],default:!0})]),_0x3ae35a[n(3311)](n(2046),[new i.Attribute(n(2385),{title:n(1141),customType:_0x183db2})])},7634:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(251)]=e[n(1916)]=e[n(2870)]=e.SimpleAnimatorState=e[n(2830)]=void 0;const i=s(855),o=s(3338),a=s(1813),r=s(1068),c=s(7956),h=s(3129),l=s(4356);class _0x508432 extends i[n(1559)]{constructor(){const t=n;super(...arguments),this[t(3588)]=new Set,this[t(1155)]=new Map,this[t(2810)]=0,this[t(2077)]=new r.DelegateP1,this[t(3216)]=new(r[t(1990)]),this.onParameterValueChanged=new(r[t(1990)])}get isTransitioning(){return!!this._currentTransition}get[n(3606)](){return this._exposedParameters}construct(){const t=n;this._exposedParameters=new(h[t(3976)])(this[t(4157)]),this.cachePrerequisites()||(this[t(3471)]=!1),this.on("attr:_parameters",(()=>this[t(2787)]()))}[n(2235)](){const t=n;this[t(281)](),!this[t(1966)]&&(this._states[t(3171)]>0?this._defaultState=this[t(4236)][0]:this[t(2457)](t(2689))),this[t(1966)]&&this[t(1625)](this._defaultState)}cachePrerequisites(){const t=n,e=this[t(3588)];e[t(4326)]();const s=this[t(4236)],i=s[t(3171)];for(let n=0;n<i;n++){const i=s[n];if(!i)return this[t(2457)](t(1421)+n+" has no state script."),!1;e.add(i)}const o=this[t(4157)],a=this[t(1155)];a[t(4326)]();const r=o.length;for(let e=0;e<r;e++){const s=o[e],n=s[t(3757)];n[t(340)](this[t(1403)],this)||n.addListener(this[t(1403)],this);const i=s.name;i?a[t(2936)](i,s):this[t(3932)](t(2086)+e+t(472))}const c=this._targets;for(let e=0;e<c[t(3171)];e++)c[e]||(this[t(3932)](t(2890)),c[t(650)](e--,1));return!0}[n(281)](){const t=n,e=this._parametersByName,s=this[t(4403)],i=s.length;for(let n=0;n<i;n++){const i=s[n],o=i[t(1823)];if(!o){this.logWarning(t(4312)+n+" has an invalid from-state.");continue}if(!i.toState){this[t(3932)](t(4312)+n+t(1634));continue}const a=i[t(3979)],r=a[t(3171)];for(let s=0;s<r;s++){const i=a[s];i[t(4311)]?e[t(3155)](i.parameterName)||this[t(3932)](t(4312)+n+" contains a condition at index "+s+t(2515)+i[t(4311)]+'"'):this[t(3932)](t(4312)+n+t(3098)+s+t(4256))}o[t(731)](i)}const a=new(o[t(3040)])(t(800),this.app);this[t(1267)]=c[t(1904)][t(3211)](a,_0x4d80e9)}[n(1339)](t){const e=n;this[e(2218)]&&(this.updateTransitionStarting(),this[e(3450)](t))}[n(3701)](){const t=n;if(this.isTransitioning)return;const e=this[t(1155)],s=this._currentState[t(2367)],i=s[t(3171)];for(let n=0;n<i;n++){const i=s[t(3155)](n),o=i[t(3979)],a=o[t(3171)];if(0===a)return void this[t(3842)](i);let r=!0;for(let s=0;s<a;s++){const n=o[s],i=e[t(3155)](n[t(4311)]);if(!i){r=!1;break}if(i.value!==n[t(2752)]){r=!1;break}}if(r)return void this[t(3842)](i)}}[n(3450)](t){const e=n;if(!this[e(2313)])return;this[e(2810)]+=t;const s=Math.max(this[e(1035)][e(3505)],0),i=a[e(3866)].clamp01(this._elapsedTransitionTime/s);this.setAnimationProgress(i)}[n(2589)](t){return this[n(3588)].has(t)}setAnimationProgress(t){const e=n;var s;const i=this._currentTransition,o=((null===(s=i[e(3179)])||void 0===s?void 0:s[e(4138)])||i[e(4138)])[e(4158)](t);this[e(2050)](o),t>=1&&this[e(1391)]()}[n(2050)](t){const e=n,s=this[e(1035)],i=this[e(4380)],o=i[e(3171)];for(let n=0;n<o;n++){const o=i[n];try{o[e(2050)](s,t)}catch(t){console[e(4447)](t)}}}hasParameter(t){const e=n;return this[e(1155)][e(1374)](t)}setParameterValue(t,e){const s=n,i=this[s(1155)][s(3155)](t);i?i[s(4158)]=e:this[s(3932)](s(759)+t+s(1174))}[n(3135)](t){const e=n;var s;return null===(s=this[e(1155)].get(t))||void 0===s?void 0:s[e(4158)]}[n(1094)](t){const e=n;return _0x508432[e(3773)]+' "'+this[e(2954)][e(3773)]+e(2566)+t}[n(2457)](t){const e=n;console[e(4447)](this[e(1094)](t),this)}logWarning(t){const e=n;console.warn(this[e(1094)](t),this)}[n(1625)](t){const e=n;if(!t)throw new Error(e(4354));if(!this._hashedStates[e(1374)](t))return void this.logError(e(1075)+t[e(2954)][e(3773)]+e(2468));let s;const i=this._currentState;if(i){const n=i[e(4278)](t);if(!n)return void this[e(3932)](e(3747)+i[e(2954)][e(3773)]+e(2070)+t[e(2954)][e(3773)]+e(3319));s=n}else s=this[e(1267)],s[e(1876)](t,t,0);this[e(3842)](s)}[n(3842)](t){const e=n;if(this[e(2313)])return void this[e(2457)]("can't perform animation state transition because another transition is already in progress.");const s=!this[e(2218)];this[e(1035)]=t,this[e(2810)]=0,this[e(553)](t),s&&this[e(3448)](1)}stopTransition(){const t=n;if(!this.isTransitioning)return;const e=this[t(1035)];this[t(2218)]=e[t(410)],this._currentTransition=null,this[t(2810)]=0,this[t(2559)](e)}[n(1403)](t){const e=n;this.onParameterValueChanged[e(2356)](t)}[n(553)](t){this[n(2077)].safeInvoke(t)}[n(2559)](t){const e=n;this[e(3216)][e(2356)](t)}}e[n(2830)]=_0x508432;class _0xec4a67 extends i[n(3691)]{constructor(){const t=n;super(...arguments),this[t(1580)]=new Map,this._transitions=[],this[t(2367)]=new h.ReadOnlyArray(this[t(4403)])}addTransition(t){const e=n;t[e(1823)]===this?(this[e(4403)][e(1757)](t),this[e(1580)][e(2936)](t[e(410)],t)):console.error("Can't add transition: from-state mismatch.")}[n(4278)](t){const e=n;return this[e(1580)][e(3155)](t)}}e[n(409)]=_0xec4a67;class _0x26ee7d extends i.SerializableStruct{get[n(1586)](){return this[n(1567)]}get entity(){return this[n(3983)]}}class _0x46c862 extends i[n(1559)]{constructor(){const t=n;super(...arguments),this[t(1493)]=new Map}construct(){const t=n,e=this._posesHashed,s=this[t(1927)],i=s.length;for(let n=0;n<i;n++){const i=s[n],o=i[t(1586)];if(!o){console.warn('Animator target "'+this[t(2954)][t(3773)]+'" has a pose without state (index '+n+").");continue}const a=i.entity;a?e[t(2936)](o,a):console[t(4273)](t(1016)+this[t(2954)][t(3773)]+t(4154)+n+").")}}[n(3236)](t){const e=n;return this[e(1493)][e(3155)](t)||t[e(2954)]}setAnimationFrame(t,e){}}e[n(2870)]=_0x46c862;class _0x8bc524 extends i[n(3184)]{get[n(4311)](){return this._parameterName}get parameterValue(){return this[n(2846)]}}class _0x4d80e9 extends i[n(3691)]{get[n(1823)](){return this[n(2856)]}get toState(){return this[n(3128)]}get[n(3505)](){return this[n(1416)]}get[n(4138)](){return this[n(1460)]}get[n(3179)](){return this[n(676)]}get[n(3979)](){return this[n(404)]}configure(t,e,s){const i=n;this[i(2856)]=t,this[i(3128)]=e,this[i(1416)]=s}}e.SimpleAnimatorStateTransition=_0x4d80e9;class _0x53301a extends i[n(3184)]{constructor(){const t=n;super(...arguments),this[t(3757)]=new(r[t(1990)])}get[n(3773)](){return this[n(881)]}get[n(4158)](){return this._value}set[n(4158)](t){const e=n;t!==this[e(503)]&&(this[e(503)]=t,this.onValueChanged[e(2356)](this))}}e[n(251)]=_0x53301a,_0xec4a67[n(3311)](n(409)),_0x26ee7d[n(394)]([new(i[n(3024)])("_state",{title:n(4433),scriptType:_0xec4a67}),new(i[n(3024)])(n(3983),{title:"Entity",type:i[n(4031)][n(2954)]})]),_0x46c862[n(3311)](n(2870),[new(i[n(3024)])(n(1927),{title:"Poses",customType:_0x26ee7d,isArray:!0})]),_0x8bc524[n(394)]([new(i[n(3024)])(n(1356),{title:n(420),type:i[n(4031)][n(990)]}),new(i[n(3024)])(n(2846),{title:"Parameter Value",type:i[n(4031)][n(3836)]})]),_0x4d80e9[n(3311)](n(1916),[new i.Attribute(n(2856),{title:n(1378),scriptType:_0xec4a67}),new(i[n(3024)])(n(3128),{title:n(3406),scriptType:_0xec4a67}),new(i[n(3024)])(n(1416),{title:n(3826),type:i.AttributeType[n(1311)]}),new i.Attribute(n(1460),{title:"Curve",type:i[n(4031)].curve,default:{keys:[0,0,1,1]}}),new(i[n(3024)])("_curvePreset",{title:n(2338),type:i[n(4031)].asset,scriptType:l[n(1612)]}),new i.Attribute(n(404),{title:n(2550),customType:_0x8bc524,isArray:!0})]),_0x53301a.addAttributes([new i.Attribute("_name",{title:n(619),type:i[n(4031)][n(990)]}),new(i[n(3024)])(n(503),{title:n(4041),type:i.AttributeType[n(3836)]})]),_0x508432[n(3311)](n(2830),[new i.Attribute(n(4380),{title:"Targets",scriptType:_0x46c862,isArray:!0}),new(i[n(3024)])("_states",{title:n(1065),isArray:!0,scriptType:_0xec4a67}),new(i[n(3024)])(n(1966),{title:n(3621),scriptType:_0xec4a67}),new(i[n(3024)])(n(4403),{title:"Transitions",scriptType:_0x4d80e9,isArray:!0}),new(i[n(3024)])("_parameters",{title:"Parameters",customType:_0x53301a,isArray:!0})])},4285:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e[n(419)]=void 0;const i=s(1594),o=s(3338),a=s(6943),r=s(7956),c=s(855),h=s(6777),l=s(196),d=s(872),u=s(8597),p=s(1068),_=s(7740),m=s(47);class _0x15ad0b extends i.Menu{constructor(){const t=n;super(...arguments),this._buttons=[],this[t(3563)]=!1,this._canBeDismissed=!1,this[t(3524)]=!1,this.onDismissed=new(p[t(299)])}construct(){const t=n;super[t(3488)]();const e=this[t(2198)],s=e.dismissElement;null==s||s.on(l.ButtonEventType[t(280)],this[t(3762)][t(4467)](this));const i=e[t(4129)];i?i[t(2954)].enabled=!1:console[t(4273)](t(3181),this);const o=m[t(1711)].instance[t(338)].continue;o&&this[t(1474)](o[t(3562)][t(1587)],_.InputEventType[t(1392)],this[t(839)],this)}postConstruct(){const t=n;super[t(2235)](),0===this[t(4222)][t(3171)]&&(this[t(3563)]=!0,this[t(3591)]("OK",(()=>this[t(1302)]())))}static show(t){const e=n;let s=t.menuStackLifeTime;Number[e(4388)](s)||(s=u[e(957)][e(2135)]);const i=d[e(525)][e(2047)](s);if(!i)return void console[e(4447)](e(570)+s);const o=i.activateMenuByType(_0x15ad0b);return o[e(1876)](t),o}[n(1876)](t){const e=n;(this[e(3820)]=t[e(2585)])&&t.dismissCallback&&this.onDismissed[e(324)](t[e(2504)]);const s=this[e(2198)],i=t.title,o=s[e(2885)];o&&(o.enabled=!!i);const a=s.titleText;a&&i&&(a[e(3678)]=i);const r=t[e(3548)],c=s[e(1025)];c?c[e(3678)]=r||"":console[e(4273)](e(449),this);const h=t.buttons;if(h&&h[e(3171)]>0){this[e(4177)]();for(let t=0;t<h[e(3171)];t++){const s=h[t];this[e(3591)](s.label,s[e(3213)])}}}[n(3591)](t,e,s){const i=n,o=this[i(2198)][i(4129)];if(!o)return void console[i(4447)](i(2282),this);this[i(3563)]&&(this.removeButtons(),this[i(3563)]=!1);const a=o[i(2954)],c=a[i(2792)]();a[i(729)][i(996)](c),c[i(3471)]=!0;const l=r[i(1904)][i(3590)](c,h.UiButton);l[i(4458)].addListener((()=>this[i(4159)](e)));const d=l[i(1676)];d&&(d.text=t),(s||0===this[i(4222)][i(3171)])&&(this._defaultChoiceButton=l),this[i(4222)][i(1757)](l)}removeButtons(){const t=n,e=this[t(4222)];for(let s=0;s<e[t(3171)];s++)e[s].entity[t(3039)]();e[t(650)](e[t(3171)]),this[t(3563)]=!1,this[t(2860)]=void 0}[n(3388)](){const t=n;this[t(2019)]&&(this[t(3820)]||this[t(3524)])&&(super[t(3388)](),this[t(3524)]||this.onDismissedInternal())}[n(798)](t){const e=n;super[e(798)](t),t[e(317)][e(324)](this[e(3388)],this)}[n(1086)](t){const e=n;super[e(1086)](t),t[e(317)][e(3491)](this.close,this)}[n(3762)](){this[n(3388)]()}onButtonClicked(t){const e=n;if(!this[e(3524)]&&this[e(2019)]){this[e(3524)]=!0,this.close();try{null==t||t()}catch(t){console.error(t)}}}[n(839)](){const t=n,e=this[t(2860)];e&&e[t(280)]()}[n(1302)](){const t=n;this[t(1648)][t(2356)]()}}e[n(419)]=_0x15ad0b;class _0x5487ae extends c[n(3184)]{}_0x5487ae.addAttributes([new(a[n(3024)])(n(2885),{type:a[n(4031)].entity}),new(a[n(3024)])(n(2667),{componentType:o[n(1814)]}),new(a[n(3024)])("bodyText",{componentType:o.ElementComponent}),new(a[n(3024)])(n(4129),{scriptType:h.UiButton}),new(a[n(3024)])("dismissElement",{componentType:o[n(1814)],description:n(1762)})]),_0x15ad0b[n(3311)](n(419),[new a.Attribute("_components",{customType:_0x5487ae})])},4364:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e.ScreenScaler=void 0;const i=s(6849),o=s(3338),a=s(6943),r=s(8463),c=s(1042),h=s(1813),l=s(6244),d=s(1065);class _0xd43668 extends i[n(3691)]{constructor(){const t=n;super(...arguments),this._resolution=new o.Vec2,this[t(1175)]=new o.Vec2,this[t(1922)]=!0}get[n(3490)](){return this[n(894)]}[n(3311)](){const t=n;super[t(3311)](),c.Environment.isDevelopmentBuild&&this.on(d.ScriptEventType[t(1067)],this[t(733)],this)}[n(3517)](){const t=n;this[t(3167)](),this[t(1922)]&&this[t(4211)]()}[n(3167)](){const t=n;if(this[t(1922)])return;const e=this[t(4474)][t(1931)],s=this[t(1175)];s.x===e[t(1617)]&&s.y===e[t(1901)]||(this[t(1922)]=!0)}invalidate(){const t=n;this[t(1922)]=!1;const e=this[t(4474)].graphicsDevice,s=e.width,i=e[t(1901)],a=this._lastResolution;a.x=s,a.y=i;const r=this[t(2954)],c=r[t(3477)];if(c[t(1744)])return;const d=this[t(2407)],p=s/i,_=r[t(234)](),m=this[t(4226)],g=this[t(3811)];let f=0;switch(d[t(660)]){case u.keepAspectRatio:g[t(3172)](m),f=Math[t(1417)](_.x*g.x*(1/p),_.y*g.y);break;case u[t(1880)]:const e=d[t(2821)];g.x=o[t(2930)].lerp(m.x,m.y*p,e),g.y=o[t(2930)][t(372)](m.y,m.x*(1/p),1-e),f=_.y*g.y}const x=this[t(894)][t(3490)],y=.5*f;h[t(3866)][t(4274)](x[t(2439)],y)||(x[t(2439)]=y),l[t(2444)][t(4274)](c[t(1058)],m)||(c[t(1058)]=m),l[t(2444)].approximately(c.resolution,g)||(c.resolution=g)}[n(733)](){this[n(1922)]=!0}}var u;e[n(618)]=_0xd43668,function(t){const e=n;t[t[e(3943)]=0]=e(3943),t[t.matchWidthOrHeight=1]="matchWidthOrHeight"}(u||(u={}));class _0x176e8c extends r.SerializableStruct{}_0x176e8c.addAttributes([new(a[n(3024)])(n(660),{enum:u}),new(a[n(3024)])("axisMatchRatio",{type:a.AttributeType[n(1311)],default:1,min:0,max:1})]),_0xd43668.initialize(n(618),[new(a[n(3024)])("_camera",{type:a[n(4031)][n(2954)]}),new(a[n(3024)])(n(4226),{type:a[n(4031)].vec2,default:new(o[n(1772)])(1920,1080)}),new(a[n(3024)])("_aspectRatioSettings",{customType:_0x176e8c})])},6777:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(1943)]=void 0;const i=s(855),o=s(3338),a=s(1068),r=s(196);class _0x216bde extends i[n(1559)]{constructor(){const t=n;super(...arguments),this[t(4458)]=new(a[t(1990)])}get[n(2329)](){const t=n;return this[t(2954)][t(3589)]}[n(2235)](){const t=n;super[t(2235)](),this.buttonComponent.on(r[t(2899)][t(280)],this[t(374)][t(4467)](this))}[n(280)](){this[n(374)]()}[n(374)](){const t=n;this[t(4458)][t(2356)](this)}}e[n(1943)]=_0x216bde,_0x216bde[n(3311)](n(1943),[new i.Attribute(n(1676),{componentType:o[n(1814)]})])},9251:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(1285)]=void 0;const i=s(855),o=s(7634),a=s(196),r=s(3338),c=s(1068);class _0x5761fe extends i[n(1559)]{constructor(){const t=n;super(...arguments),this[t(4279)]=!1,this[t(4297)]=new(c[t(1990)])}get[n(309)](){return this[n(4279)]}set[n(309)](t){this[n(326)](t)}[n(3488)](){const t=n,e=this[t(3722)];e&&e.on(a.ButtonEventType[t(280)],this[t(4458)][t(4467)](this))}[n(2235)](){const t=n;this.invalidateUi(),this._animationSettings.animator||console.error(_0x5761fe.name+' "'+this[t(2954)][t(3773)]+t(519))}invalidateUi(){const t=n;if(!this.enabled)return;const e=this[t(3053)],s=e.animator;s&&s.setParameterValue(e[t(3359)],this[t(4279)])}[n(326)](t){const e=n;t!==this[e(4279)]&&(this[e(4279)]=t,this[e(3457)](),this.onToggled.safeInvoke(this))}[n(2636)](){this[n(3457)]()}onClicked(){const t=n;this[t(326)](!this[t(4279)])}}e[n(1285)]=_0x5761fe;class _0x248e97 extends i[n(3184)]{}_0x248e97[n(394)]([new(i[n(3024)])(n(1769),{title:n(808),scriptType:o[n(2830)]}),new i.Attribute(n(3359),{title:n(1483),type:i[n(4031)][n(990)]})]),_0x5761fe.initialize("UiSwitch",[new(i[n(3024)])("_button",{title:"Button",componentType:r[n(530)]}),new(i[n(3024)])(n(3053),{title:n(3819),customType:_0x248e97})])},4463:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(2054)]=void 0;const i=s(855),o=s(1594);class _0x4005a3 extends i[n(1559)]{[n(1098)](t){const e=n,s=this.menuTemplates,i=s[e(3171)];for(let e=0;e<i;e++){const n=s[e],i=n.constructor;if(t===i||t instanceof i)return n}return null}}e.MenuDatabase=_0x4005a3,_0x4005a3[n(3311)]("MenuDatabase",[new(i[n(3024)])(n(2800),{type:i[n(4031)][n(3330)],scriptType:o.Menu,isArray:!0})])},872:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(525)]=void 0;const i=s(9609),o=s(1068),a=s(1402),r=s(6926),c=s(7128),h=s(9083),l=s(9988),d=s(8414),u=s(4536),p=s(7740);let _;class _0x977f00 extends c.UiElement{constructor(){const t=n;super(...arguments),this[t(2348)]=new i.Stack,this[t(317)]=new(o[t(1990)]),this[t(1434)]=new o.DelegateP1,this[t(950)]=new o.DelegateP1,this.onCleared=new(o[t(299)])}get[n(2599)](){const t=n;return this[t(2348)][t(2280)]}get[n(3171)](){const t=n;return this[t(2348)][t(3206)]}static get[n(2168)](){return this[n(2939)]}get menuRoot(){return this._menuRoot}get lifeTime(){return this[n(2103)]}get activeMenu(){const t=n,e=this._menuStack;return e.count>0?e[t(3122)]():null}[n(3488)](){const t=n;this[t(240)]=this[t(2954)];const e=this[t(4045)]=new(l[t(2053)]);d[t(3581)].ui[t(324)](e);const s=new(u[t(4259)])(null,-1,this[t(726)],this);s[t(739)]=!1,e.addBinding(s)}deconstruct(){const t=n;this[t(4045)][t(1081)]();const e=_0x977f00[t(848)];e[this._lifeTime]===this&&(e[this._lifeTime]=null)}static getInstance(t){return this[n(848)][t]}[n(1876)](t){const e=n;this[e(2103)]=t;const s=_0x977f00._instances;s[t]&&console[e(4273)]("Overwriting menu stack instance for life time "+t+"."),s[t]=this}[n(3183)](t){const e=n;if(!t)throw new Error(e(2027));const s=_.UiManager[e(2216)][e(1342)][e(1098)](t);return s?this.activateMenuByTemplate(s):(console[e(4447)](e(4266)+t[e(3773)]+'": menu not found.'),null)}[n(919)](t){const e=n;if(!t)throw new Error(e(3829));const s=a[e(3604)][e(1804)](t,this[e(240)]);return this[e(3046)](s),s}[n(3046)](t){const e=n;if(!t)throw new Error(e(2361));if(a[e(3604)][e(2716)](t[e(2954)]))throw new Error(e(925));this.configureMenu(t),this[e(4057)](t);const s=this.activeMenu,i=this._menuStack;i.push(t),t[e(344)](this,i[e(3206)]-1),this.onMenuStackedInternal(t),s&&_0x977f00[e(831)](s,!1),_0x977f00.transitionMenu(t,!0)}deactivateMenu(t){const e=n,s=this._menuStack;if(0===s[e(3206)])return void console.warn(e(2421));let i;for(t||(t=s[e(3122)]());s.count>0;){i=this[e(688)],s.pop(),i[e(1611)](),this.onMenuUnstackedInternal(i),_0x977f00[e(831)](i,!1);const n=this[e(688)];if(n&&_0x977f00[e(831)](n,!0),0===s[e(3206)]&&this[e(3986)](),i===t)break}return i}[n(2400)](t){const e=n,s=t.entity;s[e(3471)]=!0;let i=s.element;s||(i=s[e(3189)](e(2209))),r[e(981)][e(3643)](i)}static[n(831)](t,e){const s=n,i=t[s(3590)](h.MenuTransitionHandler)||t[s(3211)](h[s(4287)]),o=new(h[s(3822)])(t,i,e);i[s(1266)](o)}static[n(3489)](){const t=n;let e=!1;const s=_0x977f00[t(848)],i=s.length;for(let n=0;n<i;n++){const i=s[n];if(i&&i[t(688)]){e=!0;break}}e!==this._areMenusActive&&(this[t(2939)]=e,this[t(3041)].safeInvoke(e))}clear(){const t=n,e=this[t(2348)];for(;e[t(3206)]>0;)if(!this[t(1736)]())return void console[t(4447)](t(3905),this)}[n(4057)](t){const e=n;this[e(317)][e(2356)](t)}onMenuStackedInternal(t){const e=n;this[e(1434)].safeInvoke(t),_0x977f00[e(3489)]()}onMenuUnstackedInternal(t){const e=n;this[e(950)][e(2356)](t),_0x977f00[e(3489)]()}[n(3986)](){const t=n;this[t(2180)][t(2356)]()}[n(726)](t){const e=n;if(t[e(2403)]!==p[e(3083)][e(1392)])return;const s=_[e(1711)][e(2216)][e(338)][e(3607)];if(s&&t[e(3794)][e(3971)](s)){const s=this[e(688)];s&&s.inputSettings[e(413)]&&s[e(1385)](t)}}}e[n(525)]=_0x977f00,_0x977f00[n(848)]=[null,null],_0x977f00[n(2939)]=!1,_0x977f00[n(3041)]=new(o[n(1990)]),_0x977f00[n(3311)]("MenuStack"),_=s(47)},9083:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(4287)]=e.MenuTransitionHandler=e[n(3822)]=void 0;const i=s(855),o=s(1068);e.MenuTransition=class _0x1a82ee{constructor(t,e,s){const i=n;this.menu=t,this[i(1625)]=e,this.isOpening=s}};class _0x11865e extends i[n(1559)]{constructor(){const t=n;super(...arguments),this[t(1607)]=!1,this.onTransitionStarted=new o.DelegateP1,this[t(3216)]=new(o[t(1990)])}get[n(1625)](){return this[n(4021)]}[n(1266)](t){const e=n;if(!this[e(1607)]){if(!t)throw new Error(e(401));this[e(1607)]=!0,this[e(4021)]=t,this[e(2077)][e(2356)](this);try{this[e(553)](this[e(4021)])}catch(t){console[e(4447)](t)}}}stopTransition(){const t=n;if(this[t(1607)]){this[t(1607)]=!1,this[t(3216)][t(2356)](this);try{this[t(2559)](this[t(4021)])}catch(e){console[t(4447)](e)}this[t(4021)]=null}}}e.MenuTransitionHandler=_0x11865e;class _0x19418e extends _0x11865e{[n(553)](t){const e=n;t[e(421)][e(2954)][e(3471)]=!0,this.stopTransition()}onTransitionStoppedInternal(t){const e=n,s=t.menu;s[e(2954)][e(3471)]=t[e(771)],t[e(771)]||s[e(2019)]||s.destroyEntity()}}e[n(4287)]=_0x19418e,_0x19418e[n(3311)](n(4287))},1594:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e.Menu=void 0;const i=s(855),o=s(8414),a=s(6199),r=s(1068);class _0x46e737 extends i[n(3184)]{}_0x46e737[n(394)]([new i.Attribute(n(413),{type:i.AttributeType[n(3836)],default:!0})]);class _0x531cc5 extends i[n(1559)]{constructor(){const t=n;super(...arguments),this._indexInStack=-1,this[t(791)]=new(r[t(1990)])}get[n(3099)](){return this[n(2348)]}get[n(2019)](){return!!this._menuStack}get[n(407)](){return this[n(3215)](-1)}get[n(1846)](){return this[n(3215)](1)}get[n(4152)](){return this[n(4127)]}construct(){this[n(936)]=new a.InputListenerContainer(o.InputLayers.ui)}[n(610)](){this[n(2728)]()}[n(344)](t,e){const s=n;this.isStacked||(this[s(2348)]=t,this[s(2855)]=e,this[s(798)](t))}[n(1611)](){const t=n;if(!this.isStacked)return;const e=this._menuStack;this[t(2348)]=null,this[t(2855)]=-1,this[t(1086)](e),this[t(791)].safeInvoke(this)}[n(3215)](t){const e=n,s=this[e(2348)];if(!s)return null;const i=this[e(2855)]+t,o=s.menus;return i<0||i>o.length-1?null:o[i]}close(){const t=n,e=this[t(2348)];e&&e[t(1736)](this)}bindInput(t,e,s,i,o){const a=n,r=this._inputListenerContainer[a(2627)](o).bindAction(t,e,(t=>this.onInputEvent(t,s,i)),i);return r[a(739)]=!1,r}removeInputBindings(){const t=n;this[t(936)][t(1081)]()}[n(1385)](t){this.onBackPressed(t)}[n(726)](t,e,s){const i=n;if(this[i(2954)].enabled){try{e[i(1142)](s,t)}catch(t){console[i(4447)](t)}t[i(405)]()}}[n(798)](t){}onUnstacked(t){}onBackPressed(t){const e=n;t.consume(),this[e(3388)]()}}e[n(361)]=_0x531cc5,_0x531cc5[n(3311)](n(361),[new(i[n(3024)])(n(4127),{customType:_0x46e737})])},1861:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(3620)]=void 0;const i=s(855),o=s(6195),a=s(1594),r=s(5206),c=s(872);class _0x49c94f extends i.Behavior{get[n(1993)](){return this[n(3421)]}get[n(1245)](){return this[n(463)]}get[n(4109)](){return this[n(2908)]}getMenuTemplate(t){const e=n,s=this._menuTemplates,i=s.length;for(let n=0;n<i;n++){const i=s[n],o=i[e(3414)];if(t===o||t instanceof o)return i}return null}}e[n(3620)]=_0x49c94f,_0x49c94f[n(3311)]("UiAssetDatabase",[new(i[n(3024)])(n(3421),{title:n(3084),type:i[n(4031)][n(3330)],scriptType:o.UiRoot}),new(i[n(3024)])(n(463),{title:n(1527),type:i[n(4031)][n(3330)],scriptType:r[n(3305)]}),new i.Attribute(n(2908),{title:n(1891),type:i.AttributeType[n(3330)],scriptType:c[n(525)]}),new i.Attribute("_menuTemplates",{title:n(3828),type:i[n(4031)].asset,scriptType:a[n(361)],isArray:!0})])},7128:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,"__esModule",{value:!0}),e.UiElement=void 0;const i=s(855);class _0x4c1362 extends i[n(1559)]{}e[n(371)]=_0x4c1362},47:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e.UiInputActions=e[n(1711)]=void 0;const i=s(822),o=s(855),a=s(1869),r=s(1402),c=s(1861),h=s(5206),l=s(8597),d=s(1068),u=s(1065);class _0x2341d8 extends i[n(3656)]{constructor(){const t=n;super(...arguments),this[t(2195)]=[null,null],this.uiRoots=this[t(2195)],this[t(338)]=new _0x2cd251,this[t(4068)]=new d.DelegateP1,this[t(1181)]=new(d[t(1990)])}static get instance(){const t=n;return i[t(3656)][t(2922)](_0x2341d8)}get[n(1342)](){return this[n(716)]}[n(3488)](){this[n(2997)]()}[n(2997)](){const t=n,e=this[t(2195)];e[l[t(957)][t(1409)]]||this[t(2808)](l[t(957)].persistent);const s=e[l.LifeTime[t(2135)]];s&&(console[t(4273)](t(587)),s[t(3695)]()),this[t(2808)](l[t(957)][t(2135)])}[n(2808)](t){const e=n,s=this[e(716)];if(!s||!s.uiRootTemplate)return void console[e(4447)](e(454));const i=a[e(932)][e(3333)](t),o=r[e(3604)][e(1804)](s.uiRootTemplate,i);return o[e(1876)](t),o.on(u[e(3321)].destroy,(()=>this[e(2055)](o))),this[e(2195)][t]=o,this[e(3623)](o),o}[n(3686)](t){return this._uiRoots[t]}[n(3978)](t){const e=n;super[e(3978)](t),this[e(2997)]()}[n(3623)](t){const e=n,s=this[e(716)];if(!s||!s[e(1245)])return void console[e(4447)]("Can't create window: no window template has been defined.");const i=t[e(4237)](s.windowTemplate,e(2529),h[e(4414)][e(1441)]),o=s[e(4109)];o?i.view.instantiateElement(o)[e(1876)](t[e(4205)]):console[e(4447)](e(4410)),this[e(4068)][e(2356)](t)}[n(2055)](t){const e=n,s=this[e(2195)];s[t[e(4205)]]===t&&(s[t.lifeTime]=null),this.onUiRootDestroyed[e(2356)](t)}}e[n(1711)]=_0x2341d8,_0x2341d8[n(3311)](n(1711),[new(o[n(3024)])("_assetDatabase",{title:n(3575),type:o.AttributeType[n(3330)],scriptType:c.UiAssetDatabase})]);class _0x2cd251{}e[n(4194)]=_0x2cd251},6195:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e.UiRoot=void 0;const i=s(855),o=s(3338),a=s(6926),r=s(1402),c=s(5162),h=s(1068);class _0x2a38a6 extends i[n(1559)]{constructor(){const t=n;super(...arguments),this[t(2063)]=[],this[t(1044)]=new Map,this.onWindowAdded=new(h[t(1990)]),this.onWindowRemoved=new h.DelegateP1}get inputEnabled(){return!this._inputBlocker.enabled}set[n(2084)](t){this[n(1030)](t)}get[n(1151)](){return this[n(2098)]}get[n(4205)](){return this[n(2103)]}[n(3488)](){const t=n;this[t(2947)](),this[t(1030)](!0)}createInputBlocker(){const t=n,e=this[t(2098)].parent,s=this._inputBlocker=new(o[t(3040)])(t(926),this[t(4474)]),i=s[t(3189)](t(2209));e[t(996)](s),i.anchor=new(o[t(2805)])(0,0,1,1),i[t(1335)]=new(o[t(1772)])(0,0),i.margin=new o.Vec4(0,0,0,0),i[t(1160)]=!0}setInputEnabled(t){const e=n;this[e(3679)][e(3471)]=!t}[n(1876)](t){this[n(2103)]=t}[n(4237)](t,e,s){const i=n;if(this.hasWindow(e))return console[i(4447)](i(3093)+e+i(3176)),null;const c=r[i(3604)][i(1804)](t,this._windowRoot||this[i(2954)]);return c[i(2954)][i(2209)]?a.UiUtils[i(3643)](c[i(2954)][i(2209)]):console.warn(i(3485)+o.ElementComponent[i(3773)]+"."),c[i(1876)](e,s,!1,this),c[i(791)].addListener(this[i(1319)],this),this[i(2063)][i(1757)](c),this[i(1044)].set(e,c),this[i(1227)].safeInvoke(c),c}[n(4378)](t){const e=n;return this[e(1044)][e(3155)](t)}[n(2641)](t){const e=n;return this._windowsById[e(1374)](t)}[n(1319)](t){const e=n;c[e(1125)][e(855)](this[e(2063)],t)&&(this[e(1044)][e(1049)](t.id),this[e(2658)][e(2356)](t))}}e[n(375)]=_0x2a38a6,_0x2a38a6[n(3311)](n(375),[new(i[n(3024)])(n(2098),{title:n(1696),type:i[n(4031)][n(2954)]})])},6926:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,"__esModule",{value:!0}),e.UiUtils=void 0,e[s(981)]=class _0x2852a3{static elementFillLayout(t){const e=s,n=t[e(878)];n.x=n.y=0,n.z=n.w=1,t[e(878)]=n;const i=t[e(430)];i.x=i.y=i.z=i.w=0,t.margin=i}}},4416:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e.View=void 0;const i=s(855),o=s(1402),a=s(3338),r=s(1068);class _0x40b6c6 extends i[n(1559)]{constructor(){const t=n;super(...arguments),this[t(1255)]=!1,this[t(3818)]=!1,this[t(791)]=new(r[t(1990)])}get[n(2802)](){return this[n(2927)]}[n(610)](){const t=n;this._isDestroyed=!0,this[t(1255)]||this[t(3388)]()}instantiateElement(t){const e=n;if(!this[e(2927)])return console.error(e(1957),this),null;const s=o.TemplateUtils[e(1804)](t,this._rootElement[e(2954)]);return s[e(4245)]=this,s}close(){const t=n;this[t(1255)]||(this[t(1255)]=!0,this[t(791)][t(2356)](this),this[t(3818)]||this[t(3695)]())}}e[n(4425)]=_0x40b6c6,_0x40b6c6[n(3311)](n(4425),[new i.Attribute(n(2927),{title:n(4144),componentType:a[n(1814)]})])},5206:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(4414)]=e[n(3305)]=void 0;const i=s(855),o=s(4416),a=s(1068);class _0x59ef44 extends i[n(1559)]{constructor(){const t=n;super(...arguments),this[t(1595)]=!1,this[t(1255)]=!1,this[t(3818)]=!1,this[t(791)]=new(a[t(1990)]),this[t(1176)]=new(a[t(1990)])}get id(){return this[n(3954)]}get[n(4245)](){return this[n(2015)]}[n(3488)](){const t=n;this[t(2015)].onClosed.addListener(this[t(373)],this)}[n(610)](){const t=n;this[t(3818)]=!0,this[t(1255)]||this.close(),this[t(1176)][t(2356)](this)}[n(1876)](t,e,s,i){const o=n;if(this[o(3954)])throw new Error(o(2293));this[o(3954)]=t,this[o(1595)]=s,this[o(2942)]=i,this[o(3193)](e)}[n(3193)](t){const e=n;t!==this._flags&&(this[e(3977)]=t)}[n(3388)](){const t=n;this[t(1255)]||(this[t(1255)]=!0,this[t(791)].safeInvoke(this),this._isDestroyed||this[t(3695)]())}onViewClosed(){const t=n;this[t(1595)]&&this[t(3388)]()}}e[n(3305)]=_0x59ef44,_0x59ef44[n(3311)]("Window",[new(i[n(3024)])(n(2015),{title:n(4425),scriptType:o[n(4425)]})]),function(t){const e=n;t[t[e(1441)]=1]=e(1441)}(e[n(4414)]||(e[n(4414)]={}))},8335:(t,e)=>{const s=a0_0x520a;Object.defineProperty(e,s(3500),{value:!0}),e[s(754)]=void 0,e.AngleUtils=class _0x4e3655{static[s(1788)](t){return(t%=360)>180?-(360-t):t}static unSignAngle(t){return(t%=360)>=0?t:t+360}}},5474:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,s(3500),{value:!0}),e[s(4204)]=void 0,e[s(4204)]=class _0x4c7d8f{constructor(t){this[s(3748)]=t}[s(824)](t,e,...n){const i=s;let o=e;e&&i(990)==typeof e&&(o="["+this[i(3748)]+"] "+e),t(o,...n)}log(t,...e){const n=s;this.logByMethod(console[n(2045)],t,...e)}[s(4447)](t,...e){this[s(824)](console.error,t,...e)}[s(4273)](t,...e){this.logByMethod(console.warn,t,...e)}[s(3028)](t,...e){this[s(824)](console.trace,t,...e)}[s(3015)](t){console[s(3015)](t)}}},5760:(t,e)=>{const s=a0_0x520a;Object.defineProperty(e,s(3500),{value:!0}),e.Base64Utils=void 0;const n=s(3558),i=new Uint8Array(256);for(let t=0;t<n[s(3171)];t++)i[n[s(2774)](t)]=t;e[s(635)]=class _0x2a9165{static[s(514)](t,e=0,i=0){const o=s;0===i&&(i=t[o(3742)]);let a,r=new Uint8Array(t,e,i),c=r[o(3171)],h="";for(a=0;a<c;a+=3)h+=n[r[a]>>2],h+=n[(3&r[a])<<4|r[a+1]>>4],h+=n[(15&r[a+1])<<2|r[a+2]>>6],h+=n[63&r[a+2]];return c%3==2?h=h[o(1888)](0,h[o(3171)]-1)+"=":c%3==1&&(h=h[o(1888)](0,h[o(3171)]-2)+"=="),h}static[s(3427)](t){const e=s;let n,o,a,r,c,h=.75*t.length,l=t[e(3171)],d=0;"="===t[t[e(3171)]-1]&&(h--,"="===t[t.length-2]&&h--);const u=new ArrayBuffer(h),p=new Uint8Array(u);for(n=0;n<l;n+=4)o=i[t[e(2774)](n)],a=i[t[e(2774)](n+1)],r=i[t[e(2774)](n+2)],c=i[t[e(2774)](n+3)],p[d++]=o<<2|a>>4,p[d++]=(15&a)<<4|r>>2,p[d++]=(3&r)<<6|63&c;return u}}},7956:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(1904)]=void 0;const i=s(3338),o=s(1402),a=s(5162);class _0x43d90b{static addScript(t,e){const s=n;if(!t)throw new Error(s(1719));if(o[s(3604)][s(2716)](t))throw new Error("Can't add a script to a template.");let i=t[s(3458)];return i||(i=t[s(3189)](s(3458))),i[s(861)](e)}static[n(3590)](t,e){const s=n;if(!t)throw new Error(s(1719));const i=t.script;if(!i)return;const o=i[s(3375)],a=o.length;for(let t=0;t<a;t++){const s=o[t];if(s instanceof e)return s}return null}static[n(1560)](t,e){const s=n;if(!t)throw new Error(s(1719));for(;t;){const n=this[s(3590)](t,e);if(n)return n;t=t.parent}return null}static[n(2867)](t,e){const s=t.c;if(!s)return null;for(const t in s){if(!s.hasOwnProperty(t))continue;const n=s[t];if(n instanceof e)return n}return null}static getComponentInParent(t,e){const s=n;if(!t)throw new Error(s(1719));for(;t;){const n=this.getComponent(t,e);if(n)return n;t=t[s(729)]}return null}static[n(1554)](t,e){const s=n;e||(e=new(i[s(1561)]));const o=this._lossyScaleBuffer;a[s(1125)][s(4326)](o);let r=t;for(;r;){const t=r.getLocalScale();o[s(1757)](t),r=r[s(729)]}const c=o[s(3171)];e[s(3172)](o[c-1]);for(let t=c-2;t>=0;t--){const n=o[t];e[s(3059)](n)}return a[s(1125)][s(4326)](o),e}static[n(3740)](t,e=null,s=null,o=null,a=null){const r=n;if(t[r(729)]&&(s=t[r(1344)]().clone(),o=t[r(1955)]()[r(2792)](),a=_0x43d90b[r(1554)](t),t[r(3740)](null)),e){if(s){const t=e[r(1344)](),n=new(i[r(1561)]);n[r(418)](s,t),s=n}if(o){const t=(new(i[r(2894)]))[r(3172)](e[r(1955)]())[r(1367)](),s=new(i[r(2894)])(0,0,0,1);s.mul2(o,t),o=s}if(a){const t=_0x43d90b.getScale(e),s=new i.Vec3;s.sub2(a,t),a=s}}else e=i.Application.getApplication()[r(693)];s||(s=i.Vec3[r(1853)]),o||(o=i[r(2894)][r(2992)]),a||(a=i[r(1561)][r(4119)]),t[r(4345)](s),t[r(927)](o),t[r(3009)](a),e[r(996)](t)}static[n(4224)](t){const e=n,s=this[e(4164)];a[e(1125)][e(4326)](s),a.ArrayUtils[e(4262)](s,t[e(712)]);const i=s[e(3171)];for(let t=0;t<i;t++){const n=s[t];n&&n[e(3039)]()}a.ArrayUtils[e(4326)](s)}static clone(t,e=null,s=null,i=null,o=null){const a=n;e||(e=t[a(729)]);const r=t.clone();return this[a(3740)](r,e,s,i,o),r}static[n(1498)](t,e=null,s=null,i=null){const o=n,a=this[o(2792)](t[o(2954)],e,s,i);return this.getScript(a,t[o(3414)])}static getForward(t){const e=n;return t[e(1329)][e(830)](-1)}}e[n(1904)]=_0x43d90b,_0x43d90b[n(4164)]=[],_0x43d90b[n(232)]=[]},1813:(t,e)=>{const s=a0_0x520a;Object[s(3104)](e,s(3500),{value:!0}),e[s(3866)]=void 0;class _0x40e1e7{static clamp(t,e,s){return Math.max(Math.min(t,s),e)}static[s(1158)](t){return this[s(3464)](t,0,1)}static isNumber(t){return Number[s(4388)](t)}static[s(4274)](t,e,n=1e-5){return Math[s(961)](e-t)<=n}static[s(854)](t,e,n){const i=e-t;return Math[s(961)](i)<=n?e:t+Math.sign(i)*n}static[s(2202)](t,e,n){return t!==e?this[s(1158)]((n-t)/(e-t)):0}static[s(1503)](t,e,s){return t!==e?(s-t)/(e-t):0}static[s(3602)](t,e,s){return t+(e-t)*s}static[s(2932)](t,e){return(t%e+e)%e}}e[s(3866)]=_0x40e1e7,_0x40e1e7.Int8MinValue=-128,_0x40e1e7[s(1837)]=127,_0x40e1e7[s(1746)]=255,_0x40e1e7.Int16MinValue=-32768,_0x40e1e7[s(3924)]=32767,_0x40e1e7[s(1511)]=65535,_0x40e1e7[s(2978)]=1<<31,_0x40e1e7[s(1947)]=~(1<<31),_0x40e1e7[s(4436)]=4294967295},8676:(t,e)=>{const s=a0_0x520a;Object.defineProperty(e,s(3500),{value:!0}),e[s(4433)]=e.StateMachine=void 0,e[s(266)]=class _0x3226e1{constructor(t,e=null){const n=s;this[n(736)]=t,e&&this[n(285)](e)}get previousState(){return this[s(3116)]}get currentState(){return this[s(2218)]}changeState(t){const e=s;this[e(2218)]&&(this[e(2218)][e(2537)](),this._previousState=this[e(2218)]);const n=this[e(2218)]=t;n[e(736)]=this[e(736)],n[e(965)]=this,n[e(412)]()}[s(1462)](){const t=s;this[t(3116)]&&(this[t(285)](this._previousState),this._currentState[t(2424)]())}[s(3517)](){const t=s;this[t(2218)]&&this[t(2218)][t(3517)]()}},e[s(4433)]=class _0x2fec56{[s(412)](){}[s(3517)](){}exit(){}[s(2424)](){}}},6880:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e.PoolRegistry=e[n(1495)]=e[n(2971)]=e[n(445)]=void 0;const i=s(9609);e.ManagedPoolContainer=class _0x20785f{constructor(t){const e=n;this[e(2149)]=new i.Stack,this[e(3791)]=new Set,this._poolConstructor=t}[n(1130)](){const t=n,e=this[t(2149)];if(e[t(3206)]>0){const s=e[t(2296)]();return this[t(3791)][t(1049)](s),s}return new(this[t(4397)])(this)}[n(3072)](t){const e=n;this[e(3791)].has(t)?console[e(4273)](e(1053)):(this._pools[e(1757)](t),this[e(3791)][e(1565)](t))}},e[n(2971)]=class _0x10409f{constructor(t,e,s){const o=n;this[o(1922)]=!1,this[o(1649)]=new(i[o(3082)]),this[o(3725)]=[],this[o(857)]=t,this[o(4233)]=e,this._owner=s}get(t=!1){const e=n;this._isDirty=!0;const s=this[e(1649)],i=s[e(3206)]>0?s[e(2296)]():new(this[e(857)]);return t||this[e(4233)](i),this._usedObjects[e(1757)](i),i}[n(3760)](){const t=n;if(!this[t(1922)])return;const e=this[t(1649)],s=this._usedObjects,i=s[t(3171)];for(let n=0;n<i;n++)e[t(1757)](s[n]);s[t(650)](0,i),this[t(1922)]=!1}[n(1081)](){const t=n;this.reset();const e=this[t(3027)];e&&e.disposePool(this)}};class _0x5617f5{constructor(t,e){const s=n;this[s(1649)]=new(i[s(3082)]),this._objectConstructDelegate=t,this[s(1366)]=e}[n(363)](){const t=n,e=this[t(1649)];return e[t(3206)]>0?e.pop():this[t(3428)]()}returnObject(t){const e=n,s=this[e(1366)];if(s)try{s(t)}catch(s){return void console[e(4447)](s,t)}this[e(1649)][e(1757)](t)}}e[n(1495)]=_0x5617f5;class _0xeaabdb{static[n(1130)](t){const e=n,s=this._poolsByObjectClass;let i=s[e(3155)](t);return i||(i=new _0x5617f5((()=>new t)),s[e(2936)](t,i)),i}static[n(363)](t){const e=n;return this.getPool(t)[e(363)]()}static[n(2925)](t){const e=n,s=t.constructor;this.getPool(s)[e(2925)](t)}}e.PoolRegistry=_0xeaabdb,_0xeaabdb._poolsByObjectClass=new Map},2269:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(2848)]=e[n(393)]=void 0;const i=s(3338),o=s(6880),a=s(1813);var r=i[n(2930)][n(3185)];class _0x33eaaa{static[n(4274)](t,e,s=.001){const i=n;return a[i(3866)][i(4274)](t.x,e.x,s)&&a.MathUtils.approximately(t.y,e.y,s)&&a[i(3866)][i(4274)](t.z,e.z,s)&&a[i(3866)].approximately(t.w,e.w,s)}static[n(2285)](t,e){return t.x*e.x+t.y*e.y+t.z*e.z+t.w*e.w}static[n(2091)](t,e){const s=n,i=_0x33eaaa[s(2285)](t,e);return _0x33eaaa[s(1011)](i)?0:2*Math[s(2233)](Math[s(3802)](Math.abs(i),1))*r}static[n(1011)](t){return t>.9999989867210388}static lookRotation(t,e,s){const o=n;s||(s=new(i[o(2894)]));const a=this[o(737)][o(3172)](t);a.mulScalar(-1);const r=_0x33eaaa[o(589)];return r[o(1873)](i[o(1561)][o(1853)],a,e),s[o(1476)](r),s}}e.QuatUtils=_0x33eaaa,_0x33eaaa._mat4=i.Mat4[n(2992)][n(2792)](),_0x33eaaa[n(737)]=new(i[n(1561)]);class _0x2640bf extends o[n(2971)]{constructor(t){super(i[n(2894)],(t=>{t.x=t.y=t.z=0,t.w=1}),t)}static[n(3155)](){const t=n;return this._pools[t(1130)]()}[n(2792)](t){return this[n(3155)](!0).copy(t)}invert(t){return this[n(2792)](t).invert()}mul(t,e){const s=n;return this.get(!0)[s(2446)](t,e)}[n(3081)](t,e,s){const i=n;return this[i(3155)](!0)[i(3081)](t,e,s)}[n(400)](t,e,s){const i=n,o=_0x33eaaa[i(2091)](t,e);return 0===o?e:this.slerp(t,e,Math[i(3802)](1,s/o))}[n(2491)](t,e,s){const i=n;return this[i(3155)](!0)[i(3345)](t,e,s)}}e[n(2848)]=_0x2640bf,_0x2640bf._pools=new(o[n(445)])(_0x2640bf)},4919:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e[n(4452)]=void 0;const i=s(3338);class _0x54cb9b{static[n(3207)](t){return n(990)==typeof t}static[n(2038)](t,...e){const s=n;let i=t;for(let t in e)i=i[s(2442)]?i[s(2442)]("{"+t+"}",e[t]):i[s(3446)]("{"+t+"}")[s(2511)](e[t]);return i}static[n(3439)](t,e){const s=n;if(!t)throw new Error(s(2371));const i=t.length;if(0===i)return t;const o=e[s(3171)];if(0===o)return t;let a=0;for(;;){let n=!1;for(let i=0;i<o;i++)if(t[s(2192)](e[i],a)){n=!0,a++;break}if(!n)break}return a>=i?t:t.substring(a)}static splitCamelOrPascalCase(t,e){const s=n;e||(e=[]);const i=this[s(4337)];let o=0,a=!1;const r=t[s(3171)];for(let n=0;n<r;n++){const r=t[s(2774)](n);r>=i.x&&r<=i.y?a&&(e[s(1757)](t[s(1888)](o,n)),o=n,a=!1):a=!0}return e[s(1757)](t[s(1888)](o)),e}static[n(3833)](t,e=0){const s=n;if(e<0||e>t[s(3171)]-1)return!1;const i=this[s(4337)],o=t[s(2774)](e);return o>=i.x&&o<=i.y}static formatBitMask(t,e){let s="";for(let i=Math[n(3802)](64,e)-1;i>=0;i--)s+=t&1<<i?"1":"0",i>0&&i%8==0&&(s+=" ");return s}}e[n(4452)]=_0x54cb9b,_0x54cb9b[n(591)]=new(i[n(1772)])("a".charCodeAt(0),"z"[n(2774)](0)),_0x54cb9b[n(4337)]=new(i[n(1772)])("A"[n(2774)](0),"Z".charCodeAt(0))},1402:(t,e,s)=>{const n=a0_0x520a;Object[n(3104)](e,n(3500),{value:!0}),e.TemplateUtils=void 0;const i=s(6849),o=s(7956);e[n(3604)]=class _0x11bac1{static getScript(t,e){const s=n;if(!t)throw Error(s(3882));if(!e)throw Error(s(3929));const a=t.__scriptCache||(t[s(2506)]=new _0x2e5e49),r=a[s(3590)](e);if(r)return r;let c=this[s(2670)](t);const h=o[s(1904)][s(3590)](c,e);return h?(a.addScript(h),h instanceof i.Script&&h[s(4369)](),h):null}static[n(3452)](t,e=null,s=null,i=null,a=null){const r=n,c=this[r(2670)](t);s&&c[r(4345)](s),i&&c.setRotation(i),a&&c[r(3009)](a);const h=c[r(2792)]();return this[r(3263)](h,t,!1),o.EntityUtils[r(3740)](h,e,s,i,a),h}static[n(1804)](t,e=null,s=null,i=null,a=null){const r=n;if(!t)throw new Error(r(4355));const c=t.entity;if(!this[r(2716)](c))throw new Error("Can't instantiate script because it is not a template script.");const h=this[r(4451)](c);if(!h)throw new Error(r(321));const l=this[r(3452)](h,e,s,i,a),d=t[r(3414)];return o.EntityUtils.getScript(l,d)}static[n(2670)](t){const e=n,s=t[e(4145)];let i=s[e(3844)];return i||(s[e(850)](),i=s[e(3844)]),this.setTemplate(i,t,!0),i}static[n(4451)](t){return t[n(1882)]}static[n(2716)](t){return t.__isTemplate}static setTemplate(t,e,s){const i=n;t[i(2732)]=s,t[i(1882)]=e}};class _0x2e5e49{constructor(){const t=n;this[t(734)]=[],this[t(734)]=[]}addScript(t){const e=n;this[e(734)][e(1757)](t)}[n(3590)](t){const e=n,s=this[e(734)],i=s[e(3171)];for(let e=0;e<i;e++){const n=s[e],i=n.constructor;if(i===t||i.prototype instanceof t)return n}return null}}},6244:(t,e,s)=>{const n=a0_0x520a;Object.defineProperty(e,n(3500),{value:!0}),e[n(2395)]=e.Vec2Pool=e.Vec2Utils=e.Vec3Utils=void 0;const i=s(3338),o=s(6880),a=s(1813);e.Vec3Utils=class _0x3cb8d6{static clamp(t,e,s){const o=n;t.x=i[o(2930)].clamp(t.x,e.x,s.x),t.y=i[o(2930)][o(3464)](t.y,e.y,s.y),t.z=i[o(2930)][o(3464)](t.z,e.z,s.z)}static[n(4274)](t,e,s=1e-4){const i=n;return a[i(3866)][i(4274)](t.x,e.x,s)&&a.MathUtils[i(4274)](t.y,e.y,s)&&a[i(3866)][i(4274)](t.z,e.z,s)}static[n(2091)](t,e){const s=n;return Math.acos(i[s(2930)][s(3464)](t[s(2285)](e),-1,1))*i.math[s(3185)]}static[n(4269)](t,e){const s=e.x-t.x,n=e.y-t.y,i=e.z-t.z;return s*s+n*n+i*i}},e[n(2444)]=class _0x2f2cea{static approximately(t,e,s=1e-4){const i=n;return a[i(3866)][i(4274)](t.x,e.x,s)&&a[i(3866)][i(4274)](t.y,e.y,s)}};class _0x44bf61 extends o[n(2971)]{constructor(t){super(i[n(1772)],(t=>{t.x=t.y=0}),t)}static get(){const t=n;return this[t(2149)][t(1130)]()}clone(t){const e=n;return this.get(!0)[e(3172)](t)}[n(1565)](t,e){const s=n;return this[s(2792)](t)[s(1565)](e)}[n(4043)](t,e){const s=n;return this[s(2792)](t)[s(4043)](e)}[n(2252)](t){const e=n;return this[e(2792)](t)[e(2252)]()}[n(2790)](t,e){return t[n(2790)](e)}[n(1541)](t,e){return t[n(1541)](e)}[n(790)](t,e){const s=n;return this[s(2792)](t)[s(790)](e)}[n(633)](t,e){return this[n(2792)](t).divScalar(e)}dot(t,e){return t.dot(e)}[n(2328)](t){return this.clone(t).floor()}[n(372)](t,e,s){const i=n;return this.get(!0)[i(372)](t,e,s)}[n(1417)](t,e){return this[n(2792)](t).max(e)}[n(3802)](t,e){const s=n;return this[s(2792)](t)[s(1417)](e)}mul(t,e){const s=n;return this[s(2792)](t)[s(3059)](e)}[n(830)](t,e){return this.clone(t).mulScalar(e)}[n(3030)](t){const e=n;return this.clone(t)[e(3030)]()}round(t){const e=n;return this.clone(t)[e(1599)]()}[n(2936)](t,e){const s=n;return this[s(3155)](!0)[s(2936)](t,e)}[n(2266)](t,e){return this.clone(t).sub(e)}[n(923)](t,e){return this.clone(t).subScalar(e)}}e[n(3051)]=_0x44bf61,_0x44bf61._pools=new(o[n(445)])(_0x44bf61);class _0xd618c8 extends o[n(2971)]{constructor(t){super(i[n(1561)],(t=>{t.x=t.y=t.z=0}),t)}static[n(3155)](){const t=n;return this[t(2149)][t(1130)]()}clone(t){const e=n;return this[e(3155)](!0)[e(3172)](t)}add(t,e){return this[n(2792)](t).add(e)}[n(4043)](t,e){const s=n;return this[s(2792)](t)[s(4043)](e)}[n(2252)](t){const e=n;return this.clone(t)[e(2252)]()}cross(t,e){const s=n;return this.get(!0)[s(2790)](t,e)}[n(1541)](t,e){return t.distance(e)}[n(790)](t,e){return this[n(2792)](t).div(e)}[n(633)](t,e){const s=n;return this.clone(t)[s(633)](e)}[n(2285)](t,e){return t[n(2285)](e)}floor(t){return this[n(2792)](t).floor()}[n(372)](t,e,s){const i=n;return this[i(3155)](!0)[i(372)](t,e,s)}max(t,e){const s=n;return this[s(2792)](t)[s(1417)](e)}min(t,e){const s=n;return this[s(2792)](t)[s(1417)](e)}[n(3059)](t,e){const s=n;return this[s(2792)](t)[s(3059)](e)}mulScalar(t,e){return this[n(2792)](t).mulScalar(e)}[n(3030)](t){const e=n;return this[e(2792)](t)[e(3030)]()}[n(2513)](t,e){const s=n;return this[s(2792)](t)[s(2513)](e)}[n(1599)](t){const e=n;return this[e(2792)](t)[e(1599)]()}set(t,e,s){const i=n;return this[i(3155)](!0)[i(2936)](t,e,s)}[n(2266)](t,e){return this.clone(t).sub(e)}[n(923)](t,e){return this[n(2792)](t).subScalar(e)}[n(854)](t,e,s){const i=n,o=e.x-t.x,a=e.y-t.y,r=e.z-t.z,c=o*o+a*a+r*r;if(0===c||s>=0&&c<=s*s)return e;const h=Math[i(974)](c);return this[i(2936)](t.x+o/h*s,t.y+a/h*s,t.z+r/h*s)}[n(3394)](t,e){const s=n,i=-2*this.dot(e,t);return this[s(2936)](i*e.x+t.x,i*e.y+t.y,i*e.z+t.z)}}e[n(2395)]=_0xd618c8,_0xd618c8[n(2149)]=new o.ManagedPoolContainer(_0xd618c8)},3539:(t,e,s)=>{const n=a0_0x520a;var i={"./entities/entity-rotator-proximity-toggler.ts":6610,"./entities/starting-zone-gate-opener.ts":4053,"./entities/vehicle-acrobatics.ts":4492,"./entities/vehicle-stats-tracker.ts":5,"./entities/vehicle.ts":7760,"./game-framework/proximity-system/data-structures/grid.ts":6146,"./game-framework/proximity-system/data-structures/proximity-cell.ts":7457,"./game-framework/proximity-system/data-structures/proximity-scan-cache.ts":1224,"./game-framework/proximity-system/data-structures/proximity-settings.ts":4361,"./game-framework/proximity-system/data-structures/proximity-state.ts":3875,"./game-framework/proximity-system/legacy/grid-tests.ts":7204,"./game-framework/proximity-system/legacy/grid-v2.ts":5371,"./game-framework/proximity-system/legacy/indexed-linked-list.ts":4743,"./game-framework/proximity-system/proximity-group.ts":6821,"./game-framework/proximity-system/proximity-node.ts":7753,"./game-framework/proximity-system/proximity-service.ts":2851,"./game-framework/season-system/season-service.ts":8338,"./game-framework/season-system/season.ts":8429,"./game-framework/season-system/seasonal-toggle.ts":6305,"./gameplay/cc-camera-setup.ts":8723,"./gameplay/cc-game-mode-manager.ts":6711,"./gameplay/cc-game-mode-world-settings.ts":8044,"./gameplay/cc-game-mode.ts":2009,"./gameplay/cc-game-state.ts":768,"./gameplay/cc-message-type.ts":7963,"./gameplay/cc-messages.ts":329,"./gameplay/cc-player-controller.ts":6933,"./gameplay/cc-player-state.ts":5877,"./gameplay/events/events-module.ts":5842,"./gameplay/events/racing/race-entry-observer.ts":6525,"./gameplay/events/racing/race-entry-trigger.ts":8256,"./gameplay/events/racing/race-module.ts":2014,"./gameplay/events/racing/race-record-registry.ts":8294,"./gameplay/events/racing/race-registry.ts":9855,"./gameplay/events/racing/race.ts":4348,"./gameplay/events/racing/ui/race-hud.ts":3553,"./gameplay/events/racing/ui/race-menu.ts":191,"./gameplay/events/racing/ui/race-result-menu.ts":2380,"./input/cc-input-manager.ts":7479,"./localization-manager.ts":9470,"./physics/collision-mesh-generator.ts":500,"./physics/collision-mesh-service.ts":6899,"./progression/cc-account-manager.ts":6942,"./progression/cc-account.ts":9630,"./progression/economy/cc-currency-type.ts":5019,"./progression/economy/currency-module.ts":9366,"./progression/economy/currency-type.ts":993,"./progression/economy/payment-method.ts":2496,"./progression/economy/purchase-info.ts":203,"./progression/economy/ui/currency-display.ts":3995,"./progression/garage/garage-manager.ts":1919,"./progression/garage/garage-module.ts":4796,"./progression/garage/ui/garage-menu.ts":2255,"./progression/garage/ui/vehicle-stats-display.ts":6452,"./progression/garage/vehicle-body.ts":2123,"./progression/garage/vehicle-config.ts":8502,"./progression/garage/vehicle-part-anchor.ts":7769,"./progression/garage/vehicle-part-category.ts":4944,"./progression/garage/vehicle-part-config.ts":7650,"./progression/garage/vehicle-part-record.ts":7658,"./progression/garage/vehicle-part.ts":5529,"./progression/garage/vehicle-record.ts":3606,"./progression/garage/vehicle-stats.ts":912,"./sdk/poki-extensions.ts":1694,"./sdk/poki-manager.ts":9799,"./type-bridge.ts":4583,"./ui/camera-ui-settings.ts":1090,"./ui/cc-menu.ts":1690,"./ui/cc-ui-manager.ts":3112,"./ui/components/audio-toggle.ts":3252,"./ui/components/camera-to-element-renderer.ts":5e3,"./ui/components/time-display.ts":2478,"./ui/hud/cc-hud.ts":3285,"./ui/hud/components/hud-countdown-display.ts":3847,"./ui/hud/components/hud-fps-counter.ts":3496,"./ui/hud/components/hud-garage-button-hint.ts":724,"./ui/hud/components/hud-objective-pointer.ts":6577,"./ui/hud/components/hud-rewarded-ad-display.ts":6567,"./ui/hud/components/hud-speedometer.ts":9120,"./ui/hud/hud-3d.ts":9898,"./ui/hud/multiplayer-hud.ts":2770,"./ui/menus/cc-menu-manager.ts":1050,"./utils/time-utils.ts":5094};function _0x27b317(t){var e=_0x2d459f(t);return s(e)}function _0x2d459f(t){const e=a0_0x520a;if(!s.o(i,t)){var n=new Error("Cannot find module '"+t+"'");throw n.code=e(1230),n}return i[t]}_0x27b317[n(3079)]=function _0x4677e1(){return Object[n(3079)](i)},_0x27b317.resolve=_0x2d459f,t.exports=_0x27b317,_0x27b317.id=3539},5503:(t,e,s)=>{function _0x1a8965(t){const e=a0_0x520a;t[e(3079)]()[e(3855)](t)}_0x1a8965(s(3566)),_0x1a8965(s(3759))},538:(t,e,s)=>{const n=a0_0x520a;s.r(e),s.d(e,{default:()=>l});const i={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},o=[n(4283),"webkitFullscreenElement",n(1400),n(3902),n(1206),"webkitfullscreenerror",n(3275)],a=[n(3435),n(1683),n(760),n(4067),"mozfullscreenchange",n(1841),n(849)],r=[n(2049),n(682),"msRequestFullscreen",n(3783),n(1418),n(3146),n(506)],c="undefined"!=typeof window&&void 0!==window[n(556)]?window.document:{},h="fullscreenEnabled"in c&&Object[n(3079)](i)||o[0]in c&&o||a[0]in c&&a||r[0]in c&&r||[],l={requestFullscreen:t=>t[h[i[n(4124)]]](),requestFullscreenFunction:t=>t[h[i[n(4124)]]],get exitFullscreen(){return c[h[i.exitFullscreen]].bind(c)},get fullscreenPseudoClass(){return":"+h[i[n(2453)]]},addEventListener:(t,e,s)=>c[n(527)](h[i[t]],e,s),removeEventListener:(t,e,s)=>c.removeEventListener(h[i[t]],e,s),get fullscreenEnabled(){return Boolean(c[h[i[n(2567)]]])},set fullscreenEnabled(t){},get fullscreenElement(){return c[h[i[n(2260)]]]},set fullscreenElement(t){},get onfullscreenchange(){const t=n;return c[("on"+h[i.fullscreenchange])[t(3736)]()]},set onfullscreenchange(t){const e=n;return c[("on"+h[i[e(1077)]])[e(3736)]()]=t},get onfullscreenerror(){const t=n;return c[("on"+h[i[t(1544)]])[t(3736)]()]},set onfullscreenerror(t){const e=n;return c[("on"+h[i[e(1544)]])[e(3736)]()]=t}}},1509:(t,e)=>{const s=a0_0x520a;function _0x1e3ff7(t,e,s){const n=a0_0x520a;var i,o;Math[n(961)](t.z)>.7071067811865476?(i=t.y*t.y+t.z*t.z,o=1/Math[n(974)](i),e.x=0,e.y=-t.z*o,e.z=t.y*o,s.x=i*o,s.y=-t.x*e.z,s.z=t.x*e.y):(i=t.x*t.x+t.y*t.y,o=1/Math.sqrt(i),e.x=-t.y*o,e.y=t.x*o,e.z=0,s.x=-t.z*e.y,s.y=t.z*e.x,s.z=i*o)}var n=pc[s(3017)](s(1517));n[s(675)].add(s(2029),{title:s(3642),description:s(599),type:s(2304),default:[0,0,0]}),n[s(675)].add("entityB",{title:s(994),description:s(1601),type:s(2954)}),n[s(675)].add(s(1066),{title:"Connected Pivot",description:s(3067),type:"vec3",default:[0,0,0]}),n.attributes[s(1565)](s(2748),{title:"Break Threshold",description:"Maximum breaking impulse threshold required to break the constraint.",type:s(1311),default:34e37}),n.attributes[s(1565)](s(1614),{title:s(2651),description:"Enable collision between linked rigid bodies.",type:s(3836),default:!0}),n.attributes.add(s(2824),{title:"Debug Render",description:s(1103),type:"boolean",default:!1}),n.attributes[s(1565)](s(1869),{title:"Debug Color",description:s(2072),type:"rgb",default:[1,0,0]}),n[s(495)][s(1224)]=function(){const t=s;this[t(2746)](),this.on("attr",(function(e,s,n){const i=t;i(2029)===e||i(792)===e||i(1066)===e?this[i(2746)]():i(2748)===e&&(this[i(1813)][i(1859)](this.breakingThreshold),this[i(3889)]())})),this.on(t(3753),(function(){this[t(2746)]()})),this.on(t(1700),(function(){this.destroyConstraint()})),this.on("destroy",(function(){this[t(4169)]()}))},n[s(495)].createConstraint=function(){const t=s;this[t(1813)]&&this[t(4169)]();var e=this.entity[t(1954)][t(3548)],n=new(Ammo[t(1776)])(this[t(2029)].x,this[t(2029)].y,this[t(2029)].z);if(this.entityB&&this[t(792)][t(1954)]){var i=this[t(792)].rigidbody.body,o=new(Ammo[t(1776)])(this[t(1066)].x,this.pivotB.y,this.pivotB.z);this[t(1813)]=new Ammo.btPoint2PointConstraint(e,i,n,o)}else this[t(1813)]=new Ammo.btPoint2PointConstraint(e,n);this[t(4474)][t(3352)][t(1954)][t(931)].addConstraint(this.constraint,!this[t(1614)]),this[t(3889)]()},n[s(495)].destroyConstraint=function(){const t=s;this[t(1813)]&&(this[t(4474)][t(3352)][t(1954)][t(931)].removeConstraint(this[t(1813)]),Ammo[t(3039)](this.constraint),this[t(1813)]=null)},n[s(495)].activate=function(){const t=s;this[t(2954)][t(1954)][t(3889)](),this.entityB&&this.entityB.rigidbody[t(3889)]()},n.prototype[s(3517)]=function(t){const e=s;if(this.debugRender){var n=new(pc[e(1561)]);this.entity.getWorldTransform().transformPoint(this[e(2029)],n),this[e(4474)][e(1918)](this[e(2954)][e(1344)](),n,this[e(1869)]),this[e(792)]&&this[e(4474)][e(1918)](this[e(792)].getPosition(),n,this[e(1869)])}};var i=pc[s(3017)](s(4209));i[s(675)].add("pivotA",{title:s(3642),description:"Position of the constraint in the local space of this entity.",type:"vec3",default:[0,0,0]}),i[s(675)][s(1565)](s(789),{title:s(743),description:s(3654),type:"vec3",default:[0,1,0]}),i[s(675)].add(s(792),{title:s(994),description:s(2966),type:s(2954)}),i[s(675)].add("pivotB",{title:s(895),description:s(3154),type:s(2304),default:[0,0,0]}),i[s(675)][s(1565)](s(2251),{title:s(3750),description:"Axis of rotation of the constraint in the local space of the connected entity (if specified).",type:s(2304),default:[0,1,0]}),i[s(675)][s(1565)](s(4231),{title:s(2350),description:s(4147),type:"vec2",default:[1,-1]}),i[s(675)][s(1565)](s(1201),{title:s(1149),description:s(4316),type:"number",min:0,max:1,default:.9}),i[s(675)][s(1565)](s(1315),{title:s(3166),description:s(3527),type:s(1311),min:0,max:1,default:.3}),i[s(675)][s(1565)](s(3131),{title:s(1562),description:s(842),type:s(1311),min:0,max:1,default:1}),i[s(675)].add("enableMotor",{title:s(566),description:s(1105),type:"boolean",default:!1}),i[s(675)][s(1565)]("motorTargetVelocity",{title:s(4015),description:s(1687),type:"number",default:0}),i[s(675)][s(1565)](s(2803),{title:s(3557),description:s(3890),type:s(1311),default:0}),i[s(675)][s(1565)](s(2748),{title:s(2388),description:"Maximum breaking impulse threshold required to break the constraint.",type:s(1311),default:34e37}),i[s(675)].add(s(1614),{title:s(2651),description:"Enable collision between linked rigid bodies.",type:s(3836),default:!0}),i[s(675)][s(1565)](s(2824),{title:s(2490),description:s(1103),type:"boolean",default:!1}),i.attributes[s(1565)](s(1869),{title:s(3076),description:s(2072),type:s(1278),default:[1,0,0]}),i[s(495)].postInitialize=function(){const t=s;this[t(2746)](),this.on("attr",(function(e,s,n){const i=t;if(i(2029)===e||i(789)===e||"entityB"===e||i(1066)===e||"axisB"===e)this[i(2746)]();else if(i(4231)===e||"softness"===e||"biasFactor"===e||i(3131)===e){var o=this.limits.x*Math.PI/180,a=this[i(4231)].y*Math.PI/180;this.constraint[i(2006)](o,a,this[i(1201)],this[i(1315)],this[i(3131)])}else i(637)===e||i(1997)===e||i(2803)===e?(this[i(1813)][i(2100)](this[i(637)],this[i(1997)]*Math.PI/180,this[i(2803)]),this.activate()):i(2748)===e&&(this[i(1813)].setBreakingImpulseThreshold(this[i(2748)]),this[i(3889)]())})),this.on("enable",(function(){this[t(2746)]()})),this.on(t(1700),(function(){this.destroyConstraint()})),this.on("destroy",(function(){this.destroyConstraint()}))},i[s(495)].createConstraint=function(){const t=s;this.constraint&&this[t(4169)]();var e=new(pc[t(1561)]),n=new(pc[t(1561)]),i=new(pc[t(2894)]),o=new pc.Mat4,a=this[t(2954)].rigidbody[t(3548)],r=new Ammo.btVector3(this.pivotA.x,this[t(2029)].y,this[t(2029)].z);_0x1e3ff7(this[t(789)],e,n),o[t(2936)]([e.x,e.y,e.z,0,n.x,n.y,n.z,0,this.axisA.x,this[t(789)].y,this[t(789)].z,0,0,0,0,1]),i[t(1476)](o);var c=new(Ammo[t(3353)])(i.x,i.y,i.z,i.w),h=new(Ammo[t(3519)])(c,r);if(this[t(792)]&&this[t(792)][t(1954)]){var l=this[t(792)][t(1954)][t(3548)],d=new Ammo.btVector3(this.pivotB.x,this[t(1066)].y,this[t(1066)].z);_0x1e3ff7(this[t(2251)],e,n),o[t(2936)]([e.x,e.y,e.z,0,n.x,n.y,n.z,0,this[t(2251)].x,this[t(2251)].y,this[t(2251)].z,0,0,0,0,1]),i.setFromMat4(o);var u=new Ammo.btQuaternion(i.x,i.y,i.z,i.w),p=new Ammo.btTransform(u,d);this.constraint=new(Ammo[t(1852)])(a,l,h,p,!1),Ammo[t(3039)](p),Ammo[t(3039)](u),Ammo.destroy(d)}else this[t(1813)]=new(Ammo[t(1852)])(a,h,!1);var _=this.limits.x*Math.PI/180,m=this[t(4231)].y*Math.PI/180;this[t(1813)][t(2006)](_,m,this[t(1201)],this.biasFactor,this.relaxationFactor),this[t(1813)][t(1859)](this[t(2748)]),this[t(1813)][t(2100)](this.enableMotor,this[t(1997)]*Math.PI/180,this[t(2803)]),Ammo[t(3039)](h),Ammo.destroy(c),Ammo.destroy(r),this[t(4474)][t(3352)][t(1954)][t(931)][t(3754)](this[t(1813)],!this[t(1614)]),this[t(3889)]()},i[s(495)][s(4169)]=function(){const t=s;this.constraint&&(this[t(4474)][t(3352)][t(1954)][t(931)][t(1845)](this[t(1813)]),Ammo.destroy(this.constraint),this[t(1813)]=null)},i[s(495)][s(3889)]=function(){const t=s;this[t(2954)].rigidbody[t(3889)](),this.entityB&&this[t(792)][t(1954)][t(3889)]()},i[s(495)][s(3517)]=function(t){const e=s;if(this[e(2824)]){var n=new(pc[e(1561)]),i=new(pc[e(1561)]),o=new(pc[e(1561)]),a=new(pc[e(1561)]),r=this[e(2954)][e(3638)]();r[e(2764)](this.pivotA,n),r[e(2390)](this[e(789)],i),i[e(3030)]()[e(3851)](.5),o[e(311)](n,i),a[e(418)](n,i),this[e(4474)][e(1918)](this[e(2954)][e(1344)](),n,this[e(1869)]),this.app[e(1918)](o,a,this[e(1869)]),this[e(792)]&&this[e(4474)][e(1918)](this.entityB[e(1344)](),n,this[e(1869)])}};var o=pc[s(3017)](s(4011));o.attributes[s(1565)](s(2029),{title:s(3642),description:s(599),type:s(2304),default:[0,0,0]}),o[s(675)][s(1565)](s(789),{title:s(743),description:s(3654),type:s(2304),default:[0,1,0]}),o[s(675)][s(1565)]("entityB",{title:"Connected Entity",description:"Optional second connected entity.",type:"entity"}),o[s(675)][s(1565)](s(1066),{title:"Connected Pivot",description:s(3154),type:"vec3",default:[0,0,0]}),o[s(675)][s(1565)]("axisB",{title:s(3750),description:s(3004),type:s(2304),default:[0,1,0]}),o.attributes[s(1565)](s(2321),{title:s(2398),description:"The Swing 1 Limit limits the rotation around the swing axis. Swing 1 Limit limits an axis of rotation orthogonal to the twist axis and Swing Limit 2. The limit angle is symmetric. Therefore, a value of 20 will limit the rotation between -20 and 20 degrees.",type:s(1311),default:1e30}),o.attributes.add("swingSpan2",{title:s(2156),description:s(1372),type:"number",default:1e30}),o.attributes[s(1565)](s(584),{title:s(4419),description:s(2368),type:s(1311),default:1e30}),o[s(675)][s(1565)](s(2748),{title:s(2388),description:s(2066),type:s(1311),default:1e30}),o[s(675)][s(1565)](s(1614),{title:"Enable Collision",description:s(3472),type:s(3836),default:!0}),o[s(675)][s(1565)](s(2824),{title:s(2490),description:"Enable to render a representation of the constraint.",type:"boolean",default:!1}),o[s(675)][s(1565)](s(1869),{title:s(3076),description:"The color of the debug rendering of the constraint.",type:"rgb",default:[1,0,0]}),o[s(495)][s(1224)]=function(){const t=s;this.createConstraint(),this.on(t(4175),(function(e,s,n){const i=t;i(2029)===e||i(789)===e||i(792)===e||i(1066)===e||i(2251)===e?this[i(2746)]():"swingSpan1"===e?(this[i(1813)][i(2006)](5,this[i(2321)]*Math.PI/180),this[i(3889)]()):i(258)===e?(this.constraint[i(2006)](4,this[i(258)]*Math.PI/180),this.activate()):i(584)===e?(this[i(1813)][i(2006)](3,this[i(584)]*Math.PI/180),this.activate()):i(2748)===e&&(this[i(1813)][i(1859)](this[i(2748)]),this[i(3889)]())})),this.on(t(3753),(function(){this[t(2746)]()})),this.on(t(1700),(function(){this[t(4169)]()})),this.on(t(3039),(function(){this[t(4169)]()}))},o[s(495)][s(2746)]=function(){const t=s;this[t(1813)]&&this[t(4169)]();var e=new(pc[t(1561)]),n=new(pc[t(1561)]),i=new pc.Quat,o=new pc.Mat4,a=this[t(2954)][t(1954)][t(3548)],r=new(Ammo[t(1776)])(this[t(2029)].x,this[t(2029)].y,this.pivotA.z);_0x1e3ff7(this[t(789)],e,n),o[t(2936)]([e.x,e.y,e.z,0,n.x,n.y,n.z,0,this[t(789)].x,this[t(789)].y,this[t(789)].z,0,0,0,0,1]),i[t(1476)](o);var c=new(Ammo[t(3353)])(i.x,i.y,i.z,i.w),h=new(Ammo[t(3519)])(c,r);if(this[t(792)]&&this[t(792)][t(1954)]){var l=this[t(792)][t(1954)][t(3548)],d=new(Ammo[t(1776)])(this.pivotB.x,this[t(1066)].y,this[t(1066)].z);_0x1e3ff7(this.axisB,e,n),o.set([e.x,e.y,e.z,0,n.x,n.y,n.z,0,this[t(2251)].x,this[t(2251)].y,this[t(2251)].z,0,0,0,0,1]),i[t(1476)](o);var u=new(Ammo[t(3353)])(i.x,i.y,i.z,i.w),p=new(Ammo[t(3519)])(u,d);this[t(1813)]=new Ammo.btConeTwistConstraint(a,l,h,p),Ammo.destroy(p),Ammo[t(3039)](u),Ammo.destroy(d)}else this[t(1813)]=new(Ammo[t(997)])(a,h);this[t(1813)].setLimit(3,this[t(584)]*Math.PI/180),this[t(1813)].setLimit(4,this.swingSpan2*Math.PI/180),this[t(1813)][t(2006)](5,this[t(2321)]*Math.PI/180),this[t(1813)][t(1859)](this[t(2748)]),Ammo[t(3039)](h),Ammo[t(3039)](c),Ammo[t(3039)](r),this[t(4474)][t(3352)].rigidbody[t(931)][t(3754)](this.constraint,!this[t(1614)]),this[t(3889)]()},o[s(495)][s(4169)]=function(){const t=s;this[t(1813)]&&(this[t(4474)][t(3352)][t(1954)][t(931)][t(1845)](this[t(1813)]),Ammo.destroy(this[t(1813)]),this[t(1813)]=null)},o.prototype.activate=function(){const t=s;this[t(2954)][t(1954)][t(3889)](),this[t(792)]&&this.entityB[t(1954)].activate()},o.prototype.update=function(t){const e=s;this[e(2824)]&&this[e(4474)].drawLine(this[e(2954)][e(1344)](),pc.Vec3.ZERO,this.debugColor)};var a=pc[s(3017)]("sliderConstraint");a[s(675)][s(1565)](s(2029),{title:s(3642),description:s(599),type:"vec3",default:[0,0,0]}),a[s(675)].add("axisA",{title:s(743),description:s(3654),type:"vec3",default:[0,1,0]}),a[s(675)][s(1565)](s(792),{title:s(994),description:s(2966),type:s(2954)}),a[s(675)].add(s(1066),{title:"Connected Pivot",description:s(3154),type:"vec3",default:[0,0,0]}),a[s(675)][s(1565)](s(2251),{title:s(3750),description:s(3004),type:s(2304),default:[0,1,0]}),a.attributes[s(1565)](s(3838),{title:"Linear Limits",description:s(2106),type:s(4174),default:[1,-1]}),a[s(675)][s(1565)](s(3961),{title:s(3023),description:s(4065),type:s(4174),default:[0,0]}),a[s(675)][s(1565)](s(2748),{title:s(2388),description:s(2066),type:s(1311),default:1e30}),a[s(675)][s(1565)]("enableCollision",{title:s(2651),description:s(3472),type:"boolean",default:!0}),a[s(675)][s(1565)](s(2824),{title:"Debug Render",description:s(1103),type:s(3836),default:!1}),a[s(675)][s(1565)](s(1869),{title:s(3076),description:s(2072),type:"rgb",default:[1,0,0]}),a[s(495)][s(1224)]=function(){const t=s;this[t(2746)](),this.on("attr",(function(e,s,n){const i=t;i(2029)===e||i(789)===e||i(792)===e||i(1066)===e||i(2251)===e?this[i(2746)]():"linearLimits"===e?(this[i(1813)].setLowerLinLimit(this[i(3838)].x),this.constraint[i(380)](this[i(3838)].y),this[i(3889)]()):i(3961)===e?(this[i(1813)].setLowerAngLimit(this[i(3961)].x),this[i(1813)][i(3295)](this[i(3961)].y),this[i(3889)]()):"breakingThreshold"===e&&(this[i(1813)][i(1859)](this[i(2748)]),this[i(3889)]())})),this.on(t(3753),(function(){this[t(2746)]()})),this.on(t(1700),(function(){this[t(4169)]()})),this.on("destroy",(function(){this[t(4169)]()}))},a[s(495)][s(2746)]=function(){const t=s;this[t(1813)]&&this[t(4169)]();var e=new(pc[t(1561)]),n=new pc.Vec3,i=new pc.Quat,o=new pc.Mat4,a=this.entity.rigidbody.body,r=new(Ammo[t(1776)])(this[t(2029)].x,this[t(2029)].y,this[t(2029)].z);_0x1e3ff7(this.axisA,e,n),o[t(2936)]([this[t(789)].x,this[t(789)].y,this[t(789)].z,0,e.x,e.y,e.z,0,n.x,n.y,n.z,0,0,0,0,1]),i[t(1476)](o);var c=new Ammo.btQuaternion(i.x,i.y,i.z,i.w),h=new Ammo.btTransform(c,r);if(h[t(3133)](r),this[t(792)]&&this[t(792)][t(1954)]){var l=this.entityB[t(1954)].body,d=new(Ammo[t(1776)])(this[t(1066)].x,this[t(1066)].y,this[t(1066)].z);_0x1e3ff7(this.axisB,e,n),o[t(2936)]([e.x,e.y,e.z,0,n.x,n.y,n.z,0,this[t(2251)].x,this.axisB.y,this.axisB.z,0,0,0,0,1]),i[t(1476)](o);var u=new(Ammo[t(3353)])(i.x,i.y,i.z,i.w),p=new Ammo.btTransform(u,d);this[t(1813)]=new Ammo.btSliderConstraint(a,l,h,p),Ammo.destroy(p),Ammo[t(3039)](u),Ammo[t(3039)](d)}else this[t(1813)]=new(Ammo[t(1199)])(a,h);this[t(1813)][t(1465)](this[t(3838)].x),this.constraint[t(380)](this[t(3838)].y),this[t(1813)][t(4275)](this[t(3961)].x),this[t(1813)][t(3295)](this[t(3961)].y),this[t(1813)][t(1859)](this[t(2748)]),Ammo[t(3039)](h),Ammo[t(3039)](c),Ammo[t(3039)](r),this[t(4474)][t(3352)][t(1954)][t(931)][t(3754)](this[t(1813)],!this[t(1614)]),this[t(3889)]()},a[s(495)][s(4169)]=function(){const t=s;this[t(1813)]&&(this[t(4474)].systems.rigidbody[t(931)][t(1845)](this.constraint),Ammo[t(3039)](this[t(1813)]),this[t(1813)]=null)},a[s(495)][s(3889)]=function(){const t=s;this[t(2954)][t(1954)][t(3889)](),this[t(792)]&&this.entityB[t(1954)][t(3889)]()},a[s(495)].update=function(t){this[s(2824)]};var r=pc.createScript(s(4009));r[s(675)][s(1565)](s(2029),{title:s(3642),description:s(599),type:"vec3",default:[0,0,0]}),r[s(675)][s(1565)]("axisA",{title:s(743),description:"Axis of rotation of the constraint in the local space this entity.",type:s(2304),default:[0,1,0]}),r[s(675)][s(1565)](s(792),{title:s(994),description:s(2966),type:s(2954)}),r[s(675)][s(1565)](s(1066),{title:s(895),description:s(3154),type:"vec3",default:[0,0,0]}),r[s(675)].add("axisB",{title:s(3750),description:s(3004),type:"vec3",default:[0,1,0]}),r[s(675)][s(1565)](s(3838),{title:s(1246),description:s(2106),type:s(4174),default:[1,-1]}),r[s(675)][s(1565)](s(3961),{title:s(3023),description:s(4065),type:s(4174),default:[0,0]}),r[s(675)][s(1565)](s(2748),{title:"Break Threshold",description:s(2066),type:s(1311),default:1e30}),r[s(675)][s(1565)]("enableCollision",{title:s(2651),description:"Enable collision between linked rigid bodies.",type:s(3836),default:!0}),r[s(675)][s(1565)](s(2824),{title:s(2490),description:s(1103),type:s(3836),default:!1}),r[s(675)][s(1565)](s(1869),{title:s(3076),description:s(2072),type:"rgb",default:[1,0,0]}),r.prototype[s(1224)]=function(){const t=s;this[t(2746)](),this.on(t(4175),(function(e,s,n){const i=t;i(2029)===e||"axisA"===e||"entityB"===e||i(1066)===e||i(2251)===e?this[i(2746)]():i(3838)===e?(this[i(1813)][i(1465)](this.linearLimits.x),this[i(1813)].setUpperLinLimit(this[i(3838)].y),this[i(3889)]()):"angularLimits"===e?(this.constraint[i(4275)](this[i(3961)].x),this[i(1813)][i(3295)](this[i(3961)].y),this[i(3889)]()):"breakingThreshold"===e&&(this.constraint.setBreakingImpulseThreshold(this[i(2748)]),this[i(3889)]())})),this.on(t(3753),(function(){this[t(2746)]()})),this.on("disable",(function(){this[t(4169)]()})),this.on(t(3039),(function(){this[t(4169)]()}))},r[s(495)][s(2746)]=function(){const t=s;this.constraint&&this[t(4169)]();var e=new pc.Vec3,n=new(pc[t(1561)]),i=new(pc[t(2894)]),o=new(pc[t(2539)]),a=this[t(2954)].rigidbody[t(3548)],r=new(Ammo[t(1776)])(this[t(2029)].x,this.pivotA.y,this.pivotA.z);_0x1e3ff7(this.axisA,e,n),o[t(2936)]([this[t(789)].x,this.axisA.y,this.axisA.z,0,e.x,e.y,e.z,0,n.x,n.y,n.z,0,0,0,0,1]),i[t(1476)](o);var c=new Ammo.btQuaternion(i.x,i.y,i.z,i.w),h=new(Ammo[t(3519)])(c,r);if(h[t(3133)](r),this[t(792)]&&this[t(792)].rigidbody){var l=this.entityB[t(1954)][t(3548)],d=new Ammo.btVector3(this[t(1066)].x,this[t(1066)].y,this[t(1066)].z);_0x1e3ff7(this[t(2251)],e,n),o[t(2936)]([e.x,e.y,e.z,0,n.x,n.y,n.z,0,this[t(2251)].x,this[t(2251)].y,this[t(2251)].z,0,0,0,0,1]),i[t(1476)](o);var u=new(Ammo[t(3353)])(i.x,i.y,i.z,i.w),p=new(Ammo[t(3519)])(u,d);this[t(1813)]=new(Ammo[t(1199)])(a,l,h,p),Ammo.destroy(p),Ammo[t(3039)](u),Ammo[t(3039)](d)}else this[t(1813)]=new(Ammo[t(1199)])(a,h);this[t(1813)].setLowerLinLimit(this[t(3838)].x),this[t(1813)][t(380)](this[t(3838)].y),this[t(1813)][t(4275)](this[t(3961)].x),this.constraint[t(3295)](this.angularLimits.y),this[t(1813)][t(1859)](this[t(2748)]),Ammo.destroy(h),Ammo[t(3039)](c),Ammo[t(3039)](r),this.app.systems[t(1954)][t(931)][t(3754)](this[t(1813)],!this[t(1614)]),this.activate()},r[s(495)][s(4169)]=function(){const t=s;this[t(1813)]&&(this[t(4474)].systems[t(1954)][t(931)][t(1845)](this[t(1813)]),Ammo[t(3039)](this[t(1813)]),this[t(1813)]=null)},r[s(495)].activate=function(){const t=s;this[t(2954)][t(1954)][t(3889)](),this[t(792)]&&this[t(792)][t(1954)][t(3889)]()},r.prototype.update=function(t){this[s(2824)]},e[s(264)]=n,e[s(697)]=i,e[s(1839)]=o,e[s(3501)]=a,e[s(3592)]=r},3566:(t,e,s)=>{const n=a0_0x520a;var i={"./graphics/libs/fscreen.js":538,"./physics/physics-constraints.js":1509};function _0xf2f290(t){var e=_0x5062b8(t);return s(e)}function _0x5062b8(t){const e=a0_0x520a;if(!s.o(i,t)){var n=new Error(e(2279)+t+"'");throw n[e(3423)]=e(1230),n}return i[t]}_0xf2f290[n(3079)]=function _0xd6711(){return Object[n(3079)](i)},_0xf2f290[n(612)]=_0x5062b8,t[n(353)]=_0xf2f290,_0xf2f290.id=3566},3759:(t,e,s)=>{const n=a0_0x520a;var i={"./application.ts":8145,"./audio/audio-category-settings.ts":6612,"./audio/audio-category.ts":3745,"./audio/audio-manager.ts":9325,"./audio/audio-settings-module.ts":9054,"./audio/audio-volume-listener.ts":6947,"./audio/audio-volume-regulator.ts":5263,"./camera/camera-controller.ts":9517,"./camera/camera-handle.ts":5792,"./camera/camera-manager.ts":8511,"./camera/camera-properties.ts":1912,"./camera/static-camera.ts":1810,"./camera/virtual-camera.ts":8418,"./core/attribute-module.ts":5462,"./core/attribute.ts":6943,"./core/behavior-node-registry.ts":3482,"./core/behavior-system-module.ts":6963,"./core/behavior-system.ts":5547,"./core/behavior.ts":4006,"./core/script.ts":6849,"./core/serializable-struct.ts":8463,"./core/tick-system.ts":8230,"./coroutine.ts":3346,"./device-manager.ts":5668,"./environment.ts":1042,"./game-framework/character-controller/character-controller.ts":1522,"./game-framework/character-controller/character-view.ts":7573,"./game-framework/character-controller/first-person/bob-view-module.ts":2438,"./game-framework/character-controller/first-person/first-person-character-view.ts":977,"./game-framework/character-controller/first-person/first-person-view-module.ts":8642,"./game-framework/character-controller/first-person/sway-view-module.ts":351,"./game-framework/character-controller/view-module.ts":6692,"./game-framework/character-controller/view-transform.ts":8002,"./game-framework/controller.ts":9600,"./game-framework/damage-event.ts":8173,"./game-framework/game-messages.ts":4964,"./game-framework/game-mode-manager.ts":4618,"./game-framework/game-mode-world-settings.ts":5257,"./game-framework/game-mode.ts":8067,"./game-framework/game-rules.ts":9016,"./game-framework/game-server-module.ts":1915,"./game-framework/game-state.ts":5737,"./game-framework/health-component.ts":5864,"./game-framework/pawn.ts":4950,"./game-framework/player-controller.ts":2908,"./game-framework/player-room.ts":7600,"./game-framework/player-state.ts":8578,"./game-framework/ui/hud-component.ts":3145,"./game-framework/ui/hud-manager.ts":3296,"./game-framework/ui/hud-part.ts":9386,"./game-framework/ui/hud-root.ts":8411,"./game-framework/ui/hud.ts":2330,"./game-framework/world-settings.ts":3136,"./general/collections/array-utils.ts":5162,"./general/collections/circular-buffer.ts":5806,"./general/collections/enumeration-mutable-collection.ts":2743,"./general/collections/linked-list.ts":6842,"./general/collections/queue.ts":6020,"./general/collections/read-only-array.ts":3129,"./general/collections/stack.ts":9609,"./general/delegate.ts":1068,"./graphics/components/camera-render-texture-setter.ts":9173,"./graphics/components/element-render-texture-setter.ts":929,"./graphics/components/render-texture-setter.ts":6229,"./graphics/graphics-manager.ts":1846,"./graphics/render-texture.ts":3626,"./input/device-input-binding.ts":4787,"./input/devices/keyboard.ts":7072,"./input/devices/mouse.ts":3669,"./input/devices/ui-input-device.ts":2285,"./input/input-action-map.ts":4442,"./input/input-action-path.ts":1874,"./input/input-action.ts":6724,"./input/input-binding.ts":4536,"./input/input-broadcaster.ts":8207,"./input/input-control-scheme.ts":1067,"./input/input-device.ts":7681,"./input/input-event-broadcaster.ts":2101,"./input/input-event-sequencer.ts":9432,"./input/input-event-type.ts":7740,"./input/input-event.ts":8410,"./input/input-listener-container.ts":6199,"./input/input-listener.ts":9988,"./input/input-manager.ts":5171,"./input/input-setup.ts":9542,"./input/input-user.ts":8686,"./input/layering/input-director.ts":8414,"./input/layering/input-layer.ts":9328,"./input/ui-input-event-type.ts":3257,"./life-time.ts":8597,"./manager.ts":822,"./networking/gameplay/client-handle-module.ts":7639,"./networking/gameplay/client-handle.ts":1536,"./networking/gameplay/messaging/game-message-domain.ts":3519,"./networking/gameplay/messaging/game-message-event-args.ts":6740,"./networking/gameplay/messaging/game-message-type.ts":4568,"./networking/gameplay/messaging/game-message.ts":6065,"./networking/gameplay/messaging/message-batcher.ts":2794,"./networking/gameplay/messaging/message-routing-mask.ts":7973,"./networking/gameplay/messaging/messages/boolean-message.ts":8486,"./networking/gameplay/messaging/messages/empty-message.ts":6557,"./networking/gameplay/messaging/messages/rpc-message.ts":4505,"./networking/gameplay/messaging/messages/string-message.ts":2871,"./networking/gameplay/messaging/requester.ts":6040,"./networking/gameplay/network-channel.ts":8367,"./networking/gameplay/network-connection.ts":3490,"./networking/gameplay/network-manager.ts":1331,"./networking/gameplay/network-stats.ts":6510,"./networking/gameplay/player-handle.ts":6492,"./networking/gameplay/replication/modules/client-replication-module.ts":3255,"./networking/gameplay/replication/modules/entity-replication-messages.ts":3102,"./networking/gameplay/replication/modules/server-replication-module.ts":1240,"./networking/gameplay/replication/net-vars/net-array.ts":6258,"./networking/gameplay/replication/net-vars/net-boolean.ts":1645,"./networking/gameplay/replication/net-vars/net-float.ts":6951,"./networking/gameplay/replication/net-vars/net-handle-ref.ts":9308,"./networking/gameplay/replication/net-vars/net-integer.ts":8309,"./networking/gameplay/replication/net-vars/net-script-ref.ts":4557,"./networking/gameplay/replication/net-vars/net-string.ts":1515,"./networking/gameplay/replication/net-vars/net-var-replicator.ts":5402,"./networking/gameplay/replication/net-vars/net-var.ts":274,"./networking/gameplay/replication/network-behavior.ts":5518,"./networking/gameplay/replication/network-component.ts":101,"./networking/gameplay/replication/network-handle.ts":1432,"./networking/gameplay/replication/network-scene.ts":3435,"./networking/gameplay/replication/network-transform.ts":9933,"./networking/gameplay/replication/state-serializable.ts":4104,"./networking/gameplay/replication/state-syncing/client-handle-interpolation-module.ts":4178,"./networking/gameplay/replication/state-syncing/client-interpolation-module.ts":3927,"./networking/gameplay/replication/state-syncing/server-interpolation-module.ts":5116,"./networking/gameplay/replication/state-syncing/state-frame.ts":1461,"./networking/gameplay/replication/state-syncing/state-module.ts":4659,"./networking/gameplay/replication/state-syncing/state-replicator.ts":9991,"./networking/gameplay/replication/state-syncing/state.ts":5972,"./networking/gameplay/session/client.ts":1986,"./networking/gameplay/session/game-session-manager.ts":6435,"./networking/gameplay/session/game-session.ts":6486,"./networking/gameplay/session/modules/client-module.ts":6202,"./networking/gameplay/session/modules/client-scene-module.ts":1666,"./networking/gameplay/session/modules/game-session-module.ts":3803,"./networking/gameplay/session/modules/server-module.ts":6546,"./networking/gameplay/session/modules/server-scene-module.ts":4430,"./networking/gameplay/session/modules/session-modules.ts":5129,"./networking/gameplay/session/modules/time-modules.ts":7541,"./networking/gameplay/session/server.ts":3721,"./networking/matchmaking/account-message-type.ts":6850,"./networking/matchmaking/matchmaking-manager.ts":4470,"./networking/matchmaking/matchmaking-requests.ts":1779,"./networking/matchmaking/matchmaking-strategies.ts":8622,"./networking/matchmaking/matchmaking-structures.ts":2546,"./networking/matchmaking/messaging/matchmaking-message-type.ts":5852,"./networking/matchmaking/messaging/request-messages.ts":1112,"./networking/matchmaking/messaging/response-messages.ts":7700,"./networking/matchmaking/messaging/rpc-messages.ts":3724,"./networking/matchmaking/room-message-type.ts":3845,"./networking/matchmaking/room.ts":3784,"./networking/messaging/message-domain-id.ts":933,"./networking/messaging/message-domain.ts":3994,"./networking/messaging/message-event-args.ts":4071,"./networking/messaging/message-gateway.ts":2002,"./networking/messaging/message-pool.ts":7409,"./networking/messaging/message-relay.ts":1099,"./networking/messaging/message-send-result.ts":1614,"./networking/messaging/messages.ts":4570,"./networking/messaging/open-message-domain.ts":6565,"./networking/messaging/request.ts":4736,"./networking/network-serializable.ts":9964,"./networking/network-session.ts":4581,"./networking/network-stream.ts":3931,"./networking/socket-close-code.ts":6853,"./networking/socket-message-domain.ts":8952,"./networking/socket-message.ts":4792,"./networking/socket.ts":4729,"./networking/testing/serialization-test.ts":2978,"./networking/utils/collection-serializer.ts":7983,"./networking/utils/fixed-collection-synchronizer.ts":215,"./networking/utils/module-system.ts":2379,"./physics/ammo-types.ts":7045,"./physics/collision-event-type.ts":4714,"./physics/physics-extensions.ts":9624,"./physics/physics-manager.ts":3830,"./physics/physics-utils.ts":6531,"./physics/rigid-body-type.ts":5772,"./physics/rigid-body-utils.ts":9250,"./physics/trigger-event-type.ts":6909,"./pose.ts":7086,"./progression/account-manager.ts":2256,"./progression/account-module.ts":4883,"./progression/account.ts":7762,"./progression/modules/settings-module.ts":2307,"./scene-handle.ts":12,"./scene-load-command.ts":1456,"./scene-load-mode.ts":5500,"./scene-manager.ts":1869,"./scene-type.ts":2619,"./script-event-type.ts":1065,"./script.ts":855,"./space.ts":808,"./time.ts":1465,"./ui/button-event-type.ts":196,"./ui/components/animating/animation-curve-preset.ts":4356,"./ui/components/animating/simple-animator/simple-animator-linker.ts":3908,"./ui/components/animating/simple-animator/simple-animator-targets.ts":4725,"./ui/components/animating/simple-animator/simple-animator.ts":7634,"./ui/components/message-box.ts":4285,"./ui/components/screen-scaler.ts":4364,"./ui/components/ui-button.ts":6777,"./ui/components/ui-switch.ts":9251,"./ui/menu-database.ts":4463,"./ui/menu-stack.ts":872,"./ui/menu-transition-handler.ts":9083,"./ui/menu.ts":1594,"./ui/ui-asset-database.ts":1861,"./ui/ui-element.ts":7128,"./ui/ui-manager.ts":47,"./ui/ui-root.ts":6195,"./ui/ui-utils.ts":6926,"./ui/view.ts":4416,"./ui/window.ts":5206,"./utils/angle-utils.ts":8335,"./utils/debug-utils.ts":5474,"./utils/encoding/base64-utils.ts":5760,"./utils/entity-utils.ts":7956,"./utils/math-utils.ts":1813,"./utils/patterns/finite-state-machine.ts":8676,"./utils/pool-utils.ts":6880,"./utils/quaternion-utils.ts":2269,"./utils/string-utils.ts":4919,"./utils/template-utils.ts":1402,"./utils/vector-utils.ts":6244};function _0x3a197d(t){var e=_0x4c2fce(t);return s(e)}function _0x4c2fce(t){const e=a0_0x520a;if(!s.o(i,t)){var n=new Error(e(2279)+t+"'");throw n[e(3423)]=e(1230),n}return i[t]}_0x3a197d[n(3079)]=function _0xf351(){return Object[n(3079)](i)},_0x3a197d[n(612)]=_0x4c2fce,t[n(353)]=_0x3a197d,_0x3a197d.id=3759},3338:t=>{t[a0_0x520a(353)]=pc}},n={};function _0x5f3500(t){const e=a0_0x520a;var i=n[t];if(void 0!==i)return i[e(353)];var o=n[t]={exports:{}};return s[t](o,o[e(353)],_0x5f3500),o[e(353)]}_0x5f3500.d=(t,e)=>{const s=a0_0x520a;for(var n in e)_0x5f3500.o(e,n)&&!_0x5f3500.o(t,n)&&Object[s(3104)](t,n,{enumerable:!0,get:e[n]})},_0x5f3500.g=function(){const t=a0_0x520a;if(t(1912)==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if(t(1912)==typeof window)return window}}(),_0x5f3500.o=(e,s)=>Object[t(495)][t(983)].call(e,s),_0x5f3500.r=e=>{const s=t;s(1270)!=typeof Symbol&&Symbol[s(2692)]&&Object[s(3104)](e,Symbol.toStringTag,{value:s(1468)}),Object.defineProperty(e,s(3500),{value:!0})},e=_0x5f3500(8145),_0x5f3500(5503),function _0x67971(e){const s=t;e[s(3079)]()[s(3855)](e)}(_0x5f3500(3539)),e[t(1461)][t(617)]=103518900})();var SetSkyBox=pc.createScript("setSkyBox");SetSkyBox.attributes.add("skyBox",{type:"asset"}),SetSkyBox.attributes.add("fogColorPicker",{type:"rgb"}),SetSkyBox.prototype.postInitialize=function(){this.app.scene.skybox=this.skyBox.resource,setTimeout((()=>{this.app.scene.fogColor=this.fogColorPicker}),1e3)};var Movement=pc.createScript("movement");Movement.prototype.initialize=function(){this.time=0},Movement.prototype.update=function(t){this.time+=t,this.entity.setPosition(new pc.Vec3(5*Math.sin(-this.time),0,5*Math.cos(-this.time)))};var ActivateTireMark=pc.createScript("activateTireMark");ActivateTireMark.attributes.add("skidMarks",{type:"entity"}),ActivateTireMark.prototype.initialize=function(){this.trail=this.skidMarks.script.trail},ActivateTireMark.prototype.update=function(t){this.trail.active=!0};var Trail=pc.createScript("trail");Trail.attributes.add("numQuads",{title:"numQuads",type:"number",default:32}),Trail.attributes.add("quadWidth",{title:"quadWidth",type:"number",default:.5}),Trail.attributes.add("quadLength",{title:"quadLength",type:"number",default:.5}),Trail.attributes.add("source",{title:"sourceName",type:"entity"}),Trail.attributes.add("texture",{title:"texture",type:"asset"}),Trail.prototype.initialize=function(){this.entity=this.entity,this.lastPos=new pc.Vec3,this.tmp=new pc.Vec3,this.end=0,this.active=!1;var t,i=[],s=[];this.numPoints=this.numQuads+1,this.positions=new Float32Array(4*this.numPoints),this.tex=this.texture.resource,this.quadWidth,this.quadLength;var e,a=0;for(t=0;t<this.numPoints;t++)e=t,i.push(0),i.push(.5),i.push(e),i.push(0),i.push(-.5),i.push(e);for(t=0;t<this.numQuads;t++)s.push(a),s.push(a+1),s.push(a+3),s.push(a+3),s.push(a+2),s.push(a),a+=2;var r=this.app.graphicsDevice;h=pc.scene.procedural.createMesh(r,i,{indices:s}),n=new pc.Material,n.cullMode=pc.CULLFACE_NONE,n.alphaWrite=!1,n.blend=!0,n.blendType=pc.BLEND_NORMAL,n.depthWrite=!1,n.setShader(pc.shaderChunks.createShaderFromCode(r,"#define KEYS "+this.numPoints+"\n"+this.app.assets.find("trailVS").resource,this.app.assets.find("trailPS").resource,"trail")),this.material=n;var u=this.entity.model.model.meshInstances[0];u.node=this.entity,u.mesh=h,u.material=n,this.material.setParameter("width",this.quadWidth),this.material.setParameter("textureD",this.tex)},Trail.prototype.update=function(t){var i=this.source.getPosition();this.material.setParameter("sourcePos",i.data);var s=this.tmp.copy(this.lastPos).sub(i).length();if(this.material.setParameter("dist",s/this.quadLength),this.material.setParameter("end",this.end),s>this.quadLength){this.lastPos.copy(i);for(var e=4*this.numPoints-1;e>=4;e--)this.positions[e]=this.positions[e-4];this.positions[0]=i.x,this.positions[1]=i.y,this.positions[2]=i.z,this.positions[3]=this.active,this.end++,this.end===this.numPoints&&(this.end=this.numPoints-1),this.material.setParameter("positions[0]",this.positions),this.material.setParameter("dist",0),this.material.setParameter("end",this.end)}};var Ribbon=pc.createScript("ribbon");Ribbon.attributes.add("lifetime",{type:"number",default:.5}),Ribbon.attributes.add("xoffset",{type:"number",default:-.8}),Ribbon.attributes.add("yoffset",{type:"number",default:1}),Ribbon.attributes.add("height",{type:"number",default:.4});var MAX_VERTICES=600,VERTEX_SIZE=4;Ribbon.prototype.initialize=function(){var e={attributes:{aPositionAge:pc.SEMANTIC_POSITION},vshader:["attribute vec4 aPositionAge;","","uniform mat4 matrix_viewProjection;","uniform float trail_time;","","varying float vAge;","","void main(void)","{","    vAge = trail_time - aPositionAge.w;","    gl_Position = matrix_viewProjection * vec4(aPositionAge.xyz, 1.0);","}"].join("\n"),fshader:["precision mediump float;","","varying float vAge;","","uniform float trail_lifetime;","","vec3 rainbow(float x)","{","float level = floor(x * 6.0);","float r = float(level <= 2.0) + float(level > 4.0) * 0.5;","float g = max(1.0 - abs(level - 2.0) * 0.5, 0.0);","float b = (1.0 - (level - 4.0) * 0.5) * float(level >= 4.0);","return vec3(r, g, b);","}","void main(void)","{","    gl_FragColor = vec4(rainbow(vAge / trail_lifetime), (1.0 - (vAge / trail_lifetime)) * 0.5);","}"].join("\n")},t=new pc.Shader(this.app.graphicsDevice,e);this.material=new pc.Material,this.material.shader=t,this.material.setParameter("trail_time",0),this.material.setParameter("trail_lifetime",this.lifetime),this.material.cull=pc.CULLFACE_NONE,this.material.blend=!0,this.material.blendSrc=pc.BLENDMODE_SRC_ALPHA,this.material.blendDst=pc.BLENDMODE_ONE_MINUS_SRC_ALPHA,this.material.blendEquation=pc.BLENDEQUATION_ADD,this.material.depthWrite=!1,this.timer=0,this.vertices=[],this.vertexData=new Float32Array(MAX_VERTICES*VERTEX_SIZE),this.vertexIndexArray=[];for(var i=0;i<this.vertexData.length;++i)this.vertexIndexArray.push(i);this.mesh=new pc.Mesh(this.app.graphicsDevice),this.mesh.clear(!0,!1),this.mesh.setPositions(this.vertexData,VERTEX_SIZE,MAX_VERTICES),this.mesh.setIndices(this.vertexIndexArray,MAX_VERTICES),this.mesh.update(pc.PRIMITIVE_TRISTRIP);var a=new pc.MeshInstance(this.mesh,this.material);this.entity.addComponent("render",{meshInstances:[a],layers:[this.app.scene.layers.getLayerByName("World").id]}),this.entity.render.enabled=!1},Ribbon.prototype.reset=function(){this.timer=0,this.vertices=[]},Ribbon.prototype.spawnNewVertices=function(){var e=this.entity,t=e.getPosition(),i=e.up.clone().scale(this.height),a=this.xoffset,r=this.yoffset,s=this.timer,h=[t.x+i.x*a,t.y+i.y*a,t.z+i.z*a,t.x+i.x*r,t.y+i.y*r,t.z+i.z*r];this.vertices.unshift({spawnTime:s,vertexPair:h})},Ribbon.prototype.clearOldVertices=function(){for(var e=this.vertices.length-1;e>=0;e--){var t=this.vertices[e];if(!(this.timer-t.spawnTime>=this.lifetime))break;this.vertices.pop()}},Ribbon.prototype.prepareVertexData=function(){for(var e=0;e<this.vertices.length;e++){var t=this.vertices[e];if(this.vertexData[8*e+0]=t.vertexPair[0],this.vertexData[8*e+1]=t.vertexPair[1],this.vertexData[8*e+2]=t.vertexPair[2],this.vertexData[8*e+3]=t.spawnTime,this.vertexData[8*e+4]=t.vertexPair[3],this.vertexData[8*e+5]=t.vertexPair[4],this.vertexData[8*e+6]=t.vertexPair[5],this.vertexData[8*e+7]=t.spawnTime,this.vertexData.length===e)break}},Ribbon.prototype.update=function(e){if(this.timer+=e,this.material.setParameter("trail_time",this.timer),this.clearOldVertices(),this.spawnNewVertices(),this.vertices.length>1){this.prepareVertexData();var t=2*this.vertices.length,i=MAX_VERTICES;t<i&&(i=t),this.mesh.setPositions(this.vertexData,VERTEX_SIZE,i),this.mesh.setIndices(this.vertexIndexArray,i),this.mesh.update(pc.PRIMITIVE_TRISTRIP),this.entity.render.enabled=!0}};pc.script.createLoadingScreen((function(e){var a,t;a=["body {","   background: rgb(15,15,15);","   background: linear-gradient(0deg, rgba(15,15,15,1) 0%, rgba(35,46,48,1) 100%);","}","","#application-splash-wrapper {","    position: absolute;","    top: 0;","    left: 0;","    height: 100%;","    width: 100%;","   background: rgb(15,15,15);","   background: linear-gradient(0deg, rgba(15,15,15,1) 0%, rgba(35,46,48,1) 100%);","}","","#application-splash {","    position: absolute;","    top: calc(50% - 40px);","    width: 264px;","    left: calc(50% - 132px);","}","","#application-splash img {","    width: 100%;","}","","#progress-bar-container {","    margin: 40px auto 0 auto;","    height: 30px;","    width: 100%;","    border-radius:15px;","    background-color: #414141;","}","","#progress-bar {","    width: 0%;","    height: 100%;","    border-radius:15px;","    background-color: #aeaeae;","}","","@media (max-width: 480px) {","    #application-splash {","        width: 170px;","        left: calc(50% - 85px);","    }","}"].join("\n"),(t=document.createElement("style")).type="text/css",t.styleSheet?t.styleSheet.cssText=a:t.appendChild(document.createTextNode(a)),document.head.appendChild(t),function(){var e=document.createElement("div");e.id="application-splash-wrapper",document.body.appendChild(e);var a=document.createElement("div");a.id="application-splash",e.appendChild(a),a.style.display="none";var t=document.createElement("img");t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAArCAYAAACXblYnAAAPrklEQVR4nO1dCZAWxRX+/mVlRZcb5daoHCZGUFKgEA0eFa0YlXglMWqMqGgMEVHjhShBTESJJvFCREPUGDUqKKDiDd5gBLGCAsohl8IiC+qy7NWp1q/Lrk5f81/Lkvmqpv6je9709HS/fv2uyQghAGAUgHPxNbbBjWYASgF8wHP+7ambK37DNrUBUANA8NgZQAZANX+XANgVwKcARgB4pYBtSpFih4JkANcA+H2WNzUIwBsF6JC/Avhtluf2BbAwz+1JkWKHhFw9T8rhxu4tQKf80DP53wWwL4A+lBDettQZXIA2pUixQ0KJz9lCTsYZADrlqXOOBvCIp/wtAIsBvAfgDgD9AfzZqNM8HaopUsRB7ufrcuyrHwNYB2A+gKcAVHCPnok4t4F6hV4ATgTQIVD/TABbAKwC8CSAFQBGAjiGNBTNXCHpXQZgDfUMXQA8SqZjg9xCDQSwnnWfAXBjZBsGADiS7Zf3/wmApQBeBjA3ksae1MnU8gD7XzL4LwAsAjANwOcBOvtz+1UJoF6jU8p7m08GXeGhcTGAYwGsDVyrI4DXAVzrKG/GMdEPwE5s0yIuODUB2jr2oZS7G8f6BgDPcRHxoQWASVxkJgCYHKh/PYAT+NwusJTLfvkpgNXGPcp+XgngeQBPe+i3BvAXfn4ZaEt3tnl6oB4ghPhANE18IoQol0pMIcQo7Q5G8r9cjsscPdLfQXOeUe/5iGsfLIRYHOh5+WwGRdAaGPkEhwXoHBlJ5zwPjVmRNCTedtDoKYRY4zhnmxDirMhnO9pz7ZeFEB0857YUQmxh3YkR13qDdVcLIZpZyh+J6I8lQoheDvqdhBA1Cfp2TEwflQQ5xPYLuYL8iK0LrTZJUe+of7Xjf7N+SKoaQeVpr0C93gBeozTigy71NHCFrLG04y4AfwjQUljONko9ywIAVVrZRE+bqvkpaJlZS6nGPMByE7vxul34fyXbou6lOXVPRwfafymAsdrvVZRiFKSu6NnIvnCNBx3qGdQ66qvyOuqy5nFL+5FWpyfLeljOV1Ywia2UTm39qvp0Y8yNNWUGIHEwP7sW6XrHAzg1RxqjLHqLEMYDuCGyrhThywDsQd3M7gBu0sqvBPDLCDojaeWRIvCB1BX9TisfT4WtC5upI+rKtpiHbOMQR/vb87tkVm0B7M3rn6fV81l69mH7QJH7O7x2R5YpUbuQZmwXKjluB/CzB/toJutLM/fjARr/AtCNh9mv3dm3t8c0pqkzgOHcF44u4jVvBlCe5blyQo1zlNVRv+GSHi6nbiKELSz/lKvABq7WJ2vnXRpBx6bDmcB9ucJVnvOFpo+otRw2CWUXjalMI7NUqOGeXDLhC6l3cuEYbWxLpvG+Vm8Zy+U+/U8R/VAMrKXe5AFea3+ObRdUv9V7+jZKF9bUGYAUB79dZM1/J2MlTAKbYlA+rHPo8NSBn2c7FHYx4rvrmT5mDLADA3RcStypAB7i98O4Oic534d9tNX/MUc9qdi6NUBHSYSfUrlmw510aNuecIXGNA/3tCtv87apM4DGwjUUK5NAPtDvG/Wlhn4/APdQs1vLz3s5GdYb9ftSk5wtpmrnHZYDnZna9255fAaV2ve9cqCjtOS7a7qEpoA1lHzA7VPBkQsDqKQ4O5DKLDmg/pYFnW0UqxWdwVRWiYhzGxM3Jbz2Tyz/yZX+Q0f9DY69ekj55cNmraxlDnQ2ad93ctTJ5vmtotITNA+ekgUNaO7gGTLTVlnSaQx8wWu29MzPfJi6v0Jplud9zAmra9+l7Xo2mcBLtHGGIDneIbTn63TmAJhCm2pZ9reXN6i4gxYawWO4b5sReRFzRZMa2ycC58yijkOXNkKWAx8O1crm50BH97asdNQpoSi+hoo8/f967uFtA/liaseb0edgMRV+Nfx+N76xIrjwMheR8yh5rSdjWc8JNlNbabc3KMlspWeiK+bdxWASyl9ik+M860NKiloqalymN8l9T4ukeawx+XW86dASNwbm0gnDhIqh2BzRpo7G77cCgVcKc4zfe2R5/1JxeRa/r/fsjUPoqgWObSLDtqE1lW9bOJj1Y4nBFHTMpX5CjYvelAROo1lvHZ2yQhLM+ZoZUC4iRwD4OfUtU6kgjR2nxcJwbaH4j+eaJ5OJrjL6dVkCB7SvkA0DmMwH6MPDAN4J1HmU9mUfZhUo2CgpOtMH4FXjvH6MSfBppBVMbh7b96aUFrJJ28rbcsIr5vEAbck+VFvKutHLsQ1/T9SsDjaUWA5wdffd/wIqF+VA/ydt4/qCcxInSMhz9FrSGQPgRUoQSsRux35IupXLFa6t0ZmGcvMez3Uygb6NRjZbgFmR9WZygrjg8/nXMYPbjcZEK06sqyle6hgb6U5tiq2DuCp/4aivYAY3uSQmBSlCDqPEsZVKxtO1Z/1epBXjVFo8OpAZDDYCx96nMtSFaq5GlTTvKbSghSPkzipoCdCtAT3pcnsK7d2TDLOkDcuNaNcSni/btgdNoi+QsfnaEkKszkP6M1xCxllKu//pxjbvejoKuTCf997OsLbsRjfnaJRmYa7xcXwdIb/zz/JEx0Q25qdYzKbkotvU20Weu9z43Z6D9z7POUM46HW4RG6FwZ6IyFcZuxGjRDqDhw3zuH3zMb6tdMap8tRJiqW0gtxAv4gTOHEWJaDTQAlVPsvFZO4nBhhAzJhSfVFKJuPq4108viAgsxoTuNbblL5yRklSkYE25Bj0DdQZEEnngITtK5RpU/kajIhYvWx4yPLfJE9/yhXu75b/n8zi2vO4eh+agIHXUUdRw099a/GgxURpIjYgLBvcr52T1ByrICUyFdxl82Wo1XQ0MVaE7vz8LMBgheaqXWMENilnpxBclpfEKKG5KQliFHOtNT99F86MoLMrV5okCInUuULuRa/LgsZci+KtjPvbi7iv3oX79eFc7Vob9d8ybPA23MmJty/F/93JbEPupSbOpXjanZ/na+WjcvCGDKEkgonr5bbJlolc2BRTt+lNqmntAsdyG0sdhYEaE3nNUw9UnPZk/3XkGFAxCc0D3pX5QD9u774FdqRP2WDDERF7yIkRonHviJsdzwEci81ZrpBJMZ4TNykuttSXg/UWaqUreNzqMH9eEnE9tTIvpmiclMErqGASRW+yZl+XeoGfBc7P1o9jHF2OfdB9KmwxAe25VfNJj3JC/4rfP3LUUWba9g4rEDiH7tJ+PxVoewP7tFYzoerz4BcBZoMc+vYixj88yC3p0Sos8KoEYYYKt1jCC9sIIaYnpDPZEj65qxBiWkI6MnRz/zyEAsvjEoO2DD1ubtQ5zNOWZzy0f53wvhQu99A8SKt3XQ73rYcDn2Ap1+/5dQeNJ1i+iSG18r8Sz6Gf204IUcXz5TjqYaE/XGvDfYHnV8f6pZZQXxkOrHCoJyR4tVZvjhCiL8PQ5Rg9XgixTit/ztO3D7HOBiHEzpby2zU6l1rKOzIUWmKK9r+rbzPG+d0s4cQL9AoyPr0iejh+jc/5wO9mDHx9wvMVqvjAJwkhnhVC1CY8f7qjUwvJAMD22uBjAPI4I+H9nROgVywGII+HtTonexhAPSfPSiHEKsvxpRDifS2ngzruN+59JWk+JoT4WPt/heVcdfQRQmzW6sq2vMlJONsYp9cH+uQAy8SpJXPRsUgI0SIHBrCndp0VlgmsMwDZd8sd/brKMQ6+axlXS8xGZNhBTQmX5XHiq8NMCFLpGGxdtKQROmISgvTSkki4IFfZfSNo6QlBxuWJAdgmN7hQKCyylD+bYOxs0aQE/Tg7kPxCrsStAvfSXgjxdOD6wyP7RUoi73roSGm1LEBDJQRx3bM8Jmg0zQmcNCGILYnJVKPOeNMPQHBvt7SASp584h9JPZ8isZAKu7XUAK9yOMbI8qF0OV3D/zpHJppYQuVRb/r3d+febyOv90KCaLUNVA52zjEj8hrunZt59sVvUiF4HLXWexkmTqWkDCVpKae+o9ZSdg81/cfSStKWY3MDn0tMqrSNVN714mcnze/iI7oC+1Kb6fiQVq1D6FrclVaSZfRTCTnGgWOiAx3kbGMJ1C2Vs81mv1TRZByTEqybxWkN9HyUvhsH0Q/nTvVeABPP5Bh0UiyMSpDhJkWKpgRlQi1oUJzLEzBv0UYFRkyqphQpmiKKEg2b1BW4gaJFZZGi9LZSxHQ5FRXS6y9Fih0eSRhAPfc/jfHqLZkp5Y+NcN0UKXZoJHGbvaMR37t3Q0J/7xQpUkQgCQPI1qMsX4jV2KZIkSISSbYAja0YTPMXpigmetL1eindgFW0337ckm5jWR1Nua2Y2m4uIy7rjQjDUxlCvYBRjAcz1mWGJRLxHMYU6NmM+zPMu8qT0PQ4uhJPiQ7bdzgkPGVxLBhVAIebJMccS5uuaOQ2pceOefSmt93nHGePavd5OB1ylrFOLb9LnMQ60iX4SaNvpEfjlfy+gvU38vMVzR0+Q5r625du0+orx7PRBv0L+P8n/Bwa82ySrKqNvQKnEkCKYuFW5rVsSQeiu7XrvsSovb0Z+PMav2e05CUNFjNenWa27sL0bO35/RAt85Uw3gJ0IbNOHcH6rZinYayWl6ItXwQylO0dxGCwIJJMqlySUeaKshzTRKdIkQQyxdv36FlZERCnY/NpmAxBzb11NHP3N8zdKqz9OkbfvqSVPcAJr97+s4lbkh+wPW9EhCV/hSQ6gNPpEjmBjS+0H4CgH0A5b7Qp5XdP0bRxFl8fptyZb/e8qcfmi5JxOPK4/FYW8iUmg7Qwc+Xu28phfZtLXYF6w/AA5j2sowQyJCZjdVJHoDHMi1dbRCecstThJ0WR0UBXeJmLog/z7FVHvlJNwZYE1iVxlzF/hp43Us3Neu1tSTo6GNuKhUww0pmMYTq3Fl5JIJukoKU5vE8gRYqmgHIucip9+m0JUtiB2ns9c1YZA4jUvlwYbuw3M82X/uYmlVBnBoOjOhvXGGukmSun1LCaC7UM/DkqxABcHClpnsDGQjHfCZji/wej6fdyFDMID3ekVHOlHpNZffdk8s7jGGVZodGo4otlhpBZXGC8dTqjzc2hlABquQ0fQQZSwZVeYR6VkvsxQ1EPmgO9cDGAUM747QXRb0BJkSIBbmS48BSmtxvpeKX7Ckco8HomK23OFHXvGMlLX2F242ncWhygreYZer2qrNmfMUz8EUoC4/gKdTOR6TBaA2bzHZQHWTJR/w9c4cDDjDxn2yM2k8ulHoIpUmQJ115+EqWDq/hpJjCo556jU4Hs8zVUiFQbIlaG1/2QYlM6+VOkyAEuCSAGJRQ5utJsclGOD+JL7p0ep0nE9dLJFClS5Am5MAATfajN7McVPCZZh3qLyotUboTe+poiRYp8AcB/AZXWFoaxmIRqAAAAAElFTkSuQmCC",a.appendChild(t),t.onload=function(){a.style.display="block"};var p=document.createElement("div");p.id="progress-bar-container",a.appendChild(p);var o=document.createElement("div");o.id="progress-bar",p.appendChild(o)}(),e.on("preload:end",(function(){e.off("preload:progress")})),e.on("preload:progress",(function(e){var a=document.getElementById("progress-bar");a&&(e=Math.min(1,Math.max(0,e)),a.style.width=100*e+"%")})),e.on("start",(function(){var e=document.getElementById("application-splash-wrapper");e.parentElement.removeChild(e)}))}));var FadeBlack=pc.createScript("fadeBlack");FadeBlack.attributes.add("fadeTimeSecs",{type:"number",default:3,title:"Fade Time Secs"}),FadeBlack.prototype.initialize=function(){this.app.on("onFadingToBlack",this.startFading,this),this.app.on("onFadingOut",this.startFadingOut,this),this.fadingToBlack=!1,this.maxSceneExposure=this.app.scene.exposure,this.secsSinceFadeStarted=0},FadeBlack.prototype.startFading=function(){this.fadingToBlack=!0},FadeBlack.prototype.startFadingOut=function(){this.fadingToBlack=!1},FadeBlack.prototype.update=function(e){if(this.fadingToBlack){this.secsSinceFadeStarted+=e,this.secsSinceFadeStarted>this.fadeTimeSecs&&(this.secsSinceFadeStarted-=this.fadeTimeSecs);var t=this.secsSinceFadeStarted/this.fadeTimeSecs,a=Math.abs(2*(t-.5))*this.maxSceneExposure;this.app.scene.exposure=a}};var LookTest=pc.createScript("LookTest");LookTest.prototype.initialize=function(){},LookTest.prototype.update=function(t){const o=this.arrow,e=this.target,s=(new pc.Vec3).copy(e.getPosition());s.sub(o.getPosition()),s.normalize(),s.mulScalar(-1);const a=new pc.Mat4;a.setLookAt(pc.Vec3.ZERO,s,pc.Vec3.UP);const i=new pc.Quat;i.setFromMat4(a),o.setRotation(i)},LookTest.prototype.swap=function(){},LookTest.attributes.add("target",{type:"entity"}),LookTest.attributes.add("arrow",{type:"entity"});var EffectSimpleWater=pc.createScript("effectSimpleWater");EffectSimpleWater.attributes.add("materialAsset",{type:"asset",assetType:"material"}),EffectSimpleWater.attributes.add("noiseTexture",{type:"asset",assetType:"texture"}),EffectSimpleWater.attributes.add("subdivisions",{type:"number",title:"Subdivisions",default:100}),EffectSimpleWater.attributes.add("waveVertexLength",{type:"number",default:1,min:0}),EffectSimpleWater.attributes.add("waveVertexAmplitude",{type:"number",default:1,min:0}),EffectSimpleWater.attributes.add("waterTextureIntensity",{type:"number",title:"Water Texture Intensity",default:.75}),EffectSimpleWater.attributes.add("waterTextureSpeed",{type:"vec2"}),EffectSimpleWater.tmpVec2=new pc.Vec2,EffectSimpleWater.tmpOffset=new pc.Vec2,EffectSimpleWater.prototype.initialize=function(){this.timer=0,this.prepareMaterial(),this.generateWaterMesh(),this.on("attr",this.updateAttributes)},EffectSimpleWater.prototype.prepareMaterial=function(){this.material=this.materialAsset?this.materialAsset.resource:null,this.material&&(this.material.chunks.transformVS=EffectSimpleWater.transformVS,this.material.chunks.diffusePS=this.getDiffusePS(),this.material.update(),this.updateAttributes())},EffectSimpleWater.prototype.updateAttributes=function(e){"materialAsset"===e&&this.prepareMaterial(),this.material&&(this.noiseTexture&&this.material.setParameter("waveNoiseTexture",this.noiseTexture.resource),this.material.setParameter("waveVertexLength",this.waveVertexLength),this.material.setParameter("waveVertexAmplitude",this.waveVertexAmplitude),this.material.setParameter("waterTextureIntensity",this.waterTextureIntensity))},EffectSimpleWater.prototype.generateWaterMesh=function(){if(!this.material)return;const e=this.entity.model?this.entity.model:this.entity.render;if(!e)return;const t=e.meshInstances[0].aabb,i=2*t.halfExtents.x*.01,r=2*t.halfExtents.z*.01,a=this.subdivisions,n=i,s=r;var f,o,l,u=[],m=[],p=[];for(f=0;f<=a;f++)for(o=0;o<=a;o++){var c=new pc.Vec3(o*n/a-n/2,0,(a-f)*s/a-s/2);u.push(c.x,c.y,c.z),m.push(o/a,1-f/a)}for(f=0;f<a;f++)for(o=0;o<a;o++)p.push(o+f*(a+1)),p.push(o+1+f*(a+1)),p.push(o+1+(f+1)*(a+1)),p.push(o+f*(a+1)),p.push(o+1+(f+1)*(a+1)),p.push(o+(f+1)*(a+1));l=pc.calculateNormals(u,p);var d=pc.createMesh(this.app.graphicsDevice,u,{normals:l,uvs:m,indices:p}),h=new pc.MeshInstance(d,this.material);e.meshInstances=[h]},EffectSimpleWater.prototype.update=function(e){this.material&&(this.timer+=e,this.material.setParameter("waterWavesTime",this.timer),this.scrollWaterTexture(e))},EffectSimpleWater.prototype.scrollWaterTexture=function(e){var t=EffectSimpleWater.tmpVec2,i=EffectSimpleWater.tmpOffset;t.set(this.waterTextureSpeed.x,this.waterTextureSpeed.y),t.scale(e),i.copy(this.material.diffuseMapOffset),i.add(t),this.material.diffuseMapOffset=i,this.material.normalMapOffset=i,this.material.update()},EffectSimpleWater.prototype.swap=function(){this.initialize()},EffectSimpleWater.transformVS="\nuniform float waterWavesTime;\nuniform float waveVertexLength;\nuniform float waveVertexAmplitude;\n\nmat4 getModelMatrix() {\n    #ifdef DYNAMICBATCH\n    return getBoneMatrix(vertex_boneIndices);\n    #elif defined(SKIN)\n    return matrix_model * getSkinMatrix(vertex_boneIndices, vertex_boneWeights);\n    #elif defined(INSTANCING)\n    return mat4(instance_line1, instance_line2, instance_line3, instance_line4);\n    #else\n    return matrix_model;\n    #endif\n}\n\nvec4 getPosition() {\n    dModelMatrix = getModelMatrix();\n    vec3 localPos = vertex_position;\n\n    vec4 posW = dModelMatrix * vec4(localPos, 1.0);\n    posW.y += cos(posW.z * waveVertexLength + waterWavesTime) * waveVertexAmplitude * sin(posW.x * waveVertexLength + waterWavesTime);\n\n    dPositionW = posW.xyz;\n\n    vec4 screenPos = matrix_viewProjection * posW;\n    return screenPos;\n}\n\nvec3 getWorldPosition() {\n    return dPositionW;\n}\n",EffectSimpleWater.prototype.getDiffusePS=function(){return`\n${this.noiseTexture?"uniform sampler2D waveNoiseTexture;":""}\nuniform float waterWavesTime;\nuniform float waterTextureIntensity;\n\n#ifdef MAPCOLOR\nuniform vec3 material_diffuse;\n#endif\n\n#ifdef MAPTEXTURE\nuniform sampler2D texture_diffuseMap;\n#endif\n\nvoid getAlbedo() {\n    dAlbedo = vec3(1.0);\n\n    #ifdef MAPCOLOR\n    dAlbedo *= material_diffuse.rgb;\n    #endif\n\n    #ifdef MAPTEXTURE\n    ${this.noiseTexture?"\n    vec2 noiseCoords = $UV * 0.5 + sin(waterWavesTime) * 0.03;\n    vec3 waterNoise = gammaCorrectInput(texture2D(waveNoiseTexture, noiseCoords).$CH);\n    ":""}\n\n    vec3 waterMask = gammaCorrectInput(texture2D(texture_diffuseMap, $UV).$CH);\n\n    ${this.noiseTexture?"\n    dAlbedo.rgb += waterMask.r * waterTextureIntensity * waterNoise.r;\n    ":"\n    dAlbedo.rgb += waterMask.r * waterTextureIntensity;\n    "}    \n    #endif\n\n    #ifdef MAPVERTEX\n    dAlbedo *= gammaCorrectInput(saturate(vVertexColor.$VC));\n    #endif\n}\n`};var CollisionTest=pc.createScript("collisionTest");CollisionTest.prototype.initialize=function(){const o=this.entity.collision;console.log(o)},CollisionTest.prototype.update=function(o){};