<!DOCTYPE html>
<html lang="en-us">
    <title>Bank Robbery 2</title>
    <link rel="stylesheet" href="TemplateData/style.css">
    <script src="/iframes/sitelock.js"></script>

    <script>
        var YaGames;(()=>{var e=[(e,t,r)=>{var n=r(24),o=r(4),a=r(71),i=r(72),s="WebAssembly",c=o[s],d=7!==Error("e",{cause:7}).cause,l=function(e,t){var r={};r[e]=i(e,t,d),n({global:!0,constructor:!0,arity:1,forced:d},r)},u=function(e,t){if(c&&c[e]){var r={};r[e]=i(s+"."+e,t,d),n({target:s,stat:!0,constructor:!0,arity:1,forced:d},r)}};l("Error",(function(e){return function(t){return a(e,this,arguments)}})),l("EvalError",(function(e){return function(t){return a(e,this,arguments)}})),l("RangeError",(function(e){return function(t){return a(e,this,arguments)}})),l("ReferenceError",(function(e){return function(t){return a(e,this,arguments)}})),l("SyntaxError",(function(e){return function(t){return a(e,this,arguments)}})),l("TypeError",(function(e){return function(t){return a(e,this,arguments)}})),l("URIError",(function(e){return function(t){return a(e,this,arguments)}})),u("CompileError",(function(e){return function(t){return a(e,this,arguments)}})),u("LinkError",(function(e){return function(t){return a(e,this,arguments)}})),u("RuntimeError",(function(e){return function(t){return a(e,this,arguments)}}))},(e,t,r)=>{"use strict";var n=r(24),o=r(56).includes,a=r(3),i=r(83);n({target:"Array",proto:!0,forced:a((function(){return!Array(1).includes()}))},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},(e,t,r)=>{var n=r(41),o=n.all;e.exports=n.IS_HTMLDDA?function(e){return"function"==typeof e||e===o}:function(e){return"function"==typeof e}},e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},(e,t,r)=>{var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},(e,t,r)=>{var n=r(19),o=Function.prototype,a=o.call,i=n&&o.bind.bind(a,a);e.exports=n?i:function(e){return function(){return a.apply(e,arguments)}}},(e,t,r)=>{var n=r(3);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},(e,t,r)=>{var n=r(5),o=r(16),a=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(o(e),t)}},(e,t,r)=>{var n=r(2),o=r(41),a=o.all;e.exports=o.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:n(e)||e===a}:function(e){return"object"==typeof e?null!==e:n(e)}},(e,t,r)=>{"use strict";var n=r(24),o=r(16),a=r(11),i=r(87),s=r(89);n({target:"Array",proto:!0,arity:1,forced:r(3)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=o(this),r=a(t),n=arguments.length;s(r+n);for(var c=0;c<n;c++)t[r]=arguments[c],r++;return i(t,r),r}})},(e,t,r)=>{var n=r(6),o=r(48),a=r(50),i=r(13),s=r(39),c=TypeError,d=Object.defineProperty,l=Object.getOwnPropertyDescriptor,u="enumerable",p="configurable",_="writable";t.f=n?a?function(e,t,r){if(i(e),t=s(t),i(r),"function"==typeof e&&"prototype"===t&&"value"in r&&_ in r&&!r[_]){var n=l(e,t);n&&n[_]&&(e[t]=r.value,r={configurable:p in r?r[p]:n[p],enumerable:u in r?r[u]:n[u],writable:!1})}return d(e,t,r)}:d:function(e,t,r){if(i(e),t=s(t),i(r),o)try{return d(e,t,r)}catch(e){}if("get"in r||"set"in r)throw c("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},(e,t,r)=>{var n=r(69);e.exports=function(e){return n(e.length)}},(e,t,r)=>{var n=r(6),o=r(10),a=r(25);e.exports=n?function(e,t,r){return o.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},(e,t,r)=>{var n=r(8),o=String,a=TypeError;e.exports=function(e){if(n(e))return e;throw a(o(e)+" is not an object")}},(e,t,r)=>{"use strict";var n,o,a,i=r(95),s=r(6),c=r(4),d=r(2),l=r(8),u=r(7),p=r(35),_=r(45),m=r(12),h=r(51),g=r(10).f,f=r(26),v=r(96),y=r(34),E=r(15),w=r(30),A=r(53),b=A.enforce,O=A.get,S=c.Int8Array,P=S&&S.prototype,T=c.Uint8ClampedArray,C=T&&T.prototype,k=S&&v(S),I=P&&v(P),R=Object.prototype,x=c.TypeError,L=E("toStringTag"),D=w("TYPED_ARRAY_TAG"),N="TypedArrayConstructor",M=i&&!!y&&"Opera"!==p(c.opera),U=!1,G={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},F={BigInt64Array:8,BigUint64Array:8},B=function(e){var t=v(e);if(l(t)){var r=O(t);return r&&u(r,N)?r[N]:B(t)}},Y=function(e){if(!l(e))return!1;var t=p(e);return u(G,t)||u(F,t)};for(n in G)(a=(o=c[n])&&o.prototype)?b(a)[N]=o:M=!1;for(n in F)(a=(o=c[n])&&o.prototype)&&(b(a)[N]=o);if((!M||!d(k)||k===Function.prototype)&&(k=function(){throw x("Incorrect invocation")},M))for(n in G)c[n]&&y(c[n],k);if((!M||!I||I===R)&&(I=k.prototype,M))for(n in G)c[n]&&y(c[n].prototype,I);if(M&&v(C)!==I&&y(C,I),s&&!u(I,L))for(n in U=!0,g(I,L,{get:function(){return l(this)?this[D]:void 0}}),G)c[n]&&m(c[n],D,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:M,TYPED_ARRAY_TAG:U&&D,aTypedArray:function(e){if(Y(e))return e;throw x("Target is not a typed array")},aTypedArrayConstructor:function(e){if(d(e)&&(!y||f(k,e)))return e;throw x(_(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r,n){if(s){if(r)for(var o in G){var a=c[o];if(a&&u(a.prototype,e))try{delete a.prototype[e]}catch(r){try{a.prototype[e]=t}catch(e){}}}I[e]&&!r||h(I,e,r?t:M&&P[e]||t,n)}},exportTypedArrayStaticMethod:function(e,t,r){var n,o;if(s){if(y){if(r)for(n in G)if((o=c[n])&&u(o,e))try{delete o[e]}catch(e){}if(k[e]&&!r)return;try{return h(k,e,r?t:M&&k[e]||t)}catch(e){}}for(n in G)!(o=c[n])||o[e]&&!r||h(o,e,t)}},getTypedArrayConstructor:B,isView:function(e){if(!l(e))return!1;var t=p(e);return"DataView"===t||u(G,t)||u(F,t)},isTypedArray:Y,TypedArray:k,TypedArrayPrototype:I}},(e,t,r)=>{var n=r(4),o=r(46),a=r(7),i=r(30),s=r(44),c=r(43),d=n.Symbol,l=o("wks"),u=c?d.for||d:d&&d.withoutSetter||i;e.exports=function(e){return a(l,e)||(l[e]=s&&a(d,e)?d[e]:u("Symbol."+e)),l[e]}},(e,t,r)=>{var n=r(37),o=Object;e.exports=function(e){return o(n(e))}},(e,t,r)=>{var n=r(68);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},(e,t,r)=>{var n=r(19),o=Function.prototype.call;e.exports=n?o.bind(o):function(){return o.apply(o,arguments)}},(e,t,r)=>{var n=r(3);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},(e,t,r)=>{var n=r(36),o=r(37);e.exports=function(e){return n(o(e))}},(e,t,r)=>{var n=r(5),o=n({}.toString),a=n("".slice);e.exports=function(e){return a(o(e),8,-1)}},(e,t,r)=>{var n=r(4),o=r(2),a=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?a(n[e]):n[e]&&n[e][t]}},(e,t,r)=>{var n=r(4),o=r(6),a=r(90),i=r(91),s=r(3),c=n.RegExp,d=c.prototype;o&&s((function(){var e=!0;try{c(".","d")}catch(t){e=!1}var t={},r="",n=e?"dgimsy":"gimsy",o=function(e,n){Object.defineProperty(t,e,{get:function(){return r+=n,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var i in e&&(a.hasIndices="d"),a)o(i,a[i]);return Object.getOwnPropertyDescriptor(d,"flags").get.call(t)!==n||r!==n}))&&a(d,"flags",{configurable:!0,get:i})},(e,t,r)=>{var n=r(4),o=r(58).f,a=r(12),i=r(51),s=r(29),c=r(54),d=r(70);e.exports=function(e,t){var r,l,u,p,_,m=e.target,h=e.global,g=e.stat;if(r=h?n:g?n[m]||s(m,{}):(n[m]||{}).prototype)for(l in t){if(p=t[l],u=e.dontCallGetSet?(_=o(r,l))&&_.value:r[l],!d(h?l:m+(g?".":"#")+l,e.forced)&&void 0!==u){if(typeof p==typeof u)continue;c(p,u)}(e.sham||u&&u.sham)&&a(p,"sham",!0),i(r,l,p,e)}}},e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},(e,t,r)=>{var n=r(5);e.exports=n({}.isPrototypeOf)},(e,t,r)=>{var n=r(2),o=r(45),a=TypeError;e.exports=function(e){if(n(e))return e;throw a(o(e)+" is not a function")}},(e,t,r)=>{var n=r(4),o=r(29),a="__core-js_shared__",i=n[a]||o(a,{});e.exports=i},(e,t,r)=>{var n=r(4),o=Object.defineProperty;e.exports=function(e,t){try{o(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},(e,t,r)=>{var n=r(5),o=0,a=Math.random(),i=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+i(++o+a,36)}},(e,t,r)=>{var n=r(46),o=r(30),a=n("keys");e.exports=function(e){return a[e]||(a[e]=o(e))}},e=>{e.exports={}},e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(e,t,r)=>{var n=r(5),o=r(13),a=r(73);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return o(r),a(n),t?e(r,n):r.__proto__=n,r}}():void 0)},(e,t,r)=>{var n=r(78),o=r(2),a=r(21),i=r(15)("toStringTag"),s=Object,c="Arguments"==a(function(){return arguments}());e.exports=n?a:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=s(e),i))?r:c?a(t):"Object"==(n=a(t))&&o(t.callee)?"Arguments":n}},(e,t,r)=>{var n=r(5),o=r(3),a=r(21),i=Object,s=n("".split);e.exports=o((function(){return!i("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?s(e,""):i(e)}:i},(e,t,r)=>{var n=r(38),o=TypeError;e.exports=function(e){if(n(e))throw o("Can't call method on "+e);return e}},e=>{e.exports=function(e){return null==e}},(e,t,r)=>{var n=r(40),o=r(42);e.exports=function(e){var t=n(e,"string");return o(t)?t:t+""}},(e,t,r)=>{var n=r(18),o=r(8),a=r(42),i=r(61),s=r(62),c=r(15),d=TypeError,l=c("toPrimitive");e.exports=function(e,t){if(!o(e)||a(e))return e;var r,c=i(e,l);if(c){if(void 0===t&&(t="default"),r=n(c,e,t),!o(r)||a(r))return r;throw d("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},e=>{var t="object"==typeof document&&document.all,r=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:r}},(e,t,r)=>{var n=r(22),o=r(2),a=r(26),i=r(43),s=Object;e.exports=i?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return o(t)&&a(t.prototype,s(e))}},(e,t,r)=>{var n=r(44);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},(e,t,r)=>{var n=r(59),o=r(3);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},(e,t,r)=>{var n=r(47),o=r(28);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.27.2",mode:n?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.27.2/LICENSE",source:"https://github.com/zloirock/core-js"})},e=>{e.exports=!1},(e,t,r)=>{var n=r(6),o=r(3),a=r(49);e.exports=!n&&!o((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},(e,t,r)=>{var n=r(4),o=r(8),a=n.document,i=o(a)&&o(a.createElement);e.exports=function(e){return i?a.createElement(e):{}}},(e,t,r)=>{var n=r(6),o=r(3);e.exports=n&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},(e,t,r)=>{var n=r(2),o=r(10),a=r(52),i=r(29);e.exports=function(e,t,r,s){s||(s={});var c=s.enumerable,d=void 0!==s.name?s.name:t;if(n(r)&&a(r,d,s),s.global)c?e[t]=r:i(t,r);else{try{s.unsafe?e[t]&&(c=!0):delete e[t]}catch(e){}c?e[t]=r:o.f(e,t,{value:r,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},(e,t,r)=>{var n=r(5),o=r(3),a=r(2),i=r(7),s=r(6),c=r(63).CONFIGURABLE,d=r(64),l=r(53),u=l.enforce,p=l.get,_=String,m=Object.defineProperty,h=n("".slice),g=n("".replace),f=n([].join),v=s&&!o((function(){return 8!==m((function(){}),"length",{value:8}).length})),y=String(String).split("String"),E=e.exports=function(e,t,r){"Symbol("===h(_(t),0,7)&&(t="["+g(_(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!i(e,"name")||c&&e.name!==t)&&(s?m(e,"name",{value:t,configurable:!0}):e.name=t),v&&r&&i(r,"arity")&&e.length!==r.arity&&m(e,"length",{value:r.arity});try{r&&i(r,"constructor")&&r.constructor?s&&m(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=u(e);return i(n,"source")||(n.source=f(y,"string"==typeof t?t:"")),e};Function.prototype.toString=E((function(){return a(this)&&p(this).source||d(this)}),"toString")},(e,t,r)=>{var n,o,a,i=r(65),s=r(4),c=r(8),d=r(12),l=r(7),u=r(28),p=r(31),_=r(32),m="Object already initialized",h=s.TypeError,g=s.WeakMap;if(i||u.state){var f=u.state||(u.state=new g);f.get=f.get,f.has=f.has,f.set=f.set,n=function(e,t){if(f.has(e))throw h(m);return t.facade=e,f.set(e,t),t},o=function(e){return f.get(e)||{}},a=function(e){return f.has(e)}}else{var v=p("state");_[v]=!0,n=function(e,t){if(l(e,v))throw h(m);return t.facade=e,d(e,v,t),t},o=function(e){return l(e,v)?e[v]:{}},a=function(e){return l(e,v)}}e.exports={set:n,get:o,has:a,enforce:function(e){return a(e)?o(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!c(t)||(r=o(t)).type!==e)throw h("Incompatible receiver, "+e+" required");return r}}}},(e,t,r)=>{var n=r(7),o=r(66),a=r(58),i=r(10);e.exports=function(e,t,r){for(var s=o(t),c=i.f,d=a.f,l=0;l<s.length;l++){var u=s[l];n(e,u)||r&&n(r,u)||c(e,u,d(t,u))}}},(e,t,r)=>{var n=r(5),o=r(7),a=r(20),i=r(56).indexOf,s=r(32),c=n([].push);e.exports=function(e,t){var r,n=a(e),d=0,l=[];for(r in n)!o(s,r)&&o(n,r)&&c(l,r);for(;t.length>d;)o(n,r=t[d++])&&(~i(l,r)||c(l,r));return l}},(e,t,r)=>{var n=r(20),o=r(67),a=r(11),i=function(e){return function(t,r,i){var s,c=n(t),d=a(c),l=o(i,d);if(e&&r!=r){for(;d>l;)if((s=c[l++])!=s)return!0}else for(;d>l;l++)if((e||l in c)&&c[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:i(!0),indexOf:i(!1)}},(e,t,r)=>{var n=r(98),o=r(36),a=r(16),i=r(11),s=function(e){var t=1==e;return function(r,s,c){for(var d,l=a(r),u=o(l),p=n(s,c),_=i(u);_-- >0;)if(p(d=u[_],_,l))switch(e){case 0:return d;case 1:return _}return t?-1:void 0}};e.exports={findLast:s(0),findLastIndex:s(1)}},(e,t,r)=>{var n=r(6),o=r(18),a=r(108),i=r(25),s=r(20),c=r(39),d=r(7),l=r(48),u=Object.getOwnPropertyDescriptor;t.f=n?u:function(e,t){if(e=s(e),t=c(t),l)try{return u(e,t)}catch(e){}if(d(e,t))return i(!o(a.f,e,t),e[t])}},(e,t,r)=>{var n,o,a=r(4),i=r(60),s=a.process,c=a.Deno,d=s&&s.versions||c&&c.version,l=d&&d.v8;l&&(o=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&i&&(!(n=i.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=i.match(/Chrome\/(\d+)/))&&(o=+n[1]),e.exports=o},e=>{e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},(e,t,r)=>{var n=r(27),o=r(38);e.exports=function(e,t){var r=e[t];return o(r)?void 0:n(r)}},(e,t,r)=>{var n=r(18),o=r(2),a=r(8),i=TypeError;e.exports=function(e,t){var r,s;if("string"===t&&o(r=e.toString)&&!a(s=n(r,e)))return s;if(o(r=e.valueOf)&&!a(s=n(r,e)))return s;if("string"!==t&&o(r=e.toString)&&!a(s=n(r,e)))return s;throw i("Can't convert object to primitive value")}},(e,t,r)=>{var n=r(6),o=r(7),a=Function.prototype,i=n&&Object.getOwnPropertyDescriptor,s=o(a,"name"),c=s&&"something"===function(){}.name,d=s&&(!n||n&&i(a,"name").configurable);e.exports={EXISTS:s,PROPER:c,CONFIGURABLE:d}},(e,t,r)=>{var n=r(5),o=r(2),a=r(28),i=n(Function.toString);o(a.inspectSource)||(a.inspectSource=function(e){return i(e)}),e.exports=a.inspectSource},(e,t,r)=>{var n=r(4),o=r(2),a=n.WeakMap;e.exports=o(a)&&/native code/.test(String(a))},(e,t,r)=>{var n=r(22),o=r(5),a=r(109),i=r(110),s=r(13),c=o([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=a.f(s(e)),r=i.f;return r?c(t,r(e)):t}},(e,t,r)=>{var n=r(17),o=Math.max,a=Math.min;e.exports=function(e,t){var r=n(e);return r<0?o(r+t,0):a(r,t)}},e=>{var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?r:t)(n)}},(e,t,r)=>{var n=r(17),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},(e,t,r)=>{var n=r(3),o=r(2),a=/#|\.prototype\./,i=function(e,t){var r=c[s(e)];return r==l||r!=d&&(o(t)?n(t):!!t)},s=i.normalize=function(e){return String(e).replace(a,".").toLowerCase()},c=i.data={},d=i.NATIVE="N",l=i.POLYFILL="P";e.exports=i},(e,t,r)=>{var n=r(19),o=Function.prototype,a=o.apply,i=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?i.bind(a):function(){return i.apply(a,arguments)})},(e,t,r)=>{"use strict";var n=r(22),o=r(7),a=r(12),i=r(26),s=r(34),c=r(54),d=r(74),l=r(75),u=r(76),p=r(79),_=r(80),m=r(6),h=r(47);e.exports=function(e,t,r,g){var f="stackTraceLimit",v=g?2:1,y=e.split("."),E=y[y.length-1],w=n.apply(null,y);if(w){var A=w.prototype;if(!h&&o(A,"cause")&&delete A.cause,!r)return w;var b=n("Error"),O=t((function(e,t){var r=u(g?t:e,void 0),n=g?new w(e):new w;return void 0!==r&&a(n,"message",r),_(n,O,n.stack,2),this&&i(A,this)&&l(n,this,O),arguments.length>v&&p(n,arguments[v]),n}));if(O.prototype=A,"Error"!==E?s?s(O,b):c(O,b,{name:!0}):m&&f in w&&(d(O,w,f),d(O,w,"prepareStackTrace")),c(O,w),!h)try{A.name!==E&&a(A,"name",E),A.constructor=O}catch(e){}return O}}},(e,t,r)=>{var n=r(2),o=String,a=TypeError;e.exports=function(e){if("object"==typeof e||n(e))return e;throw a("Can't set "+o(e)+" as a prototype")}},(e,t,r)=>{var n=r(10).f;e.exports=function(e,t,r){r in e||n(e,r,{configurable:!0,get:function(){return t[r]},set:function(e){t[r]=e}})}},(e,t,r)=>{var n=r(2),o=r(8),a=r(34);e.exports=function(e,t,r){var i,s;return a&&n(i=t.constructor)&&i!==r&&o(s=i.prototype)&&s!==r.prototype&&a(e,s),e}},(e,t,r)=>{var n=r(77);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:n(e)}},(e,t,r)=>{var n=r(35),o=String;e.exports=function(e){if("Symbol"===n(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},(e,t,r)=>{var n={};n[r(15)("toStringTag")]="z",e.exports="[object z]"===String(n)},(e,t,r)=>{var n=r(8),o=r(12);e.exports=function(e,t){n(t)&&"cause"in t&&o(e,"cause",t.cause)}},(e,t,r)=>{var n=r(12),o=r(81),a=r(82),i=Error.captureStackTrace;e.exports=function(e,t,r,s){a&&(i?i(e,t):n(e,"stack",o(r,s)))}},(e,t,r)=>{var n=r(5),o=Error,a=n("".replace),i=String(o("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,c=s.test(i);e.exports=function(e,t){if(c&&"string"==typeof e&&!o.prepareStackTrace)for(;t--;)e=a(e,s,"");return e}},(e,t,r)=>{var n=r(3),o=r(25);e.exports=!n((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",o(1,7)),7!==e.stack)}))},(e,t,r)=>{var n=r(15),o=r(84),a=r(10).f,i=n("unscopables"),s=Array.prototype;null==s[i]&&a(s,i,{configurable:!0,value:o(null)}),e.exports=function(e){s[i][e]=!0}},(e,t,r)=>{var n,o=r(13),a=r(111),i=r(33),s=r(32),c=r(86),d=r(49),l=r(31),u="prototype",p="script",_=l("IE_PROTO"),m=function(){},h=function(e){return"<"+p+">"+e+"</"+p+">"},g=function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t},f=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t,r;f="undefined"!=typeof document?document.domain&&n?g(n):(t=d("iframe"),r="java"+p+":",t.style.display="none",c.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F):g(n);for(var o=i.length;o--;)delete f[u][i[o]];return f()};s[_]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(m[u]=o(e),r=new m,m[u]=null,r[_]=e):r=f(),void 0===t?r:a.f(r,t)}},(e,t,r)=>{var n=r(55),o=r(33);e.exports=Object.keys||function(e){return n(e,o)}},(e,t,r)=>{var n=r(22);e.exports=n("document","documentElement")},(e,t,r)=>{"use strict";var n=r(6),o=r(88),a=TypeError,i=Object.getOwnPropertyDescriptor,s=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(o(e)&&!i(e,"length").writable)throw a("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},(e,t,r)=>{var n=r(21);e.exports=Array.isArray||function(e){return"Array"==n(e)}},e=>{var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},(e,t,r)=>{var n=r(52),o=r(10);e.exports=function(e,t,r){return r.get&&n(r.get,t,{getter:!0}),r.set&&n(r.set,t,{setter:!0}),o.f(e,t,r)}},(e,t,r)=>{"use strict";var n=r(13);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},(e,t,r)=>{"use strict";t.decode=t.parse=r(93),t.encode=t.stringify=r(94)},e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,r,n,o){r=r||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var i=/\+/g;e=e.split(r);var s=1e3;o&&"number"==typeof o.maxKeys&&(s=o.maxKeys);var c=e.length;s>0&&c>s&&(c=s);for(var d=0;d<c;++d){var l,u,p,_,m=e[d].replace(i,"%20"),h=m.indexOf(n);h>=0?(l=m.substr(0,h),u=m.substr(h+1)):(l=m,u="");try{p=decodeURIComponent(l),_=decodeURIComponent(u)}catch(e){console.warn(e);continue}t(a,p)?Array.isArray(a[p])?a[p].push(_):a[p]=[a[p],_]:a[p]=_}return a}},e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,r,n,o){return r=r||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(o){var a=encodeURIComponent(t(o))+n;return Array.isArray(e[o])?e[o].map((function(e){return a+encodeURIComponent(t(e))})).join(r):a+encodeURIComponent(t(e[o]))})).filter(Boolean).join(r):o?encodeURIComponent(t(o))+n+encodeURIComponent(t(e)):""}},e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},(e,t,r)=>{var n=r(7),o=r(2),a=r(16),i=r(31),s=r(97),c=i("IE_PROTO"),d=Object,l=d.prototype;e.exports=s?d.getPrototypeOf:function(e){var t=a(e);if(n(t,c))return t[c];var r=t.constructor;return o(r)&&t instanceof r?r.prototype:t instanceof d?l:null}},(e,t,r)=>{var n=r(3);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},(e,t,r)=>{var n=r(99),o=r(27),a=r(19),i=n(n.bind);e.exports=function(e,t){return o(e),void 0===t?e:a?i(e,t):function(){return e.apply(t,arguments)}}},(e,t,r)=>{var n=r(21),o=r(5);e.exports=function(e){if("Function"===n(e))return o(e)}},(e,t,r)=>{var n=r(101),o=RangeError;e.exports=function(e,t){var r=n(e);if(r%t)throw o("Wrong offset");return r}},(e,t,r)=>{var n=r(17),o=RangeError;e.exports=function(e){var t=n(e);if(t<0)throw o("The argument can't be less than 0");return t}},(e,t,r)=>{var n=r(11);e.exports=function(e,t){for(var r=n(e),o=new t(r),a=0;a<r;a++)o[a]=e[r-a-1];return o}},(e,t,r)=>{var n=r(11);e.exports=function(e,t){for(var r=0,o=n(t),a=new e(o);o>r;)a[r]=t[r++];return a}},(e,t,r)=>{var n=r(11),o=r(17),a=RangeError;e.exports=function(e,t,r,i){var s=n(e),c=o(r),d=c<0?s+c:c;if(d>=s||d<0)throw a("Incorrect index");for(var l=new t(s),u=0;u<s;u++)l[u]=u===d?i:e[u];return l}},(e,t,r)=>{var n=r(35);e.exports=function(e){var t=n(e);return"BigInt64Array"==t||"BigUint64Array"==t}},(e,t,r)=>{var n=r(40),o=TypeError;e.exports=function(e){var t=n(e,"number");if("number"==typeof t)throw o("Can't convert number to bigint");return BigInt(t)}},,(e,t)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);t.f=o?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},(e,t,r)=>{var n=r(55),o=r(33).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},(e,t)=>{t.f=Object.getOwnPropertySymbols},(e,t,r)=>{var n=r(6),o=r(50),a=r(10),i=r(13),s=r(20),c=r(85);t.f=n&&!o?Object.defineProperties:function(e,t){i(e);for(var r,n=s(t),o=c(t),d=o.length,l=0;d>l;)a.f(e,r=o[l++],n[r]);return e}},(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(132),o=r(123),a=r(133),i=r(135);const s=Object.create(null),c={init(){},sendOnceDeprecatedUsage(e){e in s||(s[e]=1,this.params({borrowParams:{sdkDeprecatedUsage:{key:e,appId:(0,a.rh)()}},service:i.m_}))},params(e){o.Z.postToParent({type:"metrika",action:"params",data:e}).catch((e=>{(0,n.fF)(e)}))},reachGoal(e,t,r){o.Z.postToParent({type:"metrika",action:"reachGoal",data:{data:t,goal:e,params:r}}).catch((e=>{(0,n.fF)(e)}))}}},(e,t,r)=>{"use strict";var n=r(14),o=r(57).findLast,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLast",(function(e){return o(a(this),e,arguments.length>1?arguments[1]:void 0)}))},(e,t,r)=>{"use strict";var n=r(14),o=r(57).findLastIndex,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLastIndex",(function(e){return o(a(this),e,arguments.length>1?arguments[1]:void 0)}))},(e,t,r)=>{"use strict";var n=r(4),o=r(18),a=r(14),i=r(11),s=r(100),c=r(16),d=r(3),l=n.RangeError,u=n.Int8Array,p=u&&u.prototype,_=p&&p.set,m=a.aTypedArray,h=a.exportTypedArrayMethod,g=!d((function(){var e=new Uint8ClampedArray(2);return o(_,e,{length:1,0:3},1),3!==e[1]})),f=g&&a.NATIVE_ARRAY_BUFFER_VIEWS&&d((function(){var e=new u(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));h("set",(function(e){m(this);var t=s(arguments.length>1?arguments[1]:void 0,1),r=c(e);if(g)return o(_,this,r,t);var n=this.length,a=i(r),d=0;if(a+t>n)throw l("Wrong length");for(;d<a;)this[t+d]=r[d++]}),!g||f)},(e,t,r)=>{"use strict";var n=r(102),o=r(14),a=o.aTypedArray,i=o.exportTypedArrayMethod,s=o.getTypedArrayConstructor;i("toReversed",(function(){return n(a(this),s(this))}))},(e,t,r)=>{"use strict";var n=r(14),o=r(5),a=r(27),i=r(103),s=n.aTypedArray,c=n.getTypedArrayConstructor,d=n.exportTypedArrayMethod,l=o(n.TypedArrayPrototype.sort);d("toSorted",(function(e){void 0!==e&&a(e);var t=s(this),r=i(c(t),t);return l(r,e)}))},(e,t,r)=>{"use strict";var n=r(104),o=r(14),a=r(105),i=r(17),s=r(106),c=o.aTypedArray,d=o.getTypedArrayConstructor,l=o.exportTypedArrayMethod,u=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();l("with",{with:function(e,t){var r=c(this),o=i(e),l=a(r)?s(t):+t;return n(r,d(r),o,l)}}.with,!u)},(e,t,r)=>{"use strict";function n(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=Object.create(null);return[e.hash.replace(/^#/,""),e.search.replace(/^\?/,"")].join("&").split("&").forEach((e=>{const[n,o]=e.split("=");try{r[n]=t?decodeURIComponent(o):o}catch(e){console.warn(e)}})),r}r.d(t,{Z:()=>n})},(e,t,r)=>{"use strict";r.d(t,{xY:()=>f,NL:()=>H,NA:()=>h,kJ:()=>G,p4:()=>M,x2:()=>U,SB:()=>L,mS:()=>g,lb:()=>y});r(9);const n=["az","by","co.il","com","com.am","com.ge","com.tr","ee","fr","kg","kz","lt","lv","md","ru","tj","tm","uz"],o=["com"],a={az:["az"],by:["be","ru"],"co.il":["he"],com:["en","af","am","ar","az","be","bg","bn","ca","cs","da","de","el","en","es","et","eu","fa","fi","fr","gl","he","hi","hr","hu","hy","id","is","it","ja","ka","kk","km","kn","ko","ky","lo","lt","lv","mk","ml","mn","mr","ms","my","ne","nl","no","pl","pt","ro","ru","si","sk","sl","sr","sv","sw","ta","te","tg","th","tk","tl","tr","uk","ur","uz","vi","zh","zu"],"com.am":["hy"],"com.ge":["ka"],"com.tr":["tr"],ee:["et"],fr:["fr","en"],kz:["kk","ru"],lt:["lt"],lv:["lv"],md:["ro"],ru:["ru","en","be","uk","kk","uz"],tj:["tg"],tm:["tk"],uz:["uz"]};Object.keys(a).reduce(((e,t)=>(e[t]=a[t][0],e)),{});var i=r(121);var s,c;!function(e){e.CATEGORIZED="categorized",e.SUGGESTED="suggested",e.PLAYED="played",e.PROMOS="promos",e.ADV="adv",e.USER_PROFILE_RECENT_GAMES="user_profile_recent_games",e.USER_PROFILE_RECENT_GAMES_NEW="user_profile_recent_games_new",e.KINOPOISK="kinopoisk"}(s||(s={})),function(e){e.all="all",e.worldwide="worldwide",e.yan="yan"}(c||(c={}));var d,l;!function(e){e.ANDROID_OTHER="android_other",e.ANDROID_STANDALONE="android_standalone",e.ANDROID_YABRO="android_yabro",e.ANDROID_YASEARCH="android_yasearch",e.DESKTOP_OTHER="desktop_other",e.IOS_CHROME="ios_chrome",e.IOS_OTHER="ios_other",e.IOS_SAFARI="ios_safari",e.IOS_STANDALONE="ios_standalone",e.IOS_SUPERAPP="ios_superapp",e.MOBILE_OTHER="mobile_other",e.IGROTOK_LITE="igrotok_app_lite",e.IGROTOK_APP_ANDROID="igrotok_app_android"}(d||(d={})),function(e){e.GAME_REDIRECT="game-redirect",e.INSTALL="install",e.MAIN="main",e.PREVIEW="preview",e.PROFILE_NEW="profile-new",e.PROFILE="profile",e.PROMOS="promos"}(l||(l={}));var u,p,_,m,h;!function(e){e.DARK="dark",e.LIGHT="light"}(u||(u={})),function(e){e.DEFAULT="default",e.PLAYHOP="playhop"}(p||(p={})),function(e){e.CHROME_MOBILE="ChromeMobile",e.SAFARI_MOBILE="MobileSafari",e.STANDALONE="YandexGames",e.YA_SEARCH_APP="YaSearchApp",e.YANDEX_BROWSER="YandexBrowser",e.YANDEX_SEARCH="YandexSearch"}(_||(_={})),function(e){e.ANDROID="Android",e.IOS="iOS"}(m||(m={})),function(e){e.YAN="YAN",e.HOP="HOP"}(h||(h={}));Object.freeze(Object.values(d).reduce(((e,t)=>Object.assign(Object.assign({},e),{[t]:t})),{}));const g="/app";var f,v;!function(e){e.L="l",e.M="m",e.PAGE_ICON_DESKTOP="page_icon_desktop",e.PAGE_ICON_DESKTOP_WITH_PLAY="page_icon_desktop_with_play",e.PAGE_ICON_MOBILE="page_icon_mobile",e.PAGE_ICON_MOBILE_WITH_PLAY="page_icon_mobile_with_play",e.PAGE_SCROLLED_ICON_MOBILE="page_scrolled_icon_mobile",e.PREMIUM="premium",e.PREMIUM_BIG="premium_big",e.PROFILE_RECENT_GAMES="profile_recent_games",e.PROMO_BAR="promo_bar",e.RECOMMENDED_NEW="recommended_new",e.ADAPTIVE_RECOMMENDED_NEW="adaptive_recommended_new",e.S="s",e.SINGLE="single",e.SIZE_22="size22",e.SIZE_48="size48",e.SIZE_36="size36",e.YOUR_GAMES="your_games",e.YOUR_GAMES_S="your_games_s",e.TV="tv",e.CATEGORIZED_NEW_L="categorized_new_l"}(f||(f={})),function(e){e.PLAYED="played_games",e.CATEGORIZED="categorized-games",e.GRID="grid-list",e.PROMO="promos-page",e.PROFILE="profile-recent-games",e.BALANCE_SPEND="balance-spend",e.GAME_PAGE="game-page",e.MULTIMORDA="multimorda",e.UNKNOWN="unknown"}(v||(v={}));const y={achievementNotifier:"achievement_notifier",advOffForGalaxy:"adv_off_for_galaxy",advShowTimeoutFullscreen:"adv_show_fullscreen_timeout",advShowTimeoutRewarded:"adv_show_rewarded_timeout",advStickyBannerDisabled:"adv_sticky_banner_disabled",advStickyBannerNative:"adv_sticky_banner_native",advStickyBannerNativeBannerIds:"adv_sticky_banner_native_banner_ids",advStickyBannerNativeLibrary:"adv_sticky_banner_native_library",advHighDesktopGptStickyBlockIds:"adv_high_desktop_gpt_sticky_block_ids",advStickyBannerLandscapeAdditionalBlock:"adv_sticky_banner_landscape_additional_block",advStickyBannerMinPortraitViewportHeight:"adv_sticky_banner_min_portrait_viewport_height",advStickyBannerMinLandscapeViewportHeight:"adv_sticky_banner_min_landscape_viewport_height",advStickyBannerForcedHideAd:"adv_sticky_banner_forced_hide_ad",advStickyBannerGameLocations:"adv_sticky_banner_game_locations",advStickyBannerMinHeightForHigherAd:"adv_sticky_banner_min_height_for_higher_ad",advStickyBannerLoadTimeout:"adv_sticky_banner_load_timeout",advStickyBannerRefreshInterval:"adv_sticky_banner_refresh_interval",advStickyBannerDesktopWidth:"adv_sticky_banner_desktop_width",advStickyBannerPortraitHeight:"adv_sticky_banner_portrait_height",advStickyBannerLandscapeHeight:"adv_sticky_banner_landscape_height",advStickyBannerLandscapeWidth:"adv_sticky_banner_landscape_width",advGptStickyBannerIds:"adv_gpt_sticky_banner_ids",advYandexStickyBannerIds:"adv_yandex_sticky_banner_ids",advStickyBannerWhiteBackgroundOnDesktop:"adv_sticky_banner_white_background_on_desktop",adaptiveFeed:"adaptive_feed",adfoxVideoAdv:"adfox_video_adv",addGameShortcut:"add_game_shortcut",adsenseFullscreenPlacementType:"adsense_fullscreen_placement_type",isAdditionalTabletLandscapeBlockEnabled:"is_additional_tablet_landscape_block_enabled",adsenseAdChannel:"adsense_ad_channel",adScriptInitTimeout:"ad_script_init_timeout",adScriptAdsenseInitTimeout:"ad_script_adsense_init_timeout",alwaysShowGuard:"always_show_guard",alwaysShowUpdateNotifier:"always_show_update_notifier",azureMirror:"azure_mirror",asyncReact:"async_react",bannerCarousel:"bk",bannerCarouselDirect:"bk_direct",balancePopupWaitLoadTimeout:"balance_popup_wait_load_timeout",blurBackground:"blur_background",catalogGptAdPaths:"catalog_gpt_ad_paths",catalogGptBannerType:"catalog_gpt_banner_type",catalogLogWithHoc:"catalog_log_with_hoc",catalogShortcutOverhand:"catalog_shortcut_overhand",catalogSmallerPremiumBigPic:"catalog_smaller_premium_big_pic",categoriesToExclude:"categories_to_exclude",newCategorizedGames:"new_categorized_games",canOpenAdBlockPopup:"can_open_add_block_popup",catalogShortcutPromptInstallWaitingPeriod:"catalog_shortcut_prompt_install_waiting_period",catalogShortcutPromptMaxCallCount:"catalog_shortcut_prompt_max_call_count",catalogShortcutPromptWaitingPeriod:"catalog_shortcut_prompt_waiting_period",cfMirror:"cf_mirror",cfMirrorGameUrl:"cf_mirror_game_url",cfMirrorGameUrlAppId:"cf_mirror_game_url_appid",cfMirrorStatic:"cf_mirror_static",cfMirrorStaticBuild:"cf_mirror_static_build",dailyWelcomeBonus:"daily_welcome_bonus",delayAdsOnDesktop:"delay_ads_on_desktop",delayAdsOnTTI:"delay_ads_on_tti",delayAdsLoad:"delay_ads_load",disableAdButtonInSticky:"disable_ad_button_in_sticky",disableAdButtonInStickyWithAnimation:"disable_ad_button_in_sticky_with_animation",disableAdButtonInStickAnimationDelay:"disable_ad_button_in_sticky_animation_delay",delayInitYandexWaterfall:"delay_init_yandex_waterfall",delayLoadingMetrics:"delay_loading_metrics",delayLoadingMetricsTimeout:"delay_loading_metrics_timeout",delayLoadingPixelMetricsTimeout:"delay_loading_pixel_metrics_timeout",disableNativeAdv:"disable_native_adv",disableYandexWaterfall:"disable_yandex_waterfall",disableYandexWaterfallInCatalog:"disable_yandex_waterfall_in_catalog",disableAdButton:"disable_ad_button",earlyGame:"early_game",fakeFullscreenLoadTimeout:"fake_fullscreen_load_timeout",feedbackAlwaysShow:"feedback_always_show",gameAppPlayer:"game_app_player",gameAppPlayerControl:"game_app_player_control",gameAppPlayerSameTabInfo:"game_app_player_same_tab_info",gamePageDrawerEnabled:"game_page_drawer_enabled",gamePageExp:"game_page_exp",gamePageInvisible:"game_page_invisible",gamePageNoIcon:"game_page_no_icon",gamePageNoClick:"game_page_no_click",gametokPwaEnabled:"gametok_pwa_enabled",gametokPerformanceLevel:"gametok_performance_level",igtotokDelayBeforeNextGameLoading:"igrotok_delay_before_next_game_loading",gametokTimeToHidePlaceholder:"gametok_time_to_hide_placeholder",googleGptWaterfall:"google_gpt_waterfall",googleGDPR:"google_gdpr",yandexGDPR:"yandex_gdpr",guardDisabledForStandalone:"guard_disabled_for_standalone",hideAdvStickyBannerForNewUsers:"hide_adv_sticky_banner_for_new_users",hideTcfapiPopupAfterShow:"hide_tcfapi_popup_after_show",invalidateGamesCacheFrom:"invalidate_games_cache_from",iosHide:"ios_hide",isGoogleFakeFullscreenEnabled:"is_google_fake_fullscreen_enabled",kinopoiskAdvPage:"kinopoisk_adv_page",kinopoiskFeed:"kinopoisk_feed",kinopoiskPage:"kinopoisk_page",lockAdvScreenOrientation:"lock_adv_screen_orientation",mediation:"mediation",multiplePartnersPrebidAdv:"multiple_partners_prebid_adv",nativeFullscreenBlock:"native_fullscreen_block",nativeRewardedBlock:"native_rewarded_block",nativeYandexFullscreenBlock:"native_yandex_fullscreen_block",nativeYandexRewardedBlock:"native_yandex_fullscreen_block",nativeAppodealFullscreenBlock:"native_appodeal_fullscreen_block",nativeAppodealRewardedBlock:"native_appodeal_rewarded_block",nativeApplovinFullscreenBlock:"native_applovin_fullscreen_block",nativeApplovinRewardedBlock:"native_applovin_rewarded_block",newAdvManager:"new_adv_manager",newAdvInterval:"new_adv_interval",newCSP:"new_csp",newLoggingPlayedFeedFC:"new_logging_played_feed_fc",newLoggingGameCardFC:"new_logging_gamecard_fc",newProfile:"new_profile",newTimeLogExp:"new_time_log_exp",noAdsCatalogPopup:"no_ads_catalog_popup",noAdsDuration:"no_ads_duration",noAdsPrice:"no_ads_price",noAdsPricePlus:"no_ads_price_plus",noAdsPopupForce:"no_ads_popup_force",noAdsPopupForcePopupGapTimeout:"no_ads_popup_force_popup_gap_timeout",noMobileGames:"no_mobile_games",noRecent:"no_recent",oauth:"oauth",onlyRsyaAd:"only_rsya_ad",originAgentCluster:"origin_agent_cluster",paymentsHidden:"hide_payments",playersBadge:"players_badge",prebidAdv:"prebid_adv",prebidAdvMedia152:"prebid_adv_media_152",prebidCatalogAdv:"prebid_catalog_adv",prebidCustomBlock:"prebid_custom_block",prebidDisabledBids:"prebid_disabled_bids",prebidExtraBids:"prebid_extra_bids",prebidTimeout:"prebid_timeout",prebidAuctionTimeout:"prebid_auction_timeout",prebidOneAuction:"prebid_one_auction",prebidEmptyWaterfall2:"prebid_empty_waterfall2",prebidClearSlot:"prebid_clear_slot",preloadFullscreenAdv:"preload_fullscreen_adv4",preloadRewardedVideo:"preload_rewarded_video",preloadGame:"preload_game",premiumDuration:"premium_duration",premiumEnabled:"premium_enabled",premiumForced:"premium_forced",prettyAppUrl:"pretty_app_url",promoBar:"promo_bar",promoBarSpeed:"promo_bar_speed",promoBarAnimationDelay:"promo_bar_animation_delay",promoBarOptimizedAnimation:"promo_bar_optimized_animation",promoBarPortraitOnly:"promo_bar_portrait_only",promoBarDisableMobileAnimation:"promo_bar_disable_mobile_animation",promoBarGoToMainByBadgeClick:"promo_bar_go_to_main_by_badge_click",promoBannersEnabled:"promo_banners_enabled",promoBarBadgeOnly:"promo_bar_badge_only",promptPopupMobileText:"prompt_popup_mobile",portalCurrencyHidden:"hide_portal_currency",pixelTags:"pixel_tags",reactComponents:"react_components2",reactGuard:"react_guard",realRewarded:"real_rewarded",rpsLimiterDisabled:"rps_limiter_disabled",redirectFromComToRu:"redirect_from_com_to_ru",totalPlayTimeSync:"total_play_time_sync",rewardedVideoTimeout:"rewarded_video_timeout",rewardedPCodeAdv:"rewarded_pcode_adv",refillOnTheSite:"refill_on_the_site",shortcutWaitOnGameLoadTimeout:"shortcut_wait_on_game_load_timeout",similarGames:"similar_games",sseEnabled:"sse_enabled",stickyHeader:"sticky_header",stickyFooterDesktop:"sticky_footer_desktop",delayVideoShowing:"delay_video_showing",videoShowingAfterLoad:"video_showing_after_load",tcfapiBoot:"tcfapi_boot",tcStringDebug:"tcstring_debug",tcfapiWait:"tcfapi_wait",tcStringSend:"tcstring_send",turnOffInterstitial:"turn_off_interstitial",tvDraftInput:"tv_draft_input",tvAdEnabled:"tv_ad_enabled",ttiMetricaWaitingTimeout:"tti_metrica_waiting_timeout",unitedPage:"united_page",unitedPageWithoutI:"united_page_without_i",unitedPageControl:"united_page_control",unmutedPrerollAdv:"unmuted_preroll_adv",unitedPlayPage:"united_play_page",updateExcludedCategories:"update_excluded_categories",useAdsGetLibraries:"use_ads_get_libraries",userActivityPopup:"user_activity_popup",userActivityPopupForTesting:"user_activity_popup_for_testing",userActivityPopupShowTime:"user_activity_popup_show_time",userInactiveTimer:"user_inactive_timer",uxFeedbackBoxSolutionEnabled:"ux_feedback_box_solution_enabled",uxFeedbackEnabled:"ux_feedback_enabled",webAppsEnabled:"web_apps_enabled",webvisorApps:"webvisor_apps",webvisorChance:"webvisor_chance",webvisorEnabled:"webvisor_enabled",welcomeBonus:"welcome_bonus",welcomeBonusAmount:"welcome_bonus_amount",withNativeClose:"with_native_close",yandexEmptyData:"yandex_empty_data",xsollaEnabled:"xsolla_enabled",igrotokOnboardingControlSetting:"igrotok_onboarding_control_setting",igrotokNativeAdvServiceEnabled:"igrotok_native_adv_service_enabled",newFeed:"new_feed",fixVideoAutoplay:"fix_video_autoplay",yourGamesSmall:"your_games_small",stickyRatingBadge:"sticky_rating_badge",newCategorizedFeedPortraitColumnsCount:"new_categorized_feed_portrait_columns_count",newCategorizedFeedLandscapeColumnsCount:"new_categorized_feed_landscape_columns_count",newCategorizedFeedWideFirstRow:"new_categorized_feed_wide_first_row",newSuggestedFeedPortraitColumnsCount:"new_suggested_feed_portrait_columns_count",newSuggestedFeedLandscapeColumnsCount:"new_suggested_feed_landscape_columns_count",newSuggestedFeedDesktopUseCovers:"new_suggested_feed_desktop_use_covers",newSuggestedFeedDesktopStripWhenNarrow:"new_suggested_feed_desktop_strip_when_narrow",newCategorizedFeedDesktopStripWhenNarrow:"new_categorized_feed_desktop_strip_when_narrow",igrotokLiteDisableNonNativeFeatures:"igrotok_lite_disable_non_native_features",GDPRLoadAfterGame:"gdpr_load_after_game",igrotokJoystickInstructionPopupDelay:"igrotok_joystick_instruction_popup_delay",partitialAdvInit:"partitial_adv_init",igrotokOnboardingMode:"igrotok_onboarding_mode",igroyalAllowed:"igroyal_allowed"};var E;!function(e){e.desktop_morda="desktop_morda",e.sa_morda="sa_morda",e.touch_morda="touch_morda"}(E||(E={}));i.U_.PLAYHOP,i.U_.YANDEX;var w,A;!function(e){e.COMMON_CACHE_HITS="common_cache_hits",e.COMMON_CACHE_HIT_RATIO="common_cache_hit_ratio",e.COMMON_CACHE_MISSES="common_cache_misses",e.GET_FEW_GAMES_SERVER_TIME="get_few_games_server_time",e.GETTING_COMMON_CACHE_TIME="getting_cache_time",e.SETTING_COMMON_CACHE_TIME="setting_cache_time"}(w||(w={})),function(e){e.AFTER_BACKEND_TIME="after_backend_time",e.BACKEND_TIME="backend_time",e.BACKEND_RESPONSE_TIME_FOR="backend_response_time_for_",e.FULL_BASE_TIME="full_base_time",e.FULL_DATA_TIME="full_data_time",e.FULL_USUAL_TIME="full_usual_time",e.MIDDLEWARE_BASE_TIME="middleware_base_time",e.MIDDLEWARE_DATA_TIME="middleware_data_time",e.MIDDLEWARE_USUAL_TIME="middleware_usual_time",e.PLAY_BACKEND_RESPONSE_TIME="play_backend_response_time",e.PLAY_FULL_TIME="play_full_time",e.PLAY_HANDLE_BACKEND_RESPONSE_TIME="play_handle_backend_response_time",e.PLAY_MIDDLEWARE_TIME="play_middleware_time",e.PLAY_SSR_TIME="play_ssr_time",e.UNITED_PLAY_FULL_TIME="united_play_full_time",e.UNITED_PLAY_MIDDLEWARE_TIME="united_play_middleware_time",e.UNITED_PLAY_SSR_TIME="united_play_ssr_time",e.SSR_TIME="ssr_time",e.UAAS_FULL_TIME="uaas_full_time",e.UAAS_TIME="uaas_time"}(A||(A={}));Object.values({en:"com",kk:"kz",be:"by",ru:"ru",uz:"uz"});var b,O,S,P;!function(e){e.NO_ADS_ONE_DAY="no_ads.1",e.PREMIUM_ONE_DAY="premium.1"}(b||(b={})),function(e){e.GAMETOK="igrotok"}(O||(O={})),function(e){e.PLAYHOP="com",e.YANDEX="ru"}(S||(S={})),function(e){e.YANDEX="/games",e.PLAYHOP="",e.IGROTOK="/games"}(P||(P={}));function T(e,t){return t.reduce(((t,r)=>{var n;return t.push(...(n=`https://${e}.${r}`,[n,n.replace("https://","https://*.")])),t}),[])}T(i.U_.YANDEX,n).concat(T(i.U_.PLAYHOP,o)).concat(T(i.U_.YA,["ru"])).concat(["https://zenadservices.net"]);var C;!function(e){e.ADV_FULLSCREEN="adv_fullscreen",e.BALANCE_POPUP="balance_popup",e.BALANCE_REFILL="balance_refill",e.FEEDBACK="feedback",e.GAME_PAGE="game_page",e.NO_ADS_POPUP="no_ads_popup",e.PLAYED_GAMES="played_games",e.REWARDED_COUNTER="rewarded_counter",e.PURCHASE_DIALOG="purchase_dialog",e.SHORTCUT="shortcut",e.UNITED_PAGE="united_page"}(C||(C={}));const k=n.map((e=>e.replace(".","\\."))).join("|"),I=`(${i.U_.YANDEX}\\.(${k})|${i.U_.YA}.ru)`,R=o.map((e=>e.replace(".","\\."))).join("|"),x=["com","ru"].map((e=>e.replace(".","\\."))).join("|"),L=(new RegExp(`^https://(www\\.)?${I}$`),new RegExp(`^https://([^.]+\\.)*${I}\\/`),new RegExp(`^https://([^.]+\\.)*${i.U_.PLAYHOP}\\.(${R})$`)),D=`(igrotok|igrotok-test|igrotok\\.msup|igrotok\\.games-test|igrotok\\.games-prestable|igrotok\\.crowdtest\\.games)\\.(${i.U_.YANDEX}|${i.U_.YA})\\.(${x})`;new RegExp(D),new RegExp(`^https://${D}$`),new RegExp(`^https://([^.]+\\.)*${I}${P.YANDEX}/igrotok`),new RegExp(`^https?://(?:.*?\\.)*${I}${P.YANDEX}/manifest/play/\\d+/?`);var N;!function(e){e.YANDEX="yandex",e.APPODEAL="appodeal",e.APPLOVIN="applovin",e.DEFAULT=""}(N||(N={}));const M="from-gametok",U="is-gametok";var G;!function(e){e.IGROTOK="igrotok",e.PLAYHOP="playhop",e.YANDEX="yandex"}(G||(G={}));var F,B;!function(e){e.ANONYMOUS="anonymous"}(F||(F={})),function(e){e.COLUMN="column",e.LINE="line",e.LIST_CATEGORY="listCategory",e.LIST_TYPE="listType",e.ROW="row",e.SIZE="size",e.TAB_CATEGORY="tabCategory"}(B||(B={}));var Y,H;!function(e){e.USE_LOGGING="useLogging",e.WITH_LOG="with-log"}(Y||(Y={})),function(e){e.Left="ArrowLeft",e.Up="ArrowUp",e.Right="ArrowRight",e.Down="ArrowDown",e.Enter="Enter"}(H||(H={}))},(e,t,r)=>{"use strict";r.d(t,{KS:()=>s,U_:()=>n});var n,o;r(1);!function(e){e.PLAYHOP="playhop",e.YANDEX="yandex",e.YA="ya"}(n||(n={})),function(e){e.COMPANY_NAME="companyName",e.SERVICE_NAME="serviceName",e.WEBAPPS_CATEGORY_SERVICE_NAME="applicationsCategoryServiceName"}(o||(o={}));const a={[o.COMPANY_NAME]:{ru:"Яндекс",en:"Yandex"},[o.SERVICE_NAME]:{ru:"Игры",en:"Games"},[o.WEBAPPS_CATEGORY_SERVICE_NAME]:{ru:"Для%20жизни",en:"LifeStyle"}},i=(n.YANDEX,n.YA,n.PLAYHOP,o.COMPANY_NAME,o.SERVICE_NAME,o.WEBAPPS_CATEGORY_SERVICE_NAME,["ru","uk","be","kk","uz"]),s=e=>!e||i.includes(e)},(e,t,r)=>{"use strict";r.d(t,{G6:()=>o,gn:()=>n,zd:()=>a});r(1);function n(){return/iPad|iPhone|iPod/.test(window.navigator.platform)||window.navigator.userAgent.includes("Mac")&&"ontouchend"in document}function o(){return/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent)}function a(){return-1!==window.location.href.toLowerCase().indexOf("utm_source=viber")}},(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});r(23),r(1),r(0),r(9);var n=r(132);class o extends Error{constructor(e,t,r){let{code:n,message:a}=e;super(a,t,r),this.name="AuthError",this.code=n,Object.setPrototypeOf(this,o.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,o)}toJSON(){return{code:this.code,message:this.message,name:this.name,stack:this.stack}}}const a=o;var i=r(130),s=r(131);const c={AuthError:a,FetchError:i.Z,PaymentsError:s.Z};const d=!1;var l=r(124),u=r(120);class p{constructor(){this.suppressNoGameFrameWarning=!1,this._promises=Object.create(null),this._externalListeners=Object.create(null),this._internalListeners=Object.create(null),this._addEventListener()}get _parentTarget(){return window.parent!==window?window.parent:void 0}get _gamePlayerFrame(){const e=function(){const e=document.querySelector("iframe.game-player");if(e)return e}();return e||console.warn("No game player frame to post"),e}get _gameFrame(){const e=function(){const e=window.YandexGamesSDK&&window.YandexGamesSDK.FRAME_ID;if(e&&"string"==typeof e){const t=document.getElementById(e);if(t)return t}}();return e||this.suppressNoGameFrameWarning||console.warn("No game frame to post"),e}get _gameFrameAllowedOrigins(){var e;try{const t=null===(e=this._gameFrame)||void 0===e?void 0:e.dataset.allowedOrigins;if(!t)return;return JSON.parse(t)}catch(e){return}}get _childTarget(){var e,t;return-1===window.location.pathname.indexOf(u.mS)||(0,l.yO)(window.appData.abt.flags)?null===(t=this._gameFrame)||void 0===t?void 0:t.contentWindow:null===(e=this._gamePlayerFrame)||void 0===e?void 0:e.contentWindow}_addEventListener(){window.addEventListener("message",(e=>{const{source:t}=e.data||{};"YandexGamesSDK"===t&&(d&&e.source===window.parent&&e.origin===window.location.origin&&"google-cmp"!==e.data.type?this.post(e.data):this._handleEvent(e))}))}_handleEvent(e){var t=this;const{type:r,action:o,messageId:a,originMessageId:i,payload:s,originPayload:d,data:l,error:u,errorJSON:p}=e.data||{},_=this._promises[i];_&&(delete this._promises[i],void 0===u?_.resolve({type:r,action:o,originPayload:d,data:l}):_.reject(function(e){let{error:t,errorJSON:r}=e;if(r)try{const e=JSON.parse(r);if(e&&e.name in c)return new c[e.name](e)}catch(e){(0,n.fF)(e)}return new Error(t||"")}({error:u,errorJSON:p})));const m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n={type:e.type||r,action:e.action||o,originMessageId:a,originPayload:s,data:e.data||{}};!function(e,t){t.error&&(e.error=String(t.error.message)||null,e.errorJSON=JSON.stringify(t.error)||null)}(n,e),t.postCallbackToChild(n)};const h=this._externalListeners[r]||[];for(const t of h)try{t(e,m)}catch(e){(0,n.fF)(e)}}onAllMessages(e,t){this.onExternalMessage(e,t),this.onInternalMessage(e,t)}offAllMessages(e,t){this.offExternalMessage(e,t),this.offInternalMessage(e,t)}onExternalMessage(e,t){this._onMessage(this._externalListeners,e,t)}offExternalMessage(e,t){this._offMessage(this._externalListeners,e,t)}onInternalMessage(e,t){this._onMessage(this._internalListeners,e,t)}offInternalMessage(e,t){this._offMessage(this._internalListeners,e,t)}_onMessage(e,t,r){if("string"==typeof t&&(t=[t]),!Array.isArray(t))throw new Error('Wrong argument "types"');for(const n of t)n in e||(e[n]=[]),e[n].push(r)}_offMessage(e,t,r){if("string"==typeof t&&(t=[t]),!Array.isArray(t))throw new Error('Wrong argument "types"');for(const n of t)n in e&&(e[n]=e[n].filter((e=>e!==r)))}externalPost(e){this._handleEvent(e)}post(e){const{action:t,type:r}=e;return new Promise((o=>{const a=`${Date.now()}-${Math.random()}`,i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n={action:e.action||t,data:e.data||{},errorInstance:e.error,originMessageId:a,type:e.type||r};o(n)},s=this._internalListeners[r]||[];for(const t of s)try{t({data:Object.assign({},e)},i)}catch(e){(0,n.fF)(e)}}))}hasParent(){return Boolean(this._parentTarget)}postToParent(e){const t=this._parentTarget;return t?this._post(t,e):Promise.reject(new Error("No parent to post message"))}hasChild(){this.suppressNoGameFrameWarning=!0;const e=Boolean(this._childTarget);return this.suppressNoGameFrameWarning=!1,e}postToChild(e){const t=this._childTarget;return t?this._post(t,e):Promise.reject(new Error(`No child to post message: type = ${e.type}, action = ${e.action}`))}postCallbackToChild(e){const t=this._childTarget;return t?this._post(t,e):Promise.reject(new Error(`No child to post message: type = ${e.type}, action = ${e.action}`))}_post(e,t){const r=Date.now(),n=`${r}-${Math.random()}`;t=Object.assign({},t,{source:"YandexGamesSDK",messageId:n});let o=e=>{},a=e=>{};const i=new Promise(((e,t)=>{o=e,a=t}));this._promises[n]={promise:i,resolve:o,reject:a,time:r};try{e.postMessage(t,"*")}catch(e){return delete this._promises[n],Promise.reject(e)}return i}}let _;if("object"==typeof window)window.YandexGamesSDKReactBridge?(window.YandexGamesSDKReactBridge.messaging||(window.YandexGamesSDKReactBridge.messaging=new p),_=window.YandexGamesSDKReactBridge.messaging):_=new p;else{const e=()=>{throw new Error("Not impl")};_={externalPost:t=>e,hasChild:()=>!1,hasParent:()=>!1,offAllMessages:e,offExternalMessage:e,offInternalMessage:e,onAllMessages:e,onExternalMessage:e,onInternalMessage:e,post:e=>Promise.reject(new Error("Not impl")),postToChild:e=>Promise.reject(new Error("Not impl")),postToParent:e=>Promise.reject(new Error("Not impl"))}}const m=_},(e,t,r)=>{"use strict";r.d(t,{ZD:()=>p,jX:()=>l,ki:()=>u,yO:()=>m});r(23),r(1);var n=r(125),o=r(120);function a(e){var t;return(null===(t=e.abt)||void 0===t?void 0:t.flags)||e}function i(e,t){return a(e)[t]}function s(e,t,r){return i(e,t)===r}function c(e,t,r){const n=i(e,t);return"array"===r?Array.isArray(n)?n:void 0:typeof n===r?n:void 0}function d(e,t){return c(e,t,"number")}function l(e){return s(e,o.lb.cfMirrorStatic,!0)}function u(e){return d(e,o.lb.delayLoadingPixelMetricsTimeout)||0}function p(e){return d(e,o.lb.ttiMetricaWaitingTimeout)||n.U7}var _;!function(e){e.FEED="feed",e.EXTERNAL="external"}(_||(_={}));function m(e){return s(e,o.lb.unitedPlayPage,!0)}},(e,t,r)=>{"use strict";r.d(t,{EE:()=>l,U7:()=>c});var n=r(129),o=r(122),a=r(126),i=r(128);const s="2795",c=6e4,d=(e,t,r)=>{const s=(0,o.G6)()?7500:15e3,c=null!=r?r:s,d=window.setTimeout((()=>{(e=>{(0,a.H)({block:i.W.WAIT_TTI,level:"warn",message:`[startWaitingTTI] Time to interactive took more than ${e/1e3}s`})})(c),l()}),c),l=(0,n.Z)((()=>{window.clearTimeout(d),e()}));t(l)},l=(e,t)=>{d(e,(e=>{var t,r,n,o;(null===(t=window.Ya)||void 0===t?void 0:t.Rum)&&!(null===(r=window.Ya)||void 0===r?void 0:r.Rum.getTimeMarks()[s])?null===(o=null===(n=window.Ya)||void 0===n?void 0:n.Rum)||void 0===o||o.on(s,e):e()}),t)}},(e,t,r)=>{"use strict";r.d(t,{uh:()=>s,H:()=>d});r(0);var n=r(127);r(1);const o=[{regexp:new RegExp(/Monetization error \[yandex]: yandex error - Container with id .* is hidden/),title:"Monetization error [yandex]: yandex error - Container is hidden"},{regexp:new RegExp(/Monetization error \[google]: yandex error - Container with id .* is hidden/),title:"Monetization error [google]: yandex error - Container is hidden"},{regexp:new RegExp(/Monetization error \[yandex]: yandex error - Container with id .* is not found \(init\)/),title:"Monetization error [yandex]: yandex error - Container is not found (init)"},{regexp:new RegExp(/Monetization error \[google]: yandex error - Container with id .* is not found \(init\)/),title:"Monetization error [google]: yandex error - Container is not found (init)"}];var a=r(128);const i=()=>{var e;return Boolean("undefined"!=typeof window&&(null===(e=null===window||void 0===window?void 0:window.Ya)||void 0===e?void 0:e.Rum))},s=()=>{var e,t;return Boolean(i()&&(null===(t=null===(e=window.Ya)||void 0===e?void 0:e.Rum)||void 0===t?void 0:t.logError))};function c(){var e,t,r;try{throw new Error}catch(n){const o=/(\w+)@|at (.+) \(/g,a=n.stack||"";if(a.matchAll){const n=Array.from(a.matchAll(o))||[];return(null===(e=n[2])||void 0===e?void 0:e[2])||(null===(t=n[1])||void 0===t?void 0:t[2])||(null===(r=n[0])||void 0===r?void 0:r[2])}return}}const d=function(e,t){var r,i,d,l,u;if(!s())return;let{additional:p,level:_,message:m,prefix:h,source:g="catalog",sourceMethod:f}=e,v=(0,n._T)(e,["additional","level","message","prefix","source","sourceMethod"]);m=(e=>{for(const t of o)if(t.regexp&&-1!==e.search(t.regexp)||t.substr&&e.includes(t.substr))return`[grouped] ${t.title}`;return e})(m||(null==t?void 0:t.message)||String(e)),_=_||(null===(i=null===(r=window.Ya)||void 0===r?void 0:r.Rum)||void 0===i?void 0:i.ERROR_LEVEL.ERROR)||"error",t=t||e,h&&(m=`${h} ${m}`);const y=Object.assign({additional:p,block:null!==(d=v.block)&&void 0!==d?d:a.W.RUM_UNSPECIFIED,ignoreErrorMessage:!0,level:_,message:m,source:g,sourceMethod:f||c()},v);null===(u=null===(l=window.Ya)||void 0===l?void 0:l.Rum)||void 0===u||u.logError(y,t)};parseInt("1681287385",10)},(e,t,r)=>{"use strict";r.d(t,{_T:()=>n,mG:()=>o});function n(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}function o(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{c(n.next(e))}catch(e){a(e)}}function s(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}c((n=n.apply(e,t||[])).next())}))}Object.create;Object.create},(e,t,r)=>{"use strict";var n;r.d(t,{W:()=>n}),function(e){e.AD_FOX="Adfox",e.ADV_STICKY="AdvSticky",e.APP_COMPONENT="App: component",e.APP_PAGE="App: page",e.BUNDLES_PLAY="Bundles play",e.GAME_IMAGE="GameImage",e.GAMETOK="Gametok",e.GOOGLE_ADS="Google ads",e.ERROR_BOUNDARY="Error boundary",e.ERROR_COUNTER="Error counter",e.I18N="i18n",e.METRIKA="Metrika",e.MONETIZATION="Monetization",e.OFFLINE_MOD_HELPER="Offline mod helper",e.REDUX="Redux",e.REDUX_GAMETOK="Redux in Gametok",e.RUM_NATIVE_ERROR="Rum: native error in catalog",e.RUM_UNSPECIFIED="Rum: unspecified error without block",e.SERVER_MIDDLEWARE="Server middleware",e.SERVICE_WORKER_REGISTRATION="ServiceWorker Registration",e.SERVICE_WORKER_UNREGISTRATION="ServiceWorker Unregistration",e.SHORTCUTS_POPUP_MANAGER="ShortcutsPopupManager",e.SSE="Notify API",e.TURBO_APP="Turbo app",e.UTILS_LOCATION="Utils: location",e.UTILS_UNIVERSAL="Utils: universal",e.XSOLLA="Xsolla",e.WAIT_TTI="Wait TTI"}(n||(n={}))},(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});r(0);function n(e){return function(e,t){if("function"!=typeof t)throw new Error("Argument is not a function");let r;return function(){if(--e>0&&t){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];r=t.apply(this,o)}return e<=1&&(t=void 0),r}}(2,e)}},(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});r(0);class n extends Error{constructor(e,t,r){let{code:o,httpStatus:a,message:i}=e;super(i,t,r),this.name="FetchError",this.code=o,this.httpStatus=a,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,n)}toJSON(){return{code:this.code,httpStatus:this.httpStatus,message:this.message,name:this.name,stack:this.stack}}}const o=n},(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});r(0);class n extends Error{constructor(e,t,r){let{code:o,httpStatus:a,message:i}=e;super(i,t,r),this.name="PaymentsError",this.code=o,this.httpStatus=a,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,n)}toJSON(){return{code:this.code,httpStatus:this.httpStatus,message:this.message,name:this.name,stack:this.stack}}}const o=n},(e,t,r)=>{"use strict";r.d(t,{Ts:()=>d,X4:()=>a,Zi:()=>i,fF:()=>c});r(0);var n=r(123),o=r(133);const a="YandexSDKLogError";function i(e){var t;let r;try{throw new Error}catch(n){const o=/(\w+)@|at (.+) \(/g,a=e||n.stack||"";if(a.matchAll){const e=Array.from(a.matchAll(o))||[];r=null===(t=e[e.length-1])||void 0===t?void 0:t[2]}}return r}function s(e,t,r){var a,s,c;const d=function(e){var t,r;const n={columnNumber:null!==(t=e.columnNumber)&&void 0!==t?t:-1,fileName:e.fileName||"",lineNumber:null!==(r=e.lineNumber)&&void 0!==r?r:-1,name:e.name||"Error",message:e.message||String(e),stack:e.stack||""},a={appId:(0,o.rh)(),version:parseInt("1681287385",10)||0};return n.additional=Object.assign(Object.assign({},e.additional),a),n}(t);r.message&&(d.message=r.message),r.prefix&&(d.message=`${r.prefix} ${d.message}`),n.Z["YaGames"in window?"postToParent":"post"]({data:{block:`ErrorCounter/common: ${e}`,error:d,level:null!==(a=r.level)&&void 0!==a?a:"error",source:e,sourceMethod:null!==(s=r.sourceMethod)&&void 0!==s?s:i(d.stack),type:null!==(c=r.type)&&void 0!==c?c:"error"},type:"error"}).catch(console.warn)}function c(e){s("sdk",e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),console.warn(e)}function d(e){s("sdk-game",e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),console.error(e,a)}},(e,t,r)=>{"use strict";r.d(t,{$g:()=>c,H8:()=>d,mv:()=>u,rh:()=>l});r(0);var n=r(134),o=r(119),a=r(126),i=r(128);const s=/^(?:https:\/\/app-([^.]+)\.games\.s3\.yandex\.net\/|https:\/\/games\.s3\.mdst\.yandex\.net\/([^/]+)\/|https:\/\/(?:.+\.)*yandex\.(?:ru|by|kz|ua|uz|com|com\.tr|az|co\.il|com\.am|com\.ge|ee|fi|fr|lt|lv|md|pl|tj|tm)\/games\/play\/([^/?&#]+))/;function c(e){const t={};u()&&(t.draft="true");const r=l();return r&&(t["app-id"]=r),(0,n.Z)({url:e,params:t})}function d(e){return"1"===(0,o.Z)(window.location).revert_unique_id?(0,n.Z)({url:e,params:{revert_unique_id:"1"}}):e}function l(){var e,t;if("undefined"==typeof window)return"";if(window.YandexGamesSDK&&window.YandexGamesSDK.environment)return window.YandexGamesSDK.environment.app.id;if(window.YandexGamesSDKEnvironment)return window.YandexGamesSDKEnvironment.app.id;console.warn("Can't get app id from `window.YandexGamesSDKEnvironment`",null===window||void 0===window?void 0:window.YandexGamesSDKEnvironment),(0,a.H)({block:i.W.UTILS_LOCATION,level:null===(t=null===(e=window.Ya)||void 0===e?void 0:e.Rum)||void 0===t?void 0:t.ERROR_LEVEL.WARN},new Error("Old way: get app id from location"));const r=String(window.location).match(s);if(r)return r[1]||r[2]||r[3];return(0,o.Z)(window.location)["app-id"]||""}function u(){var e;if(null===(e=window.YandexGamesSDK)||void 0===e?void 0:e.game)return window.YandexGamesSDK.game.info.isDraft;return"true"===(0,o.Z)(window.location).draft}},(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});r(0),r(1);function n(e){const{url:t,params:r={},hash:n={},removed:a=[],encoded:i=!0}=e;if(!t)throw new Error("addGetParams: function has no url");const s=t.split("#"),c=s[0].split("?");let d=o(c,r,i,a),l=o(s,n,i,a);return d&&(d=`?${d}`),l&&(l=`#${l}`),`${c[0]}${d}${l}`}function o(e,t,r,n){return e.length>1&&e[1].length&&e[1].split("&").forEach((e=>{const[r,n]=e.split("=");if(!t[r])try{t[r]=decodeURIComponent(n)}catch(e){t[r]=n}})),Object.keys(t).filter((e=>!n.includes(e))).filter((e=>void 0!==e)).map((e=>`${e}=${r?encodeURIComponent(t[e]):t[e]}`)).join("&")}},(e,t,r)=>{"use strict";r.d(t,{Tc:()=>l,m_:()=>d});var n,o,a,i,s=r(120);"undefined"!=typeof navigator&&navigator,"undefined"!=typeof navigator&&navigator;var c;!function(e){e.AZERION="azerion",e.MEDIA_152="media_152",e.MULTIPLE_PARTNERS="multiple_partners"}(c||(c={}));const d="undefined"!=typeof window&&((null===(o=null===(n=window.YandexGamesSDK)||void 0===n?void 0:n.environment)||void 0===o?void 0:o.serviceName)||(null===(a=window.YandexGamesSDKEnvironment)||void 0===a?void 0:a.serviceName)||(null===(i=window.clientMetadata)||void 0===i?void 0:i.serviceName))||s.kJ.YANDEX,l=5e3}],t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{if(void 0!==r){var e=r.u,t=r.e,n={},o={};r.u=function(t){return e(t)+(n.hasOwnProperty(t)?"?"+n[t]:"")},r.e=function(n){return t(n).catch((function(t){var a=o.hasOwnProperty(n)?o[n]:3;if(a<1){var i=e(n);throw t.message="Loading chunk "+n+" failed after 3 retries.\n("+i+")",t.request=i,t}return new Promise((function(e){setTimeout((function(){o[n]=a-1,e(r.e(n))}),0)}))}))}}})();var n={};(()=>{"use strict";r.d(n,{default:()=>On});r(0),r(1);var e,t,o,a,i,s=r(127);!function(e){e.Frontback="frontback",e.Catalog="catalog",e.Play="play",e.UnitedPlay="united-play",e.Igrotok="igrotok",e.SdkV2="sdk-v2",e.SdkV1="sdk-v1",e.SdkGameDistribution="sdk-game-distribution-v1",e.Polyfill="polyfill",e.PlayhopLegal="playhop-legal",e.PumpkinPlayhop="pumpkin-playhop",e.PumpkinYandex="pumpkin-yandex"}(e||(e={})),function(e){e.Tv="tv",e.Mobile="mobile",e.Desktop="desktop",e.Sw="sw"}(t||(t={})),function(e){e.Server="server",e.Client="client"}(o||(o={})),function(e){e.IgrotokOnboarding="onboarding",e.SdkProxy="proxy"}(a||(a={})),function(e){e.LEGACY="legacy",e.INTERSECTION_OBSERVER="intersection-observer",e.SMOOTH_SCROLL="smooth-scroll"}(i||(i={}));const c={[i.LEGACY]:"3.27.2",[i.INTERSECTION_OBSERVER]:"0.12.2",[i.SMOOTH_SCROLL]:"0.4.4"};r(9);const d=e=>{const{async:t,parentElement:r,nonce:n,onLoadCb:o,onErrCb:a,src:i,id:s,content:c}=e,d=document.createElement("script");if(o&&(d.onload=o),a&&(d.onerror=a),d.type="text/javascript",t&&(d.async=t),i&&(d.src=i),n&&d.setAttribute("nonce",n),s&&d.setAttribute("id",`${s}-script`),c){const e=document.createTextNode(c);d.appendChild(e)}r?r.appendChild(d):document.body.appendChild(d)};function l(e,t){return function(e,t){return`${e}polyfill/${t}`}(e,`${c[t]}-${t}.js`)}var u=r(132),p=r(123);const _=()=>{["click","dblclick","mouseup","pointerup","touchend"].forEach((e=>{var t;document.addEventListener(e,(t=`${e}-on-body`,()=>{window.top&&window.top.postMessage({type:"document-events",action:t},"*")}),!0)}))};var m=r(119);const h=e=>{const t=new URL(e);class r{constructor(){this.items=[]}contains(e){return this.items.includes(e)}item(e){var t;return null!==(t=this.items[e])&&void 0!==t?t:null}get length(){return this.items.length}*[Symbol.iterator](){}}return{location:{ancestorOrigins:new r,hash:t.hash,host:t.host,hostname:t.hostname,href:t.href,origin:t.origin,pathname:t.pathname,port:t.port,protocol:t.protocol,search:t.search,assign:()=>{},reload:()=>{},replace:()=>{}}}},g="undefined"!=typeof window?window:h("https://yandex.ru/games/app/1");var f,v,y,E=r(120);!function(e){e.CLICK="click",e.CLICK_GAME_PAGE="click_game_page",e.CLOSE_GAME_PAGE="close_game_page",e.COMMENT="comment",e.GAME_STARTED="game_started",e.OPENING_GAME_PAGE="opening_game_page",e.OPEN_GAME_PAGE="open_game_page",e.RATING="rating",e.SHOW="show",e.TIME="time"}(y||(y={}));var w;!function(e){e.ABLOCK_POPUP_OPEN="adblock_popup_open",e.ABLOCK_POPUP_HELP="adblock_popup_help",e.ABLOCK_POPUP_CLOSE="adblock_popup_close",e.ACCEPTED_YAN_GAMES_LINK_CLICK="accepted_yan_games_link_click",e.ADAPTIVE_FEED_USER="adaptive_feed_user",e.ADD_RECENT_GAME="add_recent_game",e.ADV_CLICK="adv_click",e.ABOUT_YAN_INFO_CLOSE_CLICK="about_yan_info_close_click",e.BALANCE_POPUP_CLOSE="balance_popup_close",e.BALANCE_REFILLED_BUY_MORE="balance_refilled_buy_more",e.BALANCE_REFILLED_CLOSE="balance_refilled_close",e.BALANCE_REFILLED_COPY="balance_refilled_copy",e.BALANCE_REFILLED_SHOW="balance_refilled_show",e.BEFORE_INSTALL_EVENT_CATCH="before_install_event_catch",e.BEFORE_INSTALL_EVENT_EXIST="before_install_event_exist",e.CALENDAR_PROMO_CLICK="calendar_promo_click",e.CATALOG_SHORTCUT_CLICK="catalog_shortcut_click",e.CATEGORY_CLICK="category_click",e.CLICK_PARTNER_BUTTON="click_partner_button",e.CLICK_SHARE_LEADERBOARD="click_share_leaderboard",e.CLICK_SHARE_LEADERBOARD_CLIPBOARD="click_share_leaderboard_clipboard",e.CLICK_SHORTCUT_BUTTON="click_shortcut_button",e.CLICK_SIDEBAR_BUTTON="click_sidebar_button",e.CREATE_LEADERBOARD="create_leaderboard",e.CLOSE_BUTTON_CLICK="close_button_click",e.DELETE_RECENT_GAME="delete_recent_game",e.DEVELOPER_PAGE_CLICK="developer_page_click",e.GAME_PROMO_OPEN="game_promo_open",e.GAME_PROMO_CLOSE="game_promo_close",e.GOING_TO_INSTALL_GAME="going_to_install_game_",e.SHORTCUT_GAME_API_CHECK="shortcut_game_api_check",e.JOIN_LEADERBOARD_OPEN="join_leaderboard_open",e.GUARD_APPLY="guard_apply",e.INVALIDATE_GAME_CACHE="invalidate_game_cache",e.INVALIDATE_GAME_CACHE_SUCCESS="invalidate_game_cache_success",e.INVALIDATE_GAME_CACHE_FAILED="invalidate_game_cache_failed",e.INVALIDATE_CATALOG_CACHE="invalidate_catalog_cache",e.INVALIDATE_CATALOG_CACHE_SUCCESS="invalidate_catalog_cache_success",e.INVALIDATE_CATALOG_CACHE_FAILED="invalidate_catalog_cache_failed",e.MERGE_CONFLICTS_RESOLVE="merge_conflicts_resolve",e.MERGE_CONFLICTS_SHOW="merge_conflicts_show",e.NEW_PROMO_BUTTON_CLICK="new_promo_button_click",e.NO_ADS_CATALOG_MENU_CLICK="no_ads_catalog_menu_click",e.NO_ADS_CATALOG_POPUP_HAS_EXP="no_ads_catalog_popup_has_exp",e.NO_ADS_CATALOG_POPUP_SHOWN="no_ads_catalog_popup_shown",e.NO_ADS_CATALOG_PROFILE_CLICK="no_ads_catalog_profile_click",e.NO_ADS_CATALOG_PROFILE_PURCHASE_BUTTON_CLICK="no_ads_catalog_profile_purchase_button_click",e.NO_ADS_GAME_POPUP_BUTTON_CLICKED="no_ads_game_popup_button_clicked",e.NO_ADS_GAME_POPUP_CLOSED="no_ads_game_popup_closed",e.NO_ADS_GAME_POPUP_HAS_EXP="no_ads_game_popup_has_exp",e.NO_ADS_GAME_POPUP_SHOWN="no_ads_game_popup_shown",e.PROMO_CARD_CLICK="promo_card_click",e.PROMOS_BANNER_CLICK="promos_banner_click",e.PROMOS_GAMECARD_CLICK="promos_gamecard_click",e.PURCHASES_PLATFORM_PRODUCT_ERROR="purchases_platform_product_error",e.PURCHASES_PLATFORM_PRODUCT_START="purchases_platform_product_start",e.PURCHASES_PLATFORM_PRODUCT_SUCCESS="purchases_platform_product_success",e.PURCHASES_PURCHASE_SUCCESS="purchases_trust_purchase_success",e.PURCHASES_PURCHASE_OPEN="purchases_purchase_open",e.PURCHASES_PURCHASE_OPENED="purchases_purchase_opened",e.PURCHASES_PURCHASE_CLOSE="purchases_purchase_close",e.PURCHASES_PURCHASE_PACKAGE_CHANGE="purchases_purchase_package_change",e.PURCHASES_PURCHASE_PAYMENT_SYSTEM_LOAD_ERROR="purchases_purchase_payment_system_load_error",e.PURCHASES_PURCHASE_EMAIL_ENTERED="purchases_purchase_email_entered",e.PURCHASES_PURCHASE_UNSUCCESS="purchases_purchase_unsuccess",e.PURCHASES_PURCHASE_PAYMENT_SUCCESS="purchases_purchase_payment_success",e.PURCHASES_PURCHASE_PAYMENT_PART_SUCCESS="purchases_purchase_payment_part_success",e.PORTAL_CURRENCY_ON_BOARD_CLICK="portal_currency_on_board_click",e.RECOVERY_CODE_APPLY="recovery_code_apply",e.RECOVERY_CODE_COPY="recovery_code_copy",e.REMOVE_GAME_CACHE="remove_game_cache",e.REFILL_BUTTON_CLICK="refill_button_click",e.REFILL_WITH_BONUS_BUTTON_CLICK="refill_with_bonus_button_click",e.SEARCH_BUTTON_CLICK="search_button_click",e.SHARE_BUTTON_CLICK="share_button_click",e.SHORTCUT_API_SHOW="shortcut_api_show",e.SHORTCUT_GAME_CHECK="shortcut_game_check",e.SHORTCUT_GAME_CLICK="shortcut_game_click",e.SHORTCUT_GAME_CLICK_CLOSE="shortcut_game_close_click",e.SHORTCUT_GAME_SHOW="shortcut_game_show",e.SHORTCUT_POPUP_CHECK="shortcut_popup_check",e.SHORTCUT_POPUP_CLICK="shortcut_popup_click",e.SHORTCUT_POPUP_CLICK_CLOSE="shortcut_popup_close_click",e.SHORTCUT_POPUP_DISAPPEARED="shortcut_popup_disappeared",e.SHORTCUT_POPUP_EXP_EXIST="shortcut_popup_exp_exist",e.SHORTCUT_POPUP_NOT_SHOW="shortcut_popup_not_show",e.SHORTCUT_POPUP_NO_EVENT_TO_SHOW="shortcut_popup_no_event_to_show",e.SHORTCUT_POPUP_SHOW="shortcut_popup_show",e.SHORTCUT_POPUP_IOS_SHOW="shortcut_popup_ios_show",e.SHORTCUT_POPUP_IOS_CLICK="shortcut_popup_ios_click",e.SHORTCUT_PROMO_CLICK="shorcut_promo_click",e.SHORTCUT_PROMPT_SHOW="shortcut_prompt_show",e.SHORTCUT_USER_CHOICE_ACCEPTED="shortcut_user_choice_accepted",e.SHORTCUT_USER_CHOICE_DISMISSED="shortcut_user_choice_dismissed",e.SHOW_GROUP_LEADERBOARDS="show_group_leaderboard",e.SUPPORT_BUTTON_CLICK="support_button_click",e.SUCCESS_PURCHASE="success_purchase_%app_id%",e.SUCCESS_PURCHASE_TRANSACTION="success_purchase_transaction",e.TURBOAPPS_WITH_ERROR_FOUND="turboapps_with_error_found",e.USER_ACTIVITY_POPUP_SHOW="user_activity_popup_show",e.WELCOME_BONUS_POPUP_SHOW="welcome_bonus_popup_show",e.WELCOME_BONUS_POPUP_CLICK="welcome_bonus_popup_click",e.PLAY_UPDATED="play_updated",e.SHORTCUT_DAILY_INFO="shortcut_daily_info",e.TAG_CLICK="tag_click",e.UNITED_PAGE_SUCCESS_AUTH="united_page_success_auth",e.USER_POPUP_ACTION="user_popup_action",e.USER_IS_CHILD="user_is_child",e.IGROTOK_SETTINGS_OPEN="igrotok_settings_open",e.IGROTOK_SETTINGS_SELECT_HIGH="igrotok_settings_select_high",e.IGROTOK_SETTINGS_SELECT_MEDIUM="igrotok_settings_select_medium",e.IGROTOK_SETTINGS_SELECT_LOW="igrotok_settings_select_low",e.IGROTOK_FEED_PROMO_NATIVE_CLICK="igrotok_feed_promo_native_click"}(w||(w={}));const A={playhop:92757394,yandex:49035923},b={FULLSCREEN:"R-I-320442-1",REWARDED_VIDEO:"R-I-328933-4",STICKY_MOBILE_LANDSCAPE_UPPER:"R-I-328933-35",STICKY_MOBILE_UPPER:"R-I-328933-34",STICKY_DESKTOP_RIGHT:"R-I-328933-33"};var O;!function(e){e[e.NONE=0]="NONE",e[e.LOG_TO_CONSOLE=1]="LOG_TO_CONSOLE",e[e.LOG_WITH_TRACE=2]="LOG_WITH_TRACE"}(O||(O={}));const S="object"==typeof window?parseInt(null!==(v=null===(f=String(window.location).match("sdk-debug-mode=([1-2])"))||void 0===f?void 0:f[1])&&void 0!==v?v:"0",10):O.NONE,P=Boolean(S),T=P&&class{static SetFlag(e,t){return e|t}static UnsetFlag(e,t){return e&~t}static HasFlag(e,t){return(e&t)===t}static ToggleFlag(e,t){return e^t}}.HasFlag(S,O.LOG_WITH_TRACE);function C(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;var n,o;if(!("boolean"==typeof t?t:P))return function(){const e=()=>{};return e.spoiler=()=>e,e.spoilerFunc=()=>e,e}();e=`%cDebug%c${e}%c`;const a="background: dimgrey;\n         color: darkgrey;\n         font-size: 8px;\n         font-weight: normal;\n         border-radius:4px 0 0 4px;\n         padding: 2px",i=`background: ${null!==(n=null==r?void 0:r.background)&&void 0!==n?n:"peru"};\n         color: ${null!==(o=null==r?void 0:r.text)&&void 0!==o?o:"black"};\n         font-size: 8px;\n         font-weight: normal;\n         border-radius: 0 4px 4px 0;\n         padding: 2px;`,s="font-weight: normal;";if(!T){const t=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];console.info(e,a,i,s,...r)};return t.spoiler=()=>t,t.spoilerFunc=()=>t,t}let c=[];const d=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(console.groupCollapsed(e,a,i,s,...r),c.length){for(const e of c)console.log(...e);c=[]}console.trace(),console.groupEnd()};return d.spoiler=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return c.push(t),d},d.spoilerFunc=e=>(c.push([e()]),d),d}var k;!function(e){e.GAME="game",e.GAME_PAGE="gamePage",e.BLOCK="block",e.ADV="adv",e.KINOPOISK="kinopoisk"}(k||(k={}));const I=1,R=1.5;var x;!function(e){e.AVATAR="avatar",e.GUARD="guard",e.MENU="menu",e.HEADER="header",e.SLIDE="slide"}(x||(x={}));var L;!function(e){e.APPLICATION_STATE="yandexGames_application_state",e.GAMETOK_APPLICATION_STATE="yandexGames_gametok_application_state"}(L||(L={}));var D,N,M,U;function G(){var e,t;if("object"!=typeof window)return I;const r=(null===(e=null===window||void 0===window?void 0:window.appData)||void 0===e?void 0:e.networkThtrottlingRatio)||1;return(null===(t=null===window||void 0===window?void 0:window.appData)||void 0===t?void 0:t.isWorldWide)?R*r:I*r}!function(e){e.Control="control",e.AllFeatures="all-features"}(D||(D={})),function(e){e.Catalog="catalog",e.Play="play"}(N||(N={})),function(e){e.WelcomeBonusPopup="welcome-bonus-popup",e.BalancePopup="balance-popup"}(M||(M={})),function(e){e.CLICK_BUTTON_DISABLE_AD="click-button-disable-ad",e.CLICK_BUTTON_SKIP_AD="click-button-skip-ad",e.ERROR="error",e.EMPTY="empty",e.NOT_SHOW_CONDITION="not-show-condition",e.RENDER_END="renderEnd",e.SHOW_BUTTON_DISABLE_AD="show-button-disable-ad",e.SHOW="show",e.SKIP="skip"}(U||(U={}));var F=r(121);function B(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").endsWith(`${F.U_.YA}.ru`)}function Y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ru",r=arguments.length>2?arguments[2]:void 0;return e=e.replace("%TLD%",t),"ru"===t&&B(r)&&(e=e.replace(`${F.U_.YANDEX}.ru`,`${F.U_.YA}.ru`)),e}var H,j;const K=C("src/sdk/utils/env"),W="undefined"!=typeof window&&((null===(H=window.appData)||void 0===H?void 0:H.env)||(null===(j=window.gameTokAppData)||void 0===j?void 0:j.env))||void 0,$=W?W.NODE_ENV:"production",V="production"===$||"stress"===$;K("IS_PROD",V),K("NODE_ENV",$);const Z=(0,m.Z)(g.location),z=(V||parseInt(Z.test_uid,10),V||Z.test_email,V||Z.test_oauth,"true"===Z.yandexapp),X=Z.origin||void 0,q=X||g.location.origin,J=X?X.match(E.SB):Boolean(g.location.origin.match(E.SB)),Q=g.location.hostname.endsWith("ya.ru");const ee=J?F.U_.PLAYHOP:Q?F.U_.YA:F.U_.YANDEX,te=(q.match(new RegExp(`[.\\/]${ee}\\.([a-z.]+)$`))||["","ru"])[1],re=(W?W.SDK_BACKEND_URL:"https://games-sdk.yandex.%TLD%/games/api/sdk/v1")||"",ne=(W?W.PLAYHOP_SDK_BACKEND_URL:"https://games-sdk.playhop.%TLD%/games/api/sdk/v1")||"",oe=J?Y(ne,te):Y(re,te,g.location.host);K("BACKEND_SDK_URL",oe);W&&W.OAUTH_CLIENT_ID,W&&W.SDK_PASSPORT_PREFIX;var ae=r(133);r(23);C("AdvStickyBanner");var ie,se,ce,de,le;!function(e){e.BOTTOM="bottom",e.RIGHT="right",e.LEFT="left",e.UPPER="upper"}(ie||(ie={})),function(e){e.RIGHT="right"}(se||(se={})),function(e){e.DESKTOP="desktop",e.DESKTOP_ADDITIONAL="desktop_additional",e.LANDSCAPE="landscape",e.LANDSCAPE_ADDITIONAL="landscape_additional",e.PORTRAIT="portrait"}(ce||(ce={})),function(e){e.COLUMN="column",e.ROW="row"}(de||(de={})),function(e){e.ADV_IS_NOT_CONNECTED="ADV_IS_NOT_CONNECTED",e.UNKNOWN="UNKNOWN"}(le||(le={}));const ue=1e3,pe=60*ue;const _e="undefined"!=typeof window&&"1"===(0,m.Z)(window.location)[E.x2];"undefined"!=typeof window&&(0,m.Z)(window.location)[E.p4],"undefined"!=typeof window&&(0,m.Z)(window.location)[E.x2];var me;!function(e){e.ONBOARDING="onboarding",e.GAME="game",e.ADV="adv",e.ANDROID_NATIVE_PROMO="android_native_promo"}(me||(me={}));const he=C("NoAds"),ge="yandex-games-no-ads-style";function fe(){Array.isArray(window.adfoxAsyncParams)&&0!==window.adfoxAsyncParams.length&&(window.adfoxAsyncParams=[]),Array.isArray(window.yaContextCb)&&0!==window.yaContextCb.length&&(window.yaContextCb=[]),Array.isArray(window.yandexContextAsyncCallbacks)&&0!==window.yandexContextAsyncCallbacks.length&&(window.yandexContextAsyncCallbacks=[])}let ve=!1;function ye(){ve||(ve=!0,he("_disableAds"),Ee(),function(){var e,t,r;const n={destroy(){he("Ya.Context.AdvManager.destroy disabled")},render(e,t){"function"==typeof t?t():"function"==typeof e.altCallback?e.altCallback():"function"==typeof e.onError&&e.onError({code:"YA_GAMES_ADS_DISABLED",text:"",type:"error"})}};"function"==typeof(null===(r=null===(t=null===(e=window.Ya)||void 0===e?void 0:e.Context)||void 0===t?void 0:t.AdvManager)||void 0===r?void 0:r.render)&&(window.Ya.Context.AdvManager.render=n.render),fe();let o=window.Ya;Object.defineProperty(window,"Ya",{get(){var e;return(null===(e=null==o?void 0:o.Context)||void 0===e?void 0:e.AdvManager)&&o.Context.AdvManager!==n&&(o.Context.AdvManager=n),fe(),o},set(e){var t;(null===(t=e.Context)||void 0===t?void 0:t.AdvManager)&&e.Context.AdvManager!==n&&(e.Context.AdvManager=n),o=e},enumerable:!0,configurable:!0}),window.Ya=window.Ya||{},window.Ya.Context=window.Ya.Context||{AdvManager:n},window.Ya.Context.AdvManager=n,he("disable Ya.Context.AdvManager.render")}())}function Ee(){!function(){var e;if(document.getElementById(ge))return;const t=document.createElement("style");t.id=ge,t.textContent='\nbody div[id*="yandex_rtb"],\nbody div[id*="adfox"],\nbody iframe#bwiframe,\nbody iframe[src*="yabnrwall.html"],\nbody iframe[src*="yartbbnr.html"],\nbody yatag,\nbody yatag[class]\n{ display: none !important; }',null===(e=document.body)||void 0===e||e.appendChild(t)}()}const we=C("AdvManager");class Ae{constructor(e){var t;this.options=e,this.adOpened=!1,this.callbacks=[],this.lastCloseFullscreenTime=0,this.startTime=Date.now(),this.adv=this.options.adv||{},(null===(t=window.YandexGamesSDKEnvironment)||void 0===t?void 0:t.isWorldWide)?this.setDisabledState(!0):_e&&Ee(),Object.defineProperty(this,"callbacks",{enumerable:!1}),Object.defineProperty(this.adv,"onAdvClose",{enumerable:!1}),p.Z.onExternalMessage("adv-manager",(e=>{var t,r,n,o,a,i,s,c,d,l,p,_,m,h,g,f;switch(e.data.action){case"adv-callback-open":null===(r=(t=this.callbacks).onOpen)||void 0===r||r.call(t);break;case"adv-callback-close":this.adOpened=!1,this.lastCloseFullscreenTime=Date.now(),this._hideAdv(e.data.data.wasShown);break;case"adv-callback-error":this.adOpened=!1,this._hideAdv(e.data.data.wasShown);try{if("string"!=typeof(null===(o=null===(n=e.data.data)||void 0===n?void 0:n.error)||void 0===o?void 0:o.message)){const t=new Error("Undefined error message");try{t.additional=JSON.stringify(e.data.data)}catch(e){t.additional="undefined"}(0,u.fF)(t)}}catch(e){}null===(i=(a=this.callbacks).onError)||void 0===i||i.call(a,new Error(e.data.data.error.message,{cause:e.data.data.error}));break;case"adv-callback-offline":this.adOpened=!1,this._hideAdv(),null===(c=(s=this.callbacks).onOffline)||void 0===c||c.call(s);break;case"rewarded-video-callback-open":null===(l=(d=this.callbacks).onOpen)||void 0===l||l.call(d);break;case"rewarded-video-callback-rewarded":null===(_=(p=this.callbacks).onRewarded)||void 0===_||_.call(p);break;case"rewarded-video-callback-close":this.adOpened=!1,null===(h=(m=this.callbacks).onClose)||void 0===h||h.call(m);break;case"rewarded-video-callback-error":this.adOpened=!1,null===(f=(g=this.callbacks).onError)||void 0===f||f.call(g,new Error(e.data.data.error.message,{cause:e.data.data.error}));break;case"set-disabled-state":we('On "set-disabled-state" event',e.data,e.data.data.value),this.setDisabledState(e.data.data.value)}})),this.updateDisabledState()}updateDisabledState(){p.Z.postToParent({type:"adv-manager",action:"get-disabled-state"}).then((e=>{let{data:t}=e;this.setDisabledState(t.value)})).catch(console.warn)}setDisabledState(e){we("setDisabledState",e),e?ye():ve&&(ve=!1)}openAdLock(e,t){var r,n;let o;return this.adOpened?(o=new Error("Another ad already opened"),o.additional={type:this.adOpenedType},null===(r=e.onError)||void 0===r||r.call(e,o)):t&&Math.abs(Date.now()-this.lastCloseFullscreenTime)<5e3&&(o=new Error("Please, don't try to open advertising often than once per 5000ms"),(0,ae.mv)()&&(null===(n=e.onError)||void 0===n||n.call(e,o))),o?((0,u.fF)(o),this._callOnAdvClose(),!1):(this.adOpened=!0,this.resetAdOpenedInMinute(),!0)}resetAdOpenedInMinute(){window.clearTimeout(this.adOpenedResetTimeout),this.adOpenedResetTimeout=window.setTimeout((()=>{this.adOpened=!1}),pe)}showFullscreenAdv(){let{callbacks:e={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._addCallbacks(e,["onClose","onOpen","onError","onOffline"]),this.openAdLock(e,!0))return this.adOpenedType="fullscreen",p.Z.postToParent({type:"adv-manager",action:"adv-show-fullscreen"}).catch((e=>{var t,r;this.adOpened=!1,(0,u.fF)(e),null===(r=(t=this.callbacks).onError)||void 0===r||r.call(t,e),this._hideAdv()})),this}showRewardedVideo(){let{callbacks:e={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.openAdLock(e,!1))return this._addCallbacks(e,["onOpen","onRewarded","onClose","onError"]),this.adOpenedType="rewarded",p.Z.postToParent({type:"adv-manager",action:"adv-show-rewarded-video"}).catch((e=>{var t,r;this.adOpened=!1,(0,u.fF)(e),null===(r=(t=this.callbacks).onError)||void 0===r||r.call(t,e)})),this}showBannerAdv(){return new Promise((e=>{var t;(null===(t=window.YandexGamesSDKEnvironment)||void 0===t?void 0:t.isStickyBannerEnabled)?p.Z.postToParent({type:"adv-manager",action:"adv-show-sticky-banner"}).then((t=>{let{data:r}=t;e(r)})).catch((t=>{(0,u.fF)(t),e({stickyAdvIsShowing:!1,reason:le.UNKNOWN})})):e({stickyAdvIsShowing:!1,reason:le.ADV_IS_NOT_CONNECTED})}))}hideBannerAdv(){return new Promise((e=>{p.Z.postToParent({type:"adv-manager",action:"adv-hide-sticky-banner"}).then((t=>{let{data:r}=t;e(r)})).catch((t=>{e({stickyAdvIsShowing:!1}),(0,u.fF)(t)}))}))}getBannerAdvStatus(){return new Promise((e=>{var t;(null===(t=window.YandexGamesSDKEnvironment)||void 0===t?void 0:t.isStickyBannerEnabled)?p.Z.postToParent({type:"adv-manager",action:"adv-status-sticky-banner"}).then((t=>{let{data:r}=t;e(r)})).catch((t=>{(0,u.fF)(t),e({stickyAdvIsShowing:!1,reason:le.UNKNOWN})})):e({stickyAdvIsShowing:!1,reason:le.ADV_IS_NOT_CONNECTED})}))}_hideAdv(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._callOnAdvClose(e)}_addCallbacks(e,t){t.forEach((t=>{this.callbacks[t]="function"==typeof e[t]?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;return function(){try{return e(...arguments)}catch(e){(0,u.fF)(e,{prefix:t}),r&&r(e)}}}(e[t],`Error in callback ${t}: `):()=>{}}))}_callOnAdvClose(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t,r;if("function"==typeof this.adv.onAdvClose)try{this.adv.onAdvClose(e)}catch(e){(0,u.Ts)(e)}null===(r=(t=this.callbacks).onClose)||void 0===r||r.call(t,e)}}const be=C("AuthManagerPrivate");const Oe=new class{constructor(){this.onExternalAuthMessage=e=>{const{action:t,data:r}=e.data;"changed"===t&&this.switchAuthState(r.hasAuth)},this.initMessaging(),this.getAuthState()}initMessaging(){p.Z.onExternalMessage("auth",this.onExternalAuthMessage)}switchAuthState(e){this.hasAuthValue!==e&&(be(`switch auth state to ${e}`),this.hasAuthValue=e)}getAuthState(){p.Z.postToParent({type:"auth",action:"has-auth"}).then((e=>{let{data:{hasAuth:t}}=e;this.switchAuthState(t)}))}hasAuth(){return void 0===this.hasAuthValue&&((0,u.fF)(new Error("AuthManagerPrivate.hasAuth() called when state is not defined")),this.hasAuthValue=!0),this.hasAuthValue}};const Se=new class{openAuthDialog(){return p.Z.postToParent({type:"auth",action:"auth-dialog-open",data:{initializer:"auth-manager-public"}})}};var Pe=r(130);let Te;Te=r(112).Z;const Ce=Te;E.xY.L,E.xY.CATEGORIZED_NEW_L,E.xY.RECOMMENDED_NEW,E.xY.ADAPTIVE_RECOMMENDED_NEW,E.xY.PROFILE_RECENT_GAMES,E.xY.PREMIUM_BIG,E.xY.TV,E.xY.SINGLE;var ke;!function(e){e.PORTRAIT="272x484",e.LANDSCAPE="564x318_1"}(ke||(ke={}));var Ie;!function(e){e.BIG="big",e.NORMAL="normal",e.ISLANDS_200="islands-200",e.ISLANDS_MIDDLE="islands-middle",e.ISLANDS_75="islands-75",e.ISLANDS_RETINA_SMALL="islands-retina-small",e.ISLANDS_RETINA_MEDIUM="islands-retina-medium"}(Ie||(Ie={}));const Re="0/0-0";var xe=r(92);function Le(e,t,r){var n,o;if(!e)return;let a=function(e,t,r){let n;try{let t=new URL(e);n=xe.parse((r?t.hash:t.search).slice(1))}catch(e){return}if(void 0===n)return;let o=null==n?void 0:n[t];return o?Array.isArray(o)?o[0]:o:void 0}(e,"sdk_url",t);if(void 0===a)return;const i=void 0!==r?r.SDK_CUSTOM_DOMAINS:process.env.SDK_CUSTOM_DOMAINS;if(!i)return;let s;try{s=JSON.parse(i)}catch(e){return}if(void 0===s)return;return null!==(o=null===(n=null==s?void 0:s[a])||void 0===n?void 0:n.apiDomain)&&void 0!==o?o:void 0}function De(e){var t;let r=new URL(e);if(null===(t=null===window||void 0===window?void 0:window.appData)||void 0===t?void 0:t.env){let e=Le(window.location.href,!0,window.appData.env);if(e)return r.hostname=e,r.href}return e}const Ne={small:Ie.ISLANDS_RETINA_SMALL,medium:Ie.ISLANDS_RETINA_MEDIUM,large:Ie.ISLANDS_200},Me={small:Ie.ISLANDS_200,medium:Ie.ISLANDS_200,large:Ie.BIG},Ue=`${oe}/player`;class Ge{constructor(e){this._personalInfo=e}getID(){return(0,u.Ts)(new Error("Player.getID() is deprecated. Please, use Player.getUniqueID().\nhttps://yandex.ru/dev/games/doc/dg/sdk/sdk-player.html#sdk-player__profile-data")),Ce.sendOnceDeprecatedUsage("Player.getID"),this._personalInfo.id}getUniqueID(){return this._personalInfo.uniqueID}getName(){return this._personalInfo.publicName}getMode(){var e;return null!==(e=this._personalInfo.mode)&&void 0!==e?e:""}getPhoto(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"medium";const t=Ne[e];if(!t)throw new Error(`Unknown size value ('${e}')`);return this._personalInfo.avatarIdHash?`${De(Ue)}/avatar/${this._personalInfo.avatarIdHash}/${t}`:`https://avatars.mds.yandex.net/get-yapic/${Re}/${t}`}hasPremium(){var e;return null!==(e=this._personalInfo.hasPremium)&&void 0!==e&&e}}function Fe(e,t){let r,n;return function(){for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];const s=a,c=this;return r||(r=!0,setTimeout((()=>r=!1),t),n=e.apply(c,s)),n}}var Be=r(122),Ye=r(134);function He(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.keys(r).forEach((e=>{void 0===r[e]&&delete r[e]}));const n=(0,Ye.Z)({url:`${e}${t}`,params:r});return(0,ae.$g)(n)}function je(e){const{api:t,authRequired:r,path:n,params:o,timeout:a}=e;return new Promise(((e,i)=>{const s=He(t,n,o);if(!s)return void i(new Error("Can not create URL"));p.Z.postToParent({type:"fetch",data:{authRequired:r,options:{credentials:"include",referrerPolicy:"no-referrer-when-downgrade"},timeout:a,url:s}}).then((t=>{let{data:{result:r}}=t;e(r)})).catch(i)}))}function Ke(e){const{api:t,authRequired:r,data:n,params:o,path:a,timeout:i}=e;return new Promise(((e,s)=>{const c=He(t,a,o);if(!c)return void s(new Error("Can not create URL"));const d={body:JSON.stringify(n),credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",referrerPolicy:"no-referrer-when-downgrade"};p.Z.postToParent({type:"fetch",data:{authRequired:r,options:d,timeout:i,url:c}}).then((t=>{let{data:{result:r}}=t;e(r)})).catch(s)}))}const We=`${oe}/leaderboard`,$e=10*ue,Ve=()=>$e*G(),Ze=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return je({api:De(We),timeout:Ve(),path:e,params:t,authRequired:Boolean(null==r?void 0:r.authRequired)})},ze=ue,Xe=Fe((function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Ke({api:De(We),timeout:Ve(),authRequired:!0,path:e,data:t,params:r})}),ze);class qe{constructor(){this._appId=(0,ae.rh)()}getLeaderboardDescription(e){return Ze("/descr",{"app-id":this._appId,name:e})}getLeaderboardStat(e){return Ze("/stat",{"app-id":this._appId,name:e})}transformLeaderboardEntry(e){const{avatarIdHash:t,lang:r,publicName:n,scopePermissions:o,uniqueID:a}=e.player,i=`${Ue}/avatar/${t}`;return Object.assign(Object.assign({},e),{player:{getAvatarSrc:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"medium";return Ne[e]||(e="medium"),`${i}/${Ne[e]}`},getAvatarSrcSet:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"medium";return Ne[e]||(e="medium"),`${i}/${Ne[e]} 1x, ${i}/${Me[e]} 2x`},lang:r,publicName:n,scopePermissions:o,uniqueID:a}})}transformLeaderboardEntries(e){return e.map(this.transformLeaderboardEntry)}getLeaderboardEntries(e,t){const{includeUser:r=!1,quantityAround:n=5,quantityTop:o=5}=t||{};return Ze((0,ae.H8)("/entries"),{"app-id":this._appId,include_user:r,name:e,quantity_around:n,quantity_top:o},{authRequired:r}).then((e=>{const{entries:t,leaderboard:r,ranges:n,userRank:o}=e;return{entries:this.transformLeaderboardEntries(t),leaderboard:r,ranges:n,userRank:o}}))}getLeaderboardPlayerEntry(e){return Ze((0,ae.H8)("/player-entry"),{"app-id":this._appId,name:e},{authRequired:!0}).then((e=>{if(!e)throw new Pe.Z({code:"LEADERBOARD_PLAYER_NOT_PRESENT",httpStatus:204,message:"Player is not present in leaderboard"});return this.transformLeaderboardEntry(e)}))}setLeaderboardScore(e,t,r){const n={"app-id":this._appId,name:e,score:t};return(0,Be.zd)()&&(n.fromViber=!0),this.lastTimeLeaderboardWasSend&&!this.canSetLeaderboardScoreByTime()?Promise.reject("The request to setLeaderboardScore can be sent no more than once per second"):(r&&(n.extraData=r),this.lastTimeLeaderboardWasSend=Date.now(),Xe("/score",n))}canSetLeaderboardScoreByTime(){return Date.now()-this.lastTimeLeaderboardWasSend>ze}}const Je=()=>{const e=new qe;return Promise.resolve(e)};var Qe=r(131);var et,tt,rt,nt,ot;!function(e){e.VERTICAL="vertical",e.HORIZONTAL="horizontal"}(et||(et={})),function(e){e.click="click",e.show="show",e.rating="rating",e.comment="comment",e.playPageFeedbackClose="play_page_feedback_close",e.playPageFeedbackShow="play_page_feedback_show",e.openingGamePage="opening_game_page",e.clickGamePage="click_game_page",e.openGamePage="open_game_page",e.closeGamePage="close_game_page",e.clickFilm="clickFilm",e.showFilm="showFilm"}(tt||(tt={})),function(e){e.ADD_RECENT_GAME="add_recent_game_time",e.DELETE_RECENT_GAME="delete_recent_game_time",e.GET_GAMES_WITH_PROMO="get_games_with_promo_time",e.GET_TAGS="get_tags_time",e.LOAD_CATALOG_DATA="load_catalog_data_time",e.LOAD_SEARCH_DATA="load_search_data_time",e.SET_RATING="set_rating_time"}(rt||(rt={})),function(e){e.IS_TURBO_APP="is_turbo_app",e.NO_CATALOG_SESSION_ID="no_catalog_session_id",e.CHECK_SUM_CHANGED="check_sum_changed",e.TAB_CHANGED="tab_changed",e.TAG_ID_CHANGED="tag_id_changed",e.ADD_FIRST_GAME="add_first_game"}(nt||(nt={})),function(e){e.LOAD_GAME_DATA="load_game_data_{format}_time"}(ot||(ot={}));var at;!function(e){e.NEW="new",e.PROMO_DIRECT="promo_direct",e.PROMO_EVENT="promo_event"}(at||(at={}));const it="companyName",st="serviceName",ct={[F.U_.PLAYHOP]:{[it]:{ru:"Playhop",en:"Playhop"},[st]:{ru:"Playhop",en:"Playhop"}},[F.U_.YANDEX]:{[it]:{ru:"Яндекс",en:"Yandex"},[st]:{ru:"Игры",en:"Games"}}};ct[F.U_.YA]=ct[F.U_.YANDEX];var dt,lt;!function(e){e.desktop_morda="desktop_morda",e.sa_morda="sa_morda",e.touch_morda="touch_morda",e.arrow="arrow",e.caption="caption",e.feedback="feedback",e.gamePage="gamePage",e.gamePageBody="gamePageBody",e.gamePageFeedback="gamePageFeedback",e.gamePageFloater="gamePageFloater",e.gamePageLeaderboard="gamePageLeaderboard",e.picture="picture",e.playButton="playButton",e.organic="organic"}(dt||(dt={})),function(e){e.apply="apply",e.backButton="backButton",e.cross="cross",e.escape="escape",e.paranja="paranja",e.scroll="scroll"}(lt||(lt={}));var ut;!function(e){e.RU="ru",e.EN="en",e.BE="be",e.UK="uk",e.KK="kk",e.UZ="uz",e.TR="tr"}(ut||(ut={}));const pt=ut.RU;function _t(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pt,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(e){if("string"==typeof e)return e;if(t in e)return e[t]||r;if(!(0,F.KS)(t)&&"en"in e)return e.en||r;if(pt in e)return e[pt]||r}return r}var mt;!function(e){e.MEDIUM="medium",e.SMALL="small",e.SVG="svg"}(mt||(mt={}));const ht="//yastatic.net/s3/games-static/static-data/images/payments/sdk";let gt=function(){gt=()=>{},Ce.params({borrowParams:{payments:{appId:(0,ae.rh)(),productCurrencyCodeGet:!0}}})};class ft{constructor(e){this._productData=e}get id(){return this._productData.id}get title(){return _t(this._productData.title)}get description(){return _t(this._productData.description)}get imageURI(){const{image:e}=this._productData;return e&&"object"==typeof e&&"url_prefix"in e?/\.(png|jpg|svg)$/.test(String(e.url_prefix))?e.url_prefix:`${e.url_prefix}/default256x256`:"https://yastatic.net/s3/games-static/static-data/images/payments/default-product-image.png"}get price(){const{price:e}=this._productData;return`${e} ${this.priceCurrencyCode}`}get priceValue(){return String(this._productData.price)}get priceCurrencyCode(){var e;return gt(),null===(e=window.YandexGamesSDKEnvironment)||void 0===e?void 0:e.moneyCodeSymbol}getPriceCurrencyImage(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt.SMALL;if(e===mt.SVG)return`${ht}/currency-icon-m.svg`;let t="s";switch(e){case mt.MEDIUM:case mt.SMALL:t=e.charAt(0);break;default:console.warn(`Unknown size value ('${e}')`)}const r=window.devicePixelRatio>=2;return`${ht}/currency-icon-${t}${r?"@2x":""}.png`}toJSON(){return{id:this.id,title:this.title,description:this.description,imageURI:this.imageURI,price:this.price,priceValue:this.priceValue,priceCurrencyCode:this.priceCurrencyCode}}}class vt{constructor(e){"purchaseTime"in e||(e.purchaseTime=0),this.purchaseData=e}get productID(){return this.purchaseData.productID}get purchaseTime(){return this.purchaseData.purchaseTime}get purchaseToken(){return this.purchaseData.purchaseToken}get developerPayload(){return this.purchaseData.developerPayload}toJSON(){return{productID:this.productID,purchaseTime:this.purchaseTime,purchaseToken:this.purchaseToken,developerPayload:this.developerPayload}}}r(113),r(114),r(115),r(116),r(117),r(118);function yt(e){return function(e){for(var t,r="",n=e.length,o=0;o<n;o++)t=e[o],r+=String.fromCharCode(t>251&&t<254&&o+5<n?1073741824*(t-252)+(e[++o]-128<<24)+(e[++o]-128<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:t>247&&t<252&&o+4<n?(t-248<<24)+(e[++o]-128<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:t>239&&t<248&&o+3<n?(t-240<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:t>223&&t<240&&o+2<n?(t-224<<12)+(e[++o]-128<<6)+e[++o]-128:t>191&&t<224&&o+1<n?(t-192<<6)+e[++o]-128:t);return r}(function(e,t){for(var r,n,o,a=e.replace(/[^A-Za-z0-9\+\/]/g,""),i=a.length,s=t?Math.ceil((3*i+1>>>2)/t)*t:3*i+1>>>2,c=new Uint8Array(s),d=0,l=0,u=0;u<i;u++)if(n=3&u,d|=((o=a.charCodeAt(u))>64&&o<91?o-65:o>96&&o<123?o-71:o>47&&o<58?o+4:43===o?62:47===o?63:0)<<18-6*n,3===n||i-u==1){for(r=0;r<3&&l<s;r++,l++)c[l]=d>>>(16>>>r&24)&255;d=0}return c}(e))}function Et(e,t){t&&Object.defineProperty(e,"signature",{enumerable:!1,configurable:!1,get:()=>t})}const wt=C("Payment");class At{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._config=e,this.___test1212()}getCatalog(){return new Promise(((e,t)=>{p.Z.postToParent({type:"payments",action:"get-catalog",data:{lang:this._config.lang}}).then((t=>{let{data:r}=t;wt("get-catalog result",r),e(r.products.map((e=>new ft(e))))})).catch((e=>{t(e)}))}))}purchase(e){"object"!=typeof e&&(e={id:e,developerPayload:""});const{developerPayload:t}=e;if(t){if("string"!=typeof t)return Promise.reject(new Error("developerPayload must be a string"))}else e.developerPayload="";return new Promise(((t,r)=>{p.Z.postToParent({type:"payments",action:"purchase-start",data:{paymentsConfig:this._config,purchaseConfig:e}}).then((e=>{let{data:{data:r,signature:n}}=e;wt("purchase-start then");const o=new vt({productID:r.product.id,purchaseToken:r.token,developerPayload:r.developerPayload});Et(o,n),t(o)})).catch((e=>{wt("purchase-start catch"),r(e)}))}))}getPurchases(){return new Promise(((e,t)=>{p.Z.postToParent({type:"payments",action:"get-purchases",data:{paymentsConfig:this._config}}).then((t=>{let{data:{data:r,signature:n}}=t;wt("getPurchases callback",r);const o=r.map((e=>new vt({productID:e.product.id,purchaseToken:e.token,developerPayload:e.developerPayload})));Et(o,n),e(o)})).catch((e=>{t(e)}))}))}consumePurchase(e){return new Promise(((t,r)=>{p.Z.postToParent({type:"payments",action:"purchase-consume",data:{token:e}}).then((e=>{let{data:r}=e;if(console.info("consumePurchase data"),console.info(r),!r||!r.token)throw new Qe.Z({code:"CANNOT_CONSUME_PURCHASE",message:"Can not consume purchase."});t(!0)})).catch((e=>{r(e)}))}))}___test1212(){var e,t,r;if("96458"!==(null===(e=window.YandexGamesSDKEnvironment)||void 0===e?void 0:e.app.id))return;if(!0!==(null===(r=null===(t=window.YandexGamesSDKEnvironment)||void 0===t?void 0:t.request.experiments)||void 0===r?void 0:r.test1212Payments))return;const n="position: fixed; left: 15px; padding: 0.3em; background: #fff; border: 1px solid #000; border-radius: 5px;";let o=document.createElement("div");o.setAttribute("id","payElement1212-noads"),o.setAttribute("style",`${n} top: 5px;`),o.textContent='purchase("noads")',o.onclick=()=>this.___test1212Purchase("noads"),document.body.appendChild(o),o=document.createElement("div"),o.setAttribute("id","payElement1212-3x3antiblock"),o.setAttribute("style",`${n} top: 40px;`),o.textContent='purchase("3x3antiblock")',o.onclick=()=>this.___test1212Purchase("3x3antiblock"),document.body.appendChild(o)}___test1212Purchase(e){function t(t){const r=document.getElementById(`payElement1212-${e}`);r&&(r.style.backgroundColor=t?"#0f0":"#f00")}this.purchase({id:e,developerPayload:""}).then((()=>t(!0))).catch((e=>{t(!1),(0,u.fF)(e)}))}}const bt=function(){const e=new At(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return new Promise(((t,r)=>{e.getCatalog().then((()=>t(e))).catch(r)}))},Ot=`${oe}/player`,St=5*ue,Pt=()=>St*G(),Tt=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Ke({api:De(Ot),timeout:Pt(),path:e,data:t,params:r})},Ct=204800;function kt(e){try{return JSON.stringify(e)}catch(e){return(0,u.fF)(e),`${Date.now()}.${Math.random()}`}}class It{constructor(e){this._playerId=e,this._dataHash=null,this._timestamp=0}isSamePlayer(e){return e===this._playerId}set dataHash(e){this._dataHash=e?kt(e):null}validate(e){const t=kt(e);return function(e){try{return(new TextEncoder).encode(e).length}catch(t){return function(e){let t=e.length;for(let r=e.length-1;r>=0;r--){let n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}(e)}}(t)>Ct?{error:new Error("The data is too large (bigger then 204800 bytes)."),reject:!0}:this._dataHash===t?{error:new Error("The data does not differ from the previous ones."),reject:!1}:{}}getWaitTime(){let e=200;const t=Math.abs(Date.now()-this._timestamp);return t<3e3&&(e=Math.max(200,3e3-t)),e}set timestamp(e){this._timestamp=e}}const Rt=C("Player"),xt=200;function Lt(e){const{data:t,signature:r}=function(e){if("signature"in e){const{signature:t}=e;if("string"==typeof t){const{data:e}=JSON.parse(yt(t.split(".")[1]));return{data:e,signature:t}}(0,u.fF)(new Error("response.signature is not a string"))}return{data:e}}(e);return Et(t,r),t}function Dt(e,t){if(void 0===t)return e;if(!Array.isArray(t))throw new Error("`keys` must be an Array");if(-1!==t.indexOf("signature"))throw new Error('`keys` must not contains "signature" key');const r={};return t.forEach((t=>{t in e&&(r[t]=e[t])})),r}function Nt(e){return!(!e||"object"!=typeof e)&&Object.values(e).every((e=>"number"==typeof e&&!isNaN(e)))}let Mt,Ut,Gt;p.Z.onExternalMessage("auth",(e=>{if("changed"===e.data.action&&Gt){Rt("Call onLogoutCallback()");try{Gt()}catch(e){console.error()}Gt=void 0}}));class Ft extends Ge{constructor(e,t){super(e),this.config=t,Ut&&Ut.isSamePlayer(this.getUniqueID())||(Ut=new It(this.getUniqueID()))}onLogout(e){Rt("Set onLogout callback"),Gt=e}getIDsPerGame(){return this._fetchData("-ids-per-game")}getData(e){return void 0!==this.data?this.dataPromise=Promise.resolve(this.data):void 0===this.dataPromise&&(this.dataPromise=new Promise(((e,t)=>{this._fetchData("/data").then((t=>{this.data=t,e(t)})).catch((e=>{this.dataPromise=void 0,t(e)}))}))),this.dataPromise.then((t=>Dt(t,e)))}setData(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!function(e){return!(!e||"object"!=typeof e)}(e))return Promise.reject(new Error("Data is not valid"));this.data=e;const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=Ut.validate(e);return r.error?r.reject?Promise.reject(r.error):((0,u.Ts)(r.error),Promise.resolve(!0)):new Promise(((r,n)=>{Mt&&window.clearTimeout(Mt);let o=t?xt:Math.max(xt,Ut.getWaitTime());Ut.timestamp=Date.now(),Mt=window.setTimeout((()=>{Tt("/data",e).then((()=>{Ut.dataHash=e,r(!0)})).catch((e=>{Ut.timestamp=0,Ut.dataHash=null,n(e)}))}),o)}))}(e,t);return t?r:Promise.resolve(!0)}getStats(e){return void 0===this.statsPromise&&(this.statsPromise=new Promise(((e,t)=>{this._fetchData("/stats").then(e).catch(t).finally((()=>this.statsPromise=void 0))}))),this.statsPromise.then((t=>Dt(t,e)))}setStats(e){return Nt(e)?Tt("/stats",e):Promise.reject(new Error("Stats is not valid"))}incrementStats(e){return Nt(e)?this._postData("/stats/increment",e):Promise.reject(new Error("Increments is not valid"))}_fetchData(e){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return je({api:De(Ot),timeout:Pt(),path:e,params:t})}((0,ae.H8)(`${e}${this.config.signed?"-signed":""}`)).then(Lt)}_postData(e,t){return Tt(`${e}${this.config.signed?"-signed":""}`,t).then(Lt)}}var Bt=r(129);let Yt;try{Yt=window.localStorage}catch(e){}const Ht=Yt||function(){let e={};return{clear(){e={}},getItem:t=>e[t],key:t=>Object.keys(e)[t],removeItem(t){delete e[t]},setItem(t,r){e[t]=String(r)},get length(){return Object.keys(e).length}}}(),jt=/iPad|iPhone|iPod/.test(navigator.platform),Kt=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),Wt=jt||Kt,$t=/app-[^.]+\.games\.s3\.yandex\.net$/.test(window.location.hostname),Vt=!$t&&Wt,Zt=(0,Bt.Z)((()=>{(0,u.fF)(new Error("localStorage is broken on iOS/MacOS - https://developer.apple.com/forums/thread/109909\nPlease use YaGames.init().then(ysdk => ysdk.getStorage()).then(storage => storage.setItem('key', 'value'))"))}));class zt{static setup(){Vt&&Object.defineProperty(window,"localStorage",{get:function(){return Zt(),Ht}}),Wt&&$t&&zt.setProxy()&&zt.backup()}static load(){if(zt.onloadPromise_)return zt.onloadPromise_;const e=zt.getCustomLocalStorage();return e?(zt.onloadPromise_=new Promise((t=>{window.addEventListener("message",(r=>{let{data:{type:n,action:o,data:a}}=r;if("local-storage"===n&&"get-all"===o){for(let t in a)e.setItem(t,String(a[t]));t(e)}})),window.parent.postMessage({type:"local-storage",action:"get-all",source:"YandexGamesSDK"},"*")})),zt.onloadPromise_):Promise.resolve(Ht)}static getCustomLocalStorage(){if("function"!=typeof Proxy)return null;return new Proxy({clear(){Ht.clear.call(Ht),p.Z.postToParent({type:"local-storage",action:"clear"})},getItem:e=>Ht.getItem.call(Ht,e),key:e=>Ht.key.call(Ht,e),get length(){return Ht.length},removeItem(e){Ht.removeItem.call(Ht,e),p.Z.postToParent({type:"local-storage",action:"del",data:{key:e}})},setItem(e,t){Ht.setItem.call(Ht,e,String(t)),p.Z.postToParent({type:"local-storage",action:"set",data:{key:e,value:t}})}},{get:function(e,t){return t in e?e[t]:e.getItem(String(t))},set:function(e,t,r){return e.setItem(String(t),r),!0}})}static setProxy(){const e=zt.getCustomLocalStorage();return!!e&&(Object.defineProperty(window,"localStorage",{get:function(){return e}}),!0)}static backup(){const e=Object.create(null);for(let t=0;t<Ht.length;t++){const r=Ht.key(t);r&&(e[r]=Ht.getItem(r))}p.Z.postToParent({type:"local-storage",action:"backup",data:e})}}function Xt(){return!Wt&&Yt?Promise.resolve(Yt):zt.load()}function qt(e){const t=typeof e;return null!=e&&("object"===t||"function"===t)}zt.onloadPromise_=null;const Jt=new class{writeText(e){try{e=String(e)}catch(e){return Promise.reject(new Error("Error while stringified provided value"))}return new Promise(((t,r)=>{p.Z.postToParent({type:"clipboard",action:"write-text",data:{text:e}}).then((()=>t(void 0))).catch(r)}))}},Qt={android:()=>!Qt.windows()&&nr("android"),androidPhone:()=>Qt.android()&&nr("mobile"),androidTablet:()=>Qt.android()&&!nr("mobile"),blackberry:()=>nr("blackberry")||nr("bb10")||nr("rim"),blackberryPhone:()=>Qt.blackberry()&&!nr("tablet"),blackberryTablet:()=>Qt.blackberry()&&nr("tablet"),cordova:()=>Boolean(window.cordova&&"file:"===window.location.protocol),desktop:()=>!Qt.tablet()&&!Qt.mobile(),fxos:()=>(nr("(mobile")||nr("(tablet"))&&nr(" rv:"),fxosPhone:()=>Qt.fxos()&&nr("mobile"),fxosTablet:()=>Qt.fxos()&&nr("tablet"),ios:()=>Qt.iphone()||Qt.ipod()||Qt.ipad(),ipad:()=>nr("ipad"),iphone:()=>!Qt.windows()&&nr("iphone"),ipod:()=>nr("ipod"),landscape:function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?rr(screen.orientation.type,"landscape"):window.innerHeight/window.innerWidth<1},macos:()=>nr("mac"),meego:()=>nr("meego"),mobile:function(){return Qt.androidPhone()||Qt.iphone()||Qt.ipod()||Qt.windowsPhone()||Qt.blackberryPhone()||Qt.fxosPhone()||Qt.meego()},nodeWebkit:()=>"object"==typeof window.process,get os(){return or(["ios","iphone","ipad","ipod","android","blackberry","macos","windows","fxos","meego","television"])},portrait:function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?rr(screen.orientation.type,"portrait"):window.innerHeight/window.innerWidth>1},tablet:function(){return Qt.ipad()||Qt.androidTablet()||Qt.blackberryTablet()||Qt.windowsTablet()||Qt.fxosTablet()},tv:()=>tr.some((e=>nr(e))),get type(){return or(["tv","mobile","tablet","desktop"])},windows:()=>nr("windows"),windowsPhone:()=>Qt.windows()&&nr("phone"),windowsTablet:()=>Qt.windows()&&nr("touch")&&!Qt.windowsPhone()},er="undefined"==typeof window?"":window.navigator.userAgent.toLowerCase(),tr=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","pov_tv","hbbtv","ce-html","yandexmodule","androidtv"];function rr(e,t){return-1!==e.indexOf(t)}function nr(e){return rr(er,e)}function or(e){for(let t=0;t<e.length;t+=1)if(Qt[e[t]]())return e[t];return"unknown"}const ar=Qt,ir={isMobile:()=>ar.mobile(),isTablet:()=>ar.tablet(),isDesktop:()=>ar.desktop(),isTV:()=>ar.tv(),type:ar.type},sr={APP_VERSION:"",app:{id:""},browser:{lang:"ru"},clid:void 0,i18n:{lang:"ru",tld:"ru"},isStickyBannerEnabled:!1,isWorldWide:!1,isYandexApp:!1,moneyCodeSymbol:E.NA.HOP,params:{},request:{},serviceName:E.kJ.YANDEX};let cr=()=>(window.YandexGamesSDKEnvironment||(0,u.fF)(new Error("SDK environment: `window.YandexGamesSDKEnvironment` is undefined")),cr=()=>window.YandexGamesSDKEnvironment||sr,cr());const dr={get app(){return cr().app},get browser(){return cr().browser},get data(){return cr().data||{}},get i18n(){return cr().i18n},get payload(){return cr().params.payload}};const lr=(()=>{var e;const t=null===(e=window.YandexGamesSDK)||void 0===e?void 0:e.game.info;if(!t)return;const r=parseInt(t.appId,10);return r?{appId:r,developerId:t.publisher.id}:void 0})();const ur=[{regexp:new RegExp("User .+ already exists in users list!"),title:"User already exists in users list!"},{regexp:new RegExp("\\(Filename:.+Line: -?[0-9]+\\)"),title:"Unity"},{substr:"UnityEngine",title:"Unity"},{substr:"Dimensions must match",title:"Unity"},{substr:"Loading FSB failed for audio clip",title:"Unity"},{substr:"UnityLoader",title:"Unity"},{substr:"GLSL",title:"GLSL"},{substr:"ValerypopoffJS plugin",title:"ValerypopoffJS plugin"},{substr:"https://github.com/cocos-creator/engine",title:"cocos-creator"},{substr:"Wicket.Ajax",title:"Wicket.Ajax"},{substr:'Error loading sound "%s"',title:'"loading sound"'},{substr:"Error loading image",title:'"loading image"'},{substr:"Error loading Texture",title:'"loading Texture"'},{substr:"Error loading asset",title:'"loading asset"'},{substr:"Error loading audio url",title:'"loading audio url"'},{substr:"Error loading animation resource",title:'"loading animation resource"'},{substr:"Failed to load resource:",title:'"loading resource"'},{substr:"Could not load",title:'"loading"'},{substr:"Failed to load",title:'"loading"'},{regexp:new RegExp("[Cc]ould not allocate memory"),title:"working with memory"},{substr:"Out of executable memory in function at index",title:"working with memory"},{substr:"memory access out of bounds",title:"working with memory"},{substr:"pre-main prep time: ",title:'"pre-main prep time"'},{substr:"FAILED DIGGING: ",title:'"DIGGING"'},{substr:"sth wrong with connection!",title:'"sth wrong with connection!"'},{substr:"Object2D is not available",title:'"Object2D is not available"'},{regexp:new RegExp("^Client : Error finish action.*?respawn$"),title:'"finish action respawn"'},{substr:"[TokenStorageYandex]",title:"TokenStorageYandex"},{substr:"TOO_SMALL_CONTAINER",title:"TOO_SMALL_CONTAINER"},{substr:"window.cb",title:"window.cb"}],pr=e=>{const t=(e=>e.map((e=>{if("object"==typeof e)try{return JSON.stringify(e)}catch(t){return`${e}: ${t.message}`}return String(e)})).join(" "))(e),r=(e=>{for(const t of ur)if(t.regexp&&-1!==e.search(t.regexp)||t.substr&&e.includes(t.substr))return{message:`[grouped] Error related to ${t.title}`,additional:{message:e}};return{message:e}})(t),n=new Error(r.message);return r.additional&&(n.additional=r.additional),n};function _r(e,t){t&&(e.type=t),p.Z.postToParent({data:e,type:"error"}).catch((e=>{console.warn(e)}))}function mr(e){return{data:{additional:{sdkVersion:2}},error:e,source:"game",sourceMethod:(0,u.Zi)(e.stack)}}const hr=new class{constructor(e){this.source=e,window.addEventListener("error",this),"Promise"in window&&window.addEventListener("unhandledrejection",this)}addLogger(e){this.logger=e}handleEvent(e){this._handleEvent(e)}_handleEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";try{this._unsafeHandleEvent(e,t)}catch(e){console.warn("Couldn't handle event in ErrorCounter!",e)}}_unsafeHandleEvent(e,t){return"unhandledrejection"===e.type?this._unsafeHandlePromiseRejectionEvent(e):this._unsafeHandleErrorEvent(e,t)}_unsafeHandlePromiseRejectionEvent(e){var t;const{reason:r}=e;if(!r)return;let n;const o={};r.stack&&r.message?n=r.message:(n=String(r),"[object Event]"===n?n="event.type: "+r.type:"[object Object]"===n&&(o.unhandledObject=r)),(null===(t=r.target)||void 0===t?void 0:t.src)&&(o.src=r.target.src),this._postError({additional:o,message:"Unhandled rejection: "+n,name:"UnhandledPromiseError",stack:r.stack||""},"unhandled")}_unsafeHandleErrorEvent(e,t){var r,n,o,a,i;const{error:s}=e,c={columnNumber:null!==(n=null!==(r=e.colno)&&void 0!==r?r:null==s?void 0:s.columnNumber)&&void 0!==n?n:-1,fileName:e.filename||(null==s?void 0:s.fileName)||"",lineNumber:null!==(a=null!==(o=e.lineno)&&void 0!==o?o:null==s?void 0:s.lineNumber)&&void 0!==a?a:-1,message:e.message||(null==s?void 0:s.message)||"",name:(null==s?void 0:s.name)||"Error",stack:null!==(i=null==s?void 0:s.stack)&&void 0!==i?i:""};(lr||(null==s?void 0:s.additional))&&(c.additional=Object.assign(Object.assign({},null==s?void 0:s.additional),lr)),this._postError(c,t)}_postError(e,t){var r;let n=(0,u.Zi)(e.stack);"ErrorListener.handleEvent"===n&&(n="unknown"),null===(r=this.logger)||void 0===r||r.call(this,{data:{additional:e.additional||{}},error:e,source:this.source,sourceMethod:n},t)}}("game");var gr,fr;hr.addLogger(_r),function(){try{const e=console.error;console.error=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];let o=r.filter((e=>e instanceof Error))[0];o||(o=pr(r));try{"string"==typeof r[1]&&r[1]===u.X4?r.pop():_r(mr(o),"console.error")}catch(e){}e.apply(console,r)}}catch(e){try{_r(mr(e),"error")}catch(e){}}}(),function(e){e.LoadingAPI="LoadingAPI",e.AudioAPI="AudioAPI"}(gr||(gr={})),function(e){e.GameInit="loading_api_game_init",e.GameReady="loading_api_game_ready",e.GameReadyForce="loading_api_game_ready_force",e.IframeAdded="loading_api_iframe_added",e.IframeLoaded="loading_api_iframe_resources_loaded",e.ScriptInit="loading_api_script_init",e.TTIReady="loading_api_tti_ready"}(fr||(fr={}));const vr=[gr.LoadingAPI],yr=30*ue;const Er={[gr.LoadingAPI]:class{constructor(){this.isReady=!1,this.startTimestamp=Date.now(),this.startReadyFallbackTimeout()}ready(){this.isReady=!0;const e=Date.now()-this.startTimestamp;this.logGameInitTime(e,fr.GameReady),clearTimeout(this.readyFallbackTimerId)}logGameInitTime(e,t){p.Z.postToParent({type:"game-measuring",action:t,data:{timeFromInit:e}})}startReadyFallbackTimeout(){this.readyFallbackTimerId=setTimeout((()=>{this.isReady=!0,this.logGameInitTime(yr,fr.GameReadyForce)}),yr)}}};class wr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(let t in gr)gr[t]in e&&e[gr[t]]&&(this[t]=new Er[t]);for(let t of vr)!this[t]&&(t in e&&e[t]||!(t in e))&&(this[t]=new Er[t]);p.Z.postToParent({type:"game-measuring",action:fr.GameInit})}}var Ar;gr.LoadingAPI,function(e){e.GAME_RATED="GAME_RATED",e.NO_AUTH="NO_AUTH",e.REVIEW_ALREADY_REQUESTED="REVIEW_ALREADY_REQUESTED",e.REVIEW_WAS_REQUESTED="REVIEW_WAS_REQUESTED",e.UNKNOWN="UNKNOWN"}(Ar||(Ar={}));const br=new class{canReview(){return new Promise((e=>{p.Z.postToParent({type:"feedback",action:"can-review"}).then((t=>{let{data:r}=t;e(r)})).catch((t=>{(0,u.fF)(t),e({reason:Ar.UNKNOWN,value:!1})}))}))}requestReview(){return new Promise((e=>{p.Z.postToParent({type:"feedback",action:"request-review"}).then((t=>{let{data:r}=t;const{feedbackSent:n,reason:o}=r;o?((0,u.fF)(o),e({feedbackSent:n})):e(r)})).catch((t=>{(0,u.fF)(t),e({feedbackSent:!1})}))}))}};function Or(){!function(){var e;null===(e=window.top)||void 0===e||e.postMessage({type:"foolproof-sdk-init",url:location.href,draftDetectedInIframe:(0,ae.mv)()},"*")}()}const Sr={allow(){p.Z.postToParent({type:"notifications",action:"allow"})}};function Pr(){const e=e=>e&&"object"==typeof e;for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.reduce(((t,r)=>(Object.keys(r).forEach((n=>{const o=t[n],a=r[n];Array.isArray(o)&&Array.isArray(a)?t[n]=o.concat(...a):e(o)&&e(a)?t[n]=Pr(o,a):t[n]=a})),t)),{})}function Tr(e){if(!e||"object"!=typeof e)return{};!function(e){"partnerId"in e&&(delete e.partnerId,console.warn("`partnerId` is deprecated in the SDKv2"))}(e);return["adv","screen"].reduce(((t,r)=>(r in e&&(t=e[r]),t)),{})}function Cr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Tr(t),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){V||(e.advBlocks.fullscreen=b.FULLSCREEN,e.advBlocks.fullscreen_landscape=b.FULLSCREEN)}(e),function(e){e.adv=e.adv||{},function(e){if("onAdvClose"in e&&"function"!=typeof e.onAdvClose)throw new Error('"onAdvClose" must be a function')}(e.adv)}(e),function(e){if("screen"in e&&"object"!=typeof e.screen)throw new Error("Wrong screen options type");let t=e.screen||{};t=function(e){"fullscreen"in e?function(e){if("boolean"!=typeof e)throw new Error("Wrong fullscreen value")}(e.fullscreen):e.fullscreen=!ir.isDesktop();return e}(t),t=function(e){if("orientation"in e){const{orientation:t}=e;"string"==typeof t&&(e.orientation={value:t,lock:!0}),function(e){if("object"!=typeof e)throw new Error("Wrong orientation value");if(![null,"portrait","landscape"].includes(e.value))throw new Error(`Wrong orientation value ("${e.value}")`);if("lock"in e){if("boolean"!=typeof e.lock)throw new Error(`Wrong orientation lock value ("${e.lock}")`)}else e.lock=!0}(e.orientation)}else e.orientation={value:null,lock:!0};return e}(t),e.screen=t}(e),e}(Pr(e,t))}function kr(){return new Promise(((e,t)=>{p.Z.postToParent({type:"options",action:"get"}).then((t=>{let{data:r}=t;e(r)})).catch((e=>{t(e)}))}))}const Ir=function(){return bt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},Rr={AVATAR:"avatar",NAME:"public_name"},xr="personal_info";Object.keys(Rr).map((e=>Rr[e]));var Lr;!function(e){e.ALLOW="allow",e.FORBID="forbid",e.NOT_SET="not_set"}(Lr||(Lr={}));class Dr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;this._scopePermissions=e,this._requestedScopes=this._validateRequestedScopes(t)}propogateClicks(e){[E.NL.Up,E.NL.Down,E.NL.Left,E.NL.Right].indexOf(e.code)>-1&&p.Z.postToParent({type:"scopes",action:"key-pressed",data:"Space"===e.code?"Enter":e.code})}show(){return new Promise(((e,t)=>{p.Z.postToParent({type:"scopes",action:"open-scopes-dialog"}).then((t=>{let{data:r}=t;e(r.result)})).catch(t),document.addEventListener("keydown",this.propogateClicks,{passive:!0})}))}isNeedToAskUser(){return[Rr.AVATAR,Rr.NAME].some((e=>this._requestedScopes.includes(e)&&this._scopePermissions[e]===Lr.NOT_SET))}_validateRequestedScopes(e){let t=[];t=Array.isArray(e)?Array.from(e):void 0===e||!0===e?[xr]:[];const r=t.indexOf(xr);return-1!==r&&t.splice(r,1,Rr.AVATAR,Rr.NAME),t}}const Nr=class{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}};const Mr=class{constructor(){this.promiseWrappers=Object.create(null)}getKey(e){return JSON.stringify(e)}getFor(e){return this.promiseWrappers[this.getKey(e)]}setFor(e,t){t?this.promiseWrappers[this.getKey(e)]=t:delete this.promiseWrappers[this.getKey(e)]}clear(){this.promiseWrappers=Object.create(null)}},Ur=C("PlayerProxy"),Gr=5*pe;const Fr=new Mr;function Br(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=Fr.getFor(e);if(r&&!1!==t)return r.promise;const n=new Nr;return!1!==t&&(Fr.setFor(e,n),window.setTimeout((()=>{Fr.setFor(e,void 0)}),Gr)),p.Z.postToParent({type:"player",action:"fetch",data:{config:e}}).then((r=>{let{data:o}=r;const{data:a,signature:i}=o,s=function(e,t,r){const n=new Ft(t,e);return Et(n,r),n}(e,a,i);if("lite"===s.getMode())n.resolve(s);else{const r=new Dr(a.scopePermissions,e.scopes);t&&r.isNeedToAskUser()?r.show().then((()=>Br(e,!1))).catch((()=>s)).then((e=>n.resolve(e))):n.resolve(s)}})).catch((t=>{n.reject(t),Fr.setFor(e,void 0)})),n.promise}function Yr(){return Br(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},!0)}function Hr(e){var t;e&&(e.focus(),null===(t=e.contentWindow)||void 0===t||t.focus(),e.onload=function(){var t;null===(t=e.contentWindow)||void 0===t||t.focus()})}p.Z.onExternalMessage("auth",(e=>{["auth-dialog-cancel","auth-dialog-success","changed"].includes(e.data.action)&&(Ur("Clear getPlayer promises."),Fr.clear())}));class jr{constructor(){this.onMessage=e=>{const{action:t}=e.data;"fullscreenchange"===t?document.dispatchEvent(new Event("fullscreenchange")):"iframe-focus"===t&&this.iframeFocus()},this._status="off",this.overrideBrowserFullscreenElement(),this.initMessaging(),this.updateStatus()}get STATUS_ON(){return"on"}get STATUS_OFF(){return"off"}get status(){return this._status}request(){return p.Z.postToParent({type:"screen-manager",action:"request-fullscreen"})}exit(){return p.Z.postToParent({type:"screen-manager",action:"exit-fullscreen"})}toggle(){return p.Z.postToParent({type:"screen-manager",action:"toggle-fullscreen"})}iframeFocus(){Hr(document.querySelector("iframe"))}updateStatus(){p.Z.postToParent({type:"screen-manager",action:"get-state"}).then((e=>{const{isFullscreen:t}=e.data;this._status=t?"on":"off"}))}overrideBrowserFullscreenElement(){try{Object.getOwnPropertyDescriptor(document,"fullscreenElement")||Object.defineProperty(document,"fullscreenElement",{enumerable:!1,configurable:!0,get:()=>this.status===this.STATUS_ON?document.documentElement:null})}catch(e){(0,u.fF)(e)}}initMessaging(){p.Z.onExternalMessage("screen-manager",this.onMessage)}}class Kr{constructor(){this.fullscreen=new jr}}var Wr;!function(e){e.EXIT="EXIT",e.HISTORY_BACK="HISTORY_BACK"}(Wr||(Wr={}));const $r={[Wr.EXIT]:!0};function Vr(){const e={[Wr.HISTORY_BACK]:[]};function t(t){const r=e[t];return r||console.warn(`Yandex SDK Event ${t} is not in supported`),r||[]}function r(e){p.Z.postToParent({type:"sdk-internal-event",action:"listeners-change",data:{event:e,count:t(e).length}})}return p.Z.onExternalMessage("sdk-event",(r=>{const n=r.data.action;n in e&&t(n).forEach((e=>{try{e()}catch(e){(0,u.fF)(e)}}))})),function(n,o){return n in e?(function(e,n){t(e).push(n),r(e)}(n,o),()=>{!function(e,n){const o=t(e),a=o.indexOf(n);-1!==a&&(o.splice(a,1),r(e))}(n,o)}):(console.warn("Yandex SDK Event",n,`is not in supported. Available events: ${Object.keys(e).join}`),()=>{})}}const Zr=["passport.ya","passport.yandex","an.yandex.ru","avatars.mds.yandex.net","/api/"];function zr(e){const t=Cache.prototype[e];Cache.prototype[e]=function(e,r){return"GET"!==e.method||0!==e.url.indexOf("https://")||(n=e.url,Zr.some((e=>-1!==n.indexOf(e))))?Promise.resolve():("ignoreSearch"in(r=r||{})||(r.ignoreSearch=!0),t.call(this,e,r));var n}}const Xr=class{static overrideCacheSearch(){("function"!=typeof Cache?(console.warn("Can not find `Cache` function"),0):"function"!=typeof Cache.prototype.match?(console.warn("Can not find `Cache.match` function"),0):"function"==typeof Cache.prototype.matchAll||(console.warn("Can not find `Cache.matchAll` function"),0))&&(zr("match"),zr("matchAll"))}};const qr=new class{canShowPrompt(){return new Promise((e=>{p.Z.postToParent({type:"shortcut-manager",action:"can-show-prompt"}).then((t=>{let{data:r}=t;e(r)})).catch((e=>{(0,u.fF)(e)}))}))}showPrompt(){return new Promise((e=>{p.Z.postToParent({type:"shortcut-manager",action:"show-prompt"}).then((t=>{let{data:r}=t;e(r)})).catch((e=>{(0,u.fF)(e)}))}))}};var Jr,Qr=r(125),en=r(124);!function(e){e.GOOGLE_TAG_MANAGER="google_tag_manger"}(Jr||(Jr={}));const tn=C("PixelManager");const rn=new class{constructor(){this.pixelStorage={}}get pixelsToInit(){var e,t,r;if("undefined"==typeof window)return[];let n="https://yastatic.net/s3/games-static/static-data/pixels/google-tag-manager.html";return(0,en.jX)(null!==(r=null===(t=null===(e=window.appData)||void 0===e?void 0:e.abt)||void 0===t?void 0:t.flags)&&void 0!==r?r:{})&&(n="https://statics.games-storage-aws.yandex.net/statics/pixels/google-tag-manager.html"),this.pixelsOrigin=new URL(n).origin,[{frameURL:n,pixelName:Jr.GOOGLE_TAG_MANAGER,sendPixelEventFunc:this.sendGoogleTagMangerEvent.bind(this)}]}init(){window.appData.isWorldWide&&this.pixelsToInit.forEach((e=>{const{frameURL:t,pixelName:r,sendPixelEventFunc:n}=e;this.createPixelIframe(t,r,n)}))}sendEvent(e,t){"string"==typeof e?Object.entries(this.pixelStorage).forEach((r=>{let[n,o]=r;o.isError||(o.isLoaded?(o.sendEventFunc(e,t),tn(`Send ${n} goal ${e}`)):o.eventsQueued.push({goal:e,params:t}))})):tn("Wrong goal",e)}sendGoogleTagMangerEvent(e,t){var r;"string"==typeof e&&(null===(r=this.pixelStorage[Jr.GOOGLE_TAG_MANAGER].pixelFrame.contentWindow)||void 0===r||r.postMessage({goal:e,params:t},this.pixelsOrigin))}sendAllEventFromQueue(e){const t=this.pixelStorage[e];t&&!t.isError&&t.isLoaded&&(t.eventsQueued.forEach((e=>t.sendEventFunc(e.goal,e.params))),t.eventsQueued=[])}initPixelIframe(e,t,r){e.src=t,e.style.display="none",e.onload=()=>{this.pixelStorage[r].isLoaded=!0,this.pixelStorage[r].isError=!1,this.sendAllEventFromQueue(r)},e.onerror=()=>{this.pixelStorage[r].isError=!0,this.pixelStorage[r].isLoaded=!1,this.pixelStorage[r].eventsQueued=[]},document.body.appendChild(e)}createPixelIframe(e,t,r){var n,o;const a=document.createElement("iframe"),i=(0,en.ki)((null===(n=window.appData.abt)||void 0===n?void 0:n.flags)||{}),s=(0,en.ZD)((null===(o=window.appData.abt)||void 0===o?void 0:o.flags)||{});this.pixelStorage[t]={eventsQueued:[],isError:!1,isLoaded:!1,pixelFrame:a,sendEventFunc:r},(0,Qr.EE)((()=>{setTimeout((()=>{this.initPixelIframe(a,e,t)}),i)}),s)}},nn=rn;var on=r(126),an=r(128);const sn="undefined"!=typeof window;var cn;function dn(e,t,r){e===cn.reachGoal&&(window.dataLayer||(window.dataLayer=[]),function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];window.dataLayer.push(arguments)}("event",t,r))}function ln(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;var o;"string"==typeof t&&(dn(e,t,r),nn.sendEvent(t,r),n&&(null===(o=window.clickdaemonLog)||void 0===o||o.call(window,t,r)))}function un(e,t,r){const{withClickDaemon:n}=r;let o={},a={};for(var i=arguments.length,s=new Array(i>3?i-3:0),c=3;c<i;c++)s[c-3]=arguments[c];s[0]&&"object"==typeof s[0]?[o]=s:s[1]&&"object"==typeof s[1]&&([,o]=s,[,a]=s),o.appVersion||(o.appVersion="build1681287385",a.appVersion="build1681287385"),!o.service&&window.clientMetadata.serviceName&&(o.service=window.clientMetadata.serviceName),!o.platform_id&&window.clientMetadata.platform&&(o.platform_id=window.clientMetadata.platform),window.ym?(window.ym(e,t,...s),ln(t,s[0],a,n)):window[`yaCounter${e}`]?(window[`yaCounter${e}`][t](...s),ln(t,s[0],a,n)):pn()}function pn(){var e,t;const r=new Error("Cannot send metrika");(0,on.uh)()?(0,on.H)({block:an.W.METRIKA,level:null===(t=null===(e=window.Ya)||void 0===e?void 0:e.Rum)||void 0===t?void 0:t.ERROR_LEVEL.WARN},r):console.error(r)}function _n(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];const{shouldMetrikaWork:a=!0}=t;if(sn&&a){const r=window.yandex_metrika_callbacks2,{metrika:{counterId:o}}=window.appData||window.gameTokAppData;window.ym||window[`yaCounter${o}`]?un(o,e,t,...n):r?r.push((()=>{un(o,e,t,...n)})):pn()}return Promise.resolve()}!function(e){e.hit="hit",e.params="params",e.reachGoal="reachGoal"}(cn||(cn={}));_n.bind(null,cn.hit),_n.bind(null,cn.params),_n.bind(null,cn.reachGoal);function mn(e){window.setTimeout((()=>{var t,r,n,o;const a={borrowParams:{[`tmpPlayTime${e}`]:{appVersion:window.APP_VERSION}}},i=new Image,s=(null===(r=null===(t=window.YandexGamesSDKEnvironment)||void 0===t?void 0:t.i18n)||void 0===r?void 0:r.tld)||"ru",c=function(e){return e===F.U_.PLAYHOP?A.playhop:A.yandex}(null===(o=null===(n=window.YandexGamesSDKEnvironment)||void 0===n?void 0:n.data)||void 0===o?void 0:o.secondDomain);i.src=`https://mc.yandex.${s}/watch/${c}?page-url=${encodeURIComponent(window.location.href)}&page-ref=${encodeURIComponent(document.referrer)}&charset=utf-8&site-info=${encodeURIComponent(JSON.stringify(a))}`}),1e3*e)}const hn=function(){mn(5),mn(60),mn(900)};var gn=r(135);function fn(){return new Promise((e=>{if("loading"===document.readyState){const t=r=>{"loading"!==r.target.readyState&&(r.target.removeEventListener("readystatechange",t),e())};document.addEventListener("readystatechange",t)}else e()}))}var vn;!function(e){e.READY_FRAME="longtask_frame_ready",e.LONGTASK="longtask"}(vn||(vn={}));let yn=Promise.resolve();yn=function(e){let t=[[i.LEGACY,Boolean(Array.prototype.at)],[i.INTERSECTION_OBSERVER,Boolean("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)],[i.SMOOTH_SCROLL,Boolean("scrollBehavior"in document.documentElement.style)]].filter((e=>{let[,t]=e;return!t}));return Promise.all(t.map((t=>{let[r]=t;return d({id:r,src:l(e,r),parentElement:document.head})})))}("//yastatic.net/s3/games-static/stardust/games/v1681287385/build/"),yn=yn.then((()=>{_e&&(!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===e&&(e=window),["testing","prestable","production"].includes("production")&&!P&&(0,Be.gn)()&&(e.console=Object.assign(Object.assign({},console),{log:()=>{},error:()=>{},info:()=>{},debug:()=>{},warn:()=>{},trace:()=>{},dir:()=>{},dirxml:()=>{},group:()=>{},groupEnd:()=>{},time:()=>{},timeEnd:()=>{},assert:()=>{},profile:()=>{}}))}(),window.alert=e=>console.warn("Overridden alert: "+e)),(()=>{if(window.top!==window)return;if(-1===window.location.hostname.indexOf("games.s3.yandex.net")&&-1===window.location.hostname.indexOf("games-storage.yandex.net")&&-1===window.location.hostname.indexOf("games-storage-aws.yandex.net")&&-1===window.location.hostname.indexOf("games-storage-awst.yandex.net"))return;const e=(0,ae.rh)();if(!e)return;const{search:t,hash:r,hostname:n}=window.location;let o;o=-1===n.indexOf("games.s3.yandex.net")?`https://yandex.com/games/app/${e}${t}${r}`:`https://${B(window.location.hostname)?"ya":"yandex"}.ru/games/app/${e}${t}${r}`,window.top.location.replace(o)})(),Or()}));const En=C("sdkv2");let wn;En("APP_VERSION","1681287385");class An{constructor(e){var t;e=Cr(e),this.EVENTS={EXIT:Wr.EXIT,HISTORY_BACK:Wr.HISTORY_BACK},this.dispatchEvent=function(e,t){return new Promise(((r,n)=>{if(!(e in $r)){const t=`Yandex SDK Event ${e} is not in supported.`;return console.warn(t),void n(new Error(t))}const o={action:e,type:"sdk-event"};if(void 0!==t)try{o.data={detail:JSON.stringify(t)}}catch(e){return console.warn(e),void n(new Error('Wrong "detail" argument'))}p.Z.postToParent(o).then((()=>{r(!0)})).catch((e=>{n(e)}))}))},this.onEvent=Vr(),this.adv=new Ae(e),this.auth=Se,this.clipboard=Jt,this.deviceInfo=ir,this.environment=dr,this.feedback=br,this.isAvailableMethod=(t=this,e=>p.Z.postToParent({type:"auth",action:"has-auth"}).then((r=>{let{data:n}=r;const{hasAuth:o}=n;if(!o&&function(e){return["feedback.requestReview","leaderboards.getLeaderboardPlayerEntry","leaderboards.setLeaderboardScore","player.getIDsPerGame"].includes(e)}(e))return!1;const a={leaderboards:qe,payments:At,player:Ft,storage:zt.getCustomLocalStorage()};if(a[e])return!1;const i=e.split(".");let s=Object.assign(Object.assign({},a),t);for(let e=0;e<i.length;e++){const t=s[i[e]];if(!t)return!1;if(e===i.length-1)return"function"==typeof t;if(!qt(t))return!1;s=qt(t.prototype)?t.prototype:t}return!1}))),this.shortcut=qr,this.getLeaderboards=Je,this.getPayments=Ir,this.getPlayer=Yr,this.getStorage=Xt,this.notifications=Sr,this.screen=new Kr,this.features=new wr(e.features),this.yandexApp={enabled:z}}}yn=yn.then((()=>{window.loadEnvironmentPromise=window.loadEnvironmentPromise||new Promise(((e,t)=>{p.Z.postToParent({type:"environment",action:"get"}).then((t=>{let{data:r}=t;e(r)})).catch((e=>{t(e)}))})).then((e=>{window.YandexGamesSDKEnvironment=e})),function(e){const t=Fe(e,2e3);["click","keydown","keyup","mousedown","mouseenter","mouseleave","mouseup","pointerup","touchcancel","touchend","touchmove","touchstart"].forEach((e=>document.addEventListener(e,t,{passive:!0,capture:!0})))}((()=>p.Z.postToParent({type:"user-action"})))}));class bn{constructor(){throw new Error("Please, use `YaGames.init` instead.")}static longtaskObserver(){var e;const t="longtask";if("undefined"!=typeof PerformanceObserver&&(null===(e=PerformanceObserver.supportedEntryTypes)||void 0===e?void 0:e.includes(t))){let e;const r=()=>{clearTimeout(e),e=setTimeout((()=>{"complete"===document.readyState?n.disconnect():r()}),gn.Tc)},n=new PerformanceObserver((e=>{e.getEntries().forEach((()=>{p.Z.postToParent({type:vn.LONGTASK}),r()}))}));n.observe({entryTypes:[t]})}"complete"===document.readyState?p.Z.postToParent({type:vn.READY_FRAME}):window.addEventListener("load",(()=>{p.Z.postToParent({type:vn.READY_FRAME})}))}static init(e){return(0,s.mG)(this,void 0,void 0,(function*(){return wn?(console.warn("YaGames was initialized"),wn):(this.longtaskObserver(),En("Start initialization"),yield yn,wn=new Promise(((t,r)=>{const n=n=>{try{e=Cr(n,e),fn().then((()=>{const r=new An(e);Oe.hasAuth()?r.getPlayer({scopes:!1}).then((()=>t(r))).catch((()=>t(r))):t(r)}))}catch(e){(0,u.fF)(e),r(e)}};window.loadEnvironmentPromise.then((()=>{kr().then(n).catch((e=>{console.warn(`Options load failed with error ${e}`),n()}))})).catch((e=>{(0,u.fF)(e),kr().then(n).catch((e=>{console.warn(`Options load failed with error ${e}`),n()}))})),setTimeout((()=>{if("complete"===document.readyState)p.Z.postToParent({type:"game-is-unity-flag",data:{isUnityGame:"createUnityInstance"in window}});else{const e=()=>{p.Z.postToParent({type:"game-is-unity-flag",data:{isUnityGame:"createUnityInstance"in window}}),window.removeEventListener("load",e)};window.addEventListener("load",e)}}),10*ue)})),wn.then((()=>En("Initialized"))),wn)}))}}if(bn.deviceInfo=ir,window.YaGames){const e='YaGames is already defined. Please, check double <script src="https://ya.ru/games/sdk/v2"> on the page.';(0,ae.mv)()&&window.parent.postMessage({source:"YandexGamesSDK",type:"alert",message:e},"*"),(0,u.Ts)(new Error(e))}else{window.parent!==window&&window.parent.postMessage({source:"YandexGamesSDK",type:"sdk-bundle-start",messageId:`${Date.now()}-${Math.random()}`,data:{time:Date.now(),sdkVersion:"v2",sdkBundle:"1681287385"}},"*");try{zt.setup()}catch(e){(0,u.fF)(e)}window.top!==window&&fn().then(_),Hr(document.querySelector("iframe")),Xr.overrideCacheSearch(),hn()}window.YaGames=bn;const On=bn})(),YaGames=n.default})();
//# sourceMappingURL=https://s3.mdst.yandex.net/games/source-maps/v1681287385/sdk/v2.js.map

    </script>






</head>
<body class="dark">
<div id="unity-container" class="unity-desktop">
    <canvas id="unity-canvas"></canvas>
</div>
<div id="loading-cover" style="display:none;">
    <div id="unity-loading-bar">
        <div id="unity-logo"><img src="logo.png"></div>
        <div id="unity-progress-bar-empty" style="display: none;">
            <div id="unity-progress-bar-full"></div>
        </div>
        <div class="spinner"></div>
    </div>
</div>





<script>
    const hideFullScreenButton = "";
    const buildUrl = "Build";
    const loaderUrl = buildUrl + "/BankRobbery2.loader.js";
    const config = {
        dataUrl: buildUrl + "/BankRobbery2.data.unityweb",
        frameworkUrl: buildUrl + "/BankRobbery2.framework.js.unityweb",
        codeUrl: buildUrl + "/BankRobbery2.wasm.unityweb",
        streamingAssetsUrl: "StreamingAssets",
        companyName: "JustAlien",
        productName: "BankRobbery2",
        productVersion: "1.0",
    };

    const container = document.querySelector("#unity-container");
    const canvas = document.querySelector("#unity-canvas");
    const loadingCover = document.querySelector("#loading-cover");
    const progressBarEmpty = document.querySelector("#unity-progress-bar-empty");
    const progressBarFull = document.querySelector("#unity-progress-bar-full");
    const spinner = document.querySelector('.spinner');

    const canFullscreen = (function () {
        for (const key of [
            'exitFullscreen',
            'webkitExitFullscreen',
            'webkitCancelFullScreen',
            'mozCancelFullScreen',
            'msExitFullscreen',
        ]) {
            if (key in document) {
                return true;
            }
        }
        return false;
    }());

    if (/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)) {
        container.className = "unity-mobile";
    }

    //#if BACKGROUND_FILENAME
    //canvas.style.background = "url('" + buildUrl + "/') center / cover";
    //#endif

    canvas.style.background = "url('background.png') center / cover";
    loadingCover.style.display = "";

    let player;
    let leaderboard;
    let myGameInstance = null;
    let payments = null;
    let promptCanShow = false;
    let reviewCanShow = false;
    let initSDK = false;
    let initGame = false;
    let photoSizeForInit;
    let scopesForInit;

    const script = document.createElement("script");
    script.src = loaderUrl;
    script.onload = () => {
        createUnityInstance(canvas, config, (progress) => {
            spinner.style.display = "none";
            progressBarEmpty.style.display = "";
            progressBarFull.style.width = `${100 * progress}%`;
        }).then((unityInstance) => {
            myGameInstance = unityInstance;
            loadingCover.style.display = "none";
        }).catch((message) => {
            alert(message);
        });
    };

canvas.addEventListener("touchstart", () => {window.focus()});
canvas.addEventListener("pointerdown", () => {window.focus()});

    YaGames.init()
        .then(ysdk => {
            console.log('Init SDK');
            window.ysdk = ysdk;
            initSDK = true;
            InitPayments();

            try {
                ysdk.shortcut.canShowPrompt().then(prompt => {
                    if (prompt.canShow) {
                        promptCanShow = true;
                    }
                });
            } catch (e) {
                console.error('CRASH canShowPrompt: ', e.message);
            }

            try {
                ysdk.feedback.canReview().then(({ value, reason }) => {
                    if (value) {
                        reviewCanShow = true;
                    } else {
                        console.log('reviewCanShow = false', reason)
                    }
                })

                ysdk.shortcut.canShowPrompt().then(prompt => {
                    if (prompt.canShow) {
                        promptCanShow = true;
                    }
                });
            } catch (e) {
                console.error('CRASH canShowFeedback: ', e.message);
            }

            if (initGame == true) {
                AuthorizationCheck(photoSizeForInit, scopesForInit)
                FullscreenShow();
            }
            else {
                ysdk.adv.showFullscreenAdv();
            }
        });

    function AuthorizationCheck(photoSize, scopes) {
        console.log('Init GAME');
        initGame = true;
        photoSizeForInit = photoSize;
        scopesForInit = scopes;
        if (initSDK == true) {
            ysdk.features.LoadingAPI?.ready();
            InitPlayer(photoSize, scopes);
        }
    }

    function NotAuthorized() {
        try {
            console.log('Authorized failed');
            let authJson = {
                "playerAuth": "rejected",
                "playerName": "unauthorized",
                "playerId": "unauthorized",
                "playerPhoto": "null"
            };
            myGameInstance.SendMessage('YandexGame', 'SetAuthorization', JSON.stringify(authJson));
        } catch (e) {
            console.error('CRASH Not Authorized: ', e.message);
        }
    }

    function InitPlayer(photoSize, _scopes) {
        try {
            return ysdk.getPlayer({scopes: _scopes}).then(_player => {

                player = _player;

                let playerName = player.getName();
                let playerPhoto = player.getPhoto(photoSize);

                if (!_scopes) {
                    playerName = "anonymous";
                    playerPhoto = "null";
                }

                if (player.getMode() === 'lite') {

                    console.log('Not Authorized');
                    NotAuthorized();
                } else {
                    console.log('Authorized Ok');
                    let authJson = {
                        "playerAuth": "resolved",
                        "playerName": playerName,
                        "playerId": player.getUniqueID(),
                        "playerPhoto": playerPhoto
                    };
                    myGameInstance.SendMessage('YandexGame', 'SetAuthorization', JSON.stringify(authJson));
                    window.focus();
                }
            }).catch(e => {
                console.error('Authorized err: ', e.message);
                NotAuthorized();
            });
        } catch (e) {
            console.error('CRASH init Player: ', e.message);
            window.focus();
        }
    }

    function OpenAuthDialog(photoSize, scopes) {
        try {
            ysdk.auth.openAuthDialog().then(() => {
                InitPlayer(photoSize, scopes);
            }).catch(() => {
                AuthorizationCheck(photoSize, scopes);
            });
        } catch {
            console.log('CRASH Open Auth Dialog: ');
        }
    }

    function InitPayments() {
        try {
            ysdk.getPayments().then(_payments => {
                console.log('Purchases are available');
                payments = _payments;                
            }).catch(e => {
                console.log('Purchases are not available', e.message);
            })
        } catch (e) {
            console.error('CRASH Init Payments: ', e.message);
        }
    }

    function BuyPayments(id) {
        try {
            if (payments != null) {
                payments.purchase(id).then(purchase => {
                    console.log('Purchase Success');
                    myGameInstance.SendMessage('YandexGame', 'OnPurchaseSuccess', id);
                    window.focus();
                }).catch(e => {
                    console.error('Purchase Failed', e.message);
                    myGameInstance.SendMessage('YandexGame', 'OnPurchaseFailed', id);
                    window.focus();
                })
            } else {
                console.log('Payments == null');
            }
        } catch (e) {
            console.error('CRASH Buy Payments: ', e.message);
            window.focus();
        }
    }
    
    function GetPayments() {
        try {
            if (payments != null) {
                payments.getCatalog()
                    .then(products => {
                        let productID = [products.length];
                        let title = [products.length];
                        let description = [products.length];
                        let imageURI = [products.length];
                        let priceValue = [products.length];
                        let purchased = [products.length];
    
                        for (i = 0; i < products.length; i++) {
                            productID[i] = products[i].id;
                            title[i] = products[i].title;
                            description[i] = products[i].description;
                            imageURI[i] = products[i].imageURI;
                            priceValue[i] = products[i].priceValue;
                            purchased[i] = 0;
                        }
    
                        payments.getPurchases().then(purchases => {
                            for (i1 = 0; i1 < products.length; i1++) {
                                for (i2 = 0; i2 < purchases.length; i2++) {
                                    if (products[i1].id === purchases[i2].productID){
                                        purchased[i1]++;
                                    }
                                }
                            }
                        })
                            .then(() => {
                                var jsonPayments = {
                                    "id": productID,
                                    "title": title,
                                    "description": description,
                                    "imageURI": imageURI,
                                    "priceValue": priceValue,
                                    "purchased": purchased
                                };
                                myGameInstance.SendMessage('YandexGame', 'PaymentsEntries', JSON.stringify(jsonPayments));
                            })
                    });
            }
            else{
                console.log('Get Payments: payments == null');
            }
        } catch (e) {
            console.error('CRASH Get Payments: ', e.message);
        }
    }

    function DeletePurchase(id) {
        try {
            if (payments != null) {
                payments.getPurchases().then(purchases => {
                    for(i = 0; i < purchases.length; i++){
                        if (purchases[i].productID === id)
                            payments.consumePurchase(purchases[i].purchaseToken);
                    }
                });
            }
            else console.log('Delete Purchase: payments == null');
        } catch (e) {
            console.error('CRASH Delete Purchase: ', e.message);
        }
    }

    function DeleteAllPurchases() {
        try {
            if (payments != null) {
                payments.getPurchases().then(purchases => {
                    for(i = 0; i < purchases.length; i++){
                        payments.consumePurchase(purchases[i].purchaseToken);
                    }
                });
            }
            else console.log('Delete All Purchases: payments == null');
        } catch (e) {
            console.error('CRASH Delete All Purchases: ', e.message);
        }
    }

    function SaveCloud(jsonData, flush) {
        try {
            player.setData({
                saves: [jsonData],
            }, flush);
        } catch (e) {
            console.error('CRASH Save Cloud: ', e.message);
        }
    }

    function LoadCloud() {
        try {
            player.getData(["saves"]).then(data => {
                if (data.saves) {
                    myGameInstance.SendMessage('YandexGame', 'SetLoadSaves', JSON.stringify(data.saves));
                } else {
                    myGameInstance.SendMessage('YandexGame', 'SetLoadSaves', "noData");
                }
            }).catch(() => {
                console.error('getData Error!');
                myGameInstance.SendMessage('YandexGame', 'SetLoadSaves', "noData");
            });
        } catch (e) {
            console.error('CRASH Load saves Cloud: ', e.message);
            myGameInstance.SendMessage('YandexGame', 'SetLoadSaves', "noData");
        }
    }

    function InitLeaderboard() {
        try {
            ysdk.getLeaderboards().then(_lb => {
                leaderboard = _lb
                myGameInstance.SendMessage('YandexGame', 'InitializedLB');
            });
        } catch (e) {
            console.error('CRASH Init Leaderboard: ', e.message);
        }
    }

    function SetLeaderboardScores(_name, score) {
        try {
            ysdk.getLeaderboards()
                .then(leaderboard => {
                    leaderboard.setLeaderboardScore(_name, score);
                });
        } catch (e) {
            console.error('CRASH Set Leader board Scores: ', e.message);
        }
    }

    function GetLeaderboardScores(nameLB, maxPlayers, quantityTop, quantityAround, photoSize, auth) {
        if (auth) {
            try {
                ysdk.getLeaderboards()
                    .then(leaderboard => {
                        leaderboard.getLeaderboardEntries('' + nameLB, {
                            quantityTop: quantityTop,
                            includeUser: true,
                            quantityAround: quantityAround
                        })
                            .then(res => {
                                EntriesLB(res, nameLB, maxPlayers, photoSize);
                            });
                    });
            } catch (e) {
                console.error('CRASH Get Leaderboard Scores: ', e.message);
            }
        } else {
            try {
                ysdk.getLeaderboards()
                    .then(leaderboard => {
                        leaderboard.getLeaderboardEntries('' + nameLB, {quantityTop: quantityTop})
                            .then(res => {
                                EntriesLB(res, nameLB, maxPlayers, photoSize);
                            });
                    });
            } catch (e) {
                console.error('CRASH Get Leaderboard Scores: ', e.message);
            }
        }
    }

    function EntriesLB(res, nameLB, maxPlayers, photoSize) {
        let LeaderboardEntriesText = '';

        let playersCount;
        if (res.entries.length < maxPlayers) {
            playersCount = res.entries.length;
        } else {
            playersCount = maxPlayers;
        }

        let rank = [maxPlayers];
        let photo = [maxPlayers];
        let playersName = [maxPlayers];
        let scorePlayers = [maxPlayers];

        for (i = 0; i < playersCount; i++) {
            rank[i] = res.entries[i].rank;
            scorePlayers[i] = res.entries[i].score;

            if (photoSize === 'nonePhoto' || res.entries[i].player.scopePermissions.avatar !== "allow") {
                photo[i] = 'nonePhoto';
            } else {
                photo[i] = res.entries[i].player.getAvatarSrc(photoSize);
            }

            if (res.entries[i].player.scopePermissions.public_name !== "allow") {
                playersName[i] = "Anonymous";
            } else {
                playersName[i] = res.entries[i].player.publicName;
            }

            LeaderboardEntriesText += rank[i] + '. ' + playersName[i] + ": " + scorePlayers[i] + '\n';
        }

        if (playersCount === 0) {
            LeaderboardEntriesText = 'No data';
        }

        let jsonLB = {
            "nameLB": nameLB,
            "entries": LeaderboardEntriesText,
            "rank": rank,
            "photo": photo,
            "playersName": playersName,
            "scorePlayers": scorePlayers
        };
        myGameInstance.SendMessage('YandexGame', 'LeaderboardEntries', JSON.stringify(jsonLB));
    }

    function FullscreenShow() {
        try {
            window.ysdk.adv.showFullscreenAdv(
                {
                    callbacks: {
                        onOpen: () => {
                            myGameInstance.SendMessage('YandexGame', 'OpenFullscreen');
                        },
                        onClose: () => {
                            myGameInstance.SendMessage('YandexGame', 'CloseFullscreen');
                            window.focus();
                        }
                    }
                });
        } catch (e) {
            console.error('CRASH Fullscreen Show: ', e.message);
        }
    }

    function RewardedShow(id) {
        try {
            window.ysdk.adv.showRewardedVideo(
                {
                    callbacks:
                        {
                            onOpen: () => {
                                myGameInstance.SendMessage('YandexGame', 'OpenVideo');
                                console.log('Opened Video Ad. Id: ' + id);
                            },
                            onClose: () => {
                                myGameInstance.SendMessage('YandexGame', 'CloseVideo');
                                console.log('Closed Video Ad. Id: ' + id);
                                window.focus();
                            },
                            onRewarded: () => {
                                myGameInstance.SendMessage('YandexGame', 'RewardVideo', id);
                                console.log('Reward Video Ad. Id: ' + id);
                            },
                            onError: (err) => {
                                myGameInstance.SendMessage('YandexGame', 'ErrorVideo');
                                console.log('Error Video Ad. Id: ' + id, err);
                            }
                        }
                });
        } catch (e) {
            console.error('CRASH Rewarded Video Ad Show: ', e.message);
        }
    }

    function LanguageRequest() {
        try {
            myGameInstance.SendMessage('YandexGame', 'SetLanguage', ysdk.environment.i18n.lang);
        } catch (e) {
            console.error('CRASH Language Request: ', e.message);
        }
    }

    function RequestingEnvironmentData() {
        try {
            let jsonEnvir = {
                "language": ysdk.environment.i18n.lang,
                "domain": ysdk.environment.i18n.tld,
                "deviceType": ysdk.deviceInfo.type,
                "isMobile": ysdk.deviceInfo.isMobile(),
                "isDesktop": ysdk.deviceInfo.isDesktop(),
                "isTablet": ysdk.deviceInfo.isTablet(),
                "isTV": ysdk.deviceInfo.isTV(),
                "appID": ysdk.environment.app.id,
                "browserLang": ysdk.environment.browser.lang,
                "payload": ysdk.environment.payload,
                "promptCanShow": promptCanShow,
                "reviewCanShow": reviewCanShow
            };
            myGameInstance.SendMessage('YandexGame', 'SetEnvironmentData', JSON.stringify(jsonEnvir));
        } catch (e) {
            console.error('CRASH Requesting Environment Data: ', e.message);
        }
    }

    function Review() {
        try {
            ysdk.feedback.canReview()
                .then(({ value, reason }) => {
                    if (value) {
                        ysdk.feedback.requestReview().then(({feedbackSent}) => {
                            console.log('feedbackSent ', feedbackSent);
                            if (feedbackSent)
                                myGameInstance.SendMessage('YandexGame', 'ReviewSent', 'true');
                            else myGameInstance.SendMessage('YandexGame', 'ReviewSent', 'false');
                            window.focus();
                        })
                    }
                    else {
                        console.log('reviewCanShow = false', reason)
                        window.focus();
                    }
                })
        } catch (e) {
            console.error('CRASH Review: ', e.message);
            window.focus();
        }
    }

    function PromptShow() {
        try {
            ysdk.shortcut.showPrompt()
                .then(result => {
                    console.log('Shortcut created?:', result);
                    if (result.outcome === 'accepted') {
                        console.log('Prompt Success');
                        myGameInstance.SendMessage('YandexGame', 'OnPromptSuccess');
                    }
                    else {
                        myGameInstance.SendMessage('YandexGame', 'OnPromptFail');
                    }
                    window.focus();
                });
        } catch (e) {
            console.error('CRASH Prompt Show: ', e.message);
            window.focus();
        }
    }

    function StickyAdActivity(show) {
        try {
            ysdk.adv.getBannerAdvStatus().then(({ stickyAdvIsShowing , reason }) => {
                if (stickyAdvIsShowing) {
                    if (!show) {
                        ysdk.adv.hideBannerAdv();
                    }
                }
                else if(reason) {
                    console.log('Sticky ad are not shown. Reason:', reason);
                }
                else if (show) {
                    ysdk.adv.showBannerAdv();
                }
            })
        } catch (e) {
            console.error('CRASH Sticky Activity: ', e.message);
        }
    }

    function PaintRBT(rbt) {
        try {
            document.getElementById(rbt).style.background = '#ff0000';
        } catch (e) {
            console.error('CRASH Paint RBT: ', e.message);
        }
    }

    function StaticRBTDeactivate() {
    }

    document.body.appendChild(script);
</script>
</body>
<script src="../sitelock.js"></script>
</html>
